/* *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved. 
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0  
 
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, 
MERCHANTABLITY OR NON-INFRINGEMENT. 
 
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var TypeScript;(function(e){var t=function(){function t(){}return t.isArray=function(e){return Object.prototype.toString.apply(e,[])==="[object Array]"},t.sequenceEquals=function(e,t,n){if(e===t)return!0;if(e===null||t===null)return!1;if(e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(!n(e[r],t[r]))return!1;return!0},t.contains=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},t.groupBy=function(e,t){var n={};for(var r=0,i=e.length;r<i;r++){var s=e[r],o=t(s),u=n[o]||[];u.push(s),n[o]=u}return n},t.min=function(e,t){var n=t(e[0]);for(var r=1;r<e.length;r++){var i=t(e[r]);i<n&&(n=i)}return n},t.max=function(e,t){var n=t(e[0]);for(var r=1;r<e.length;r++){var i=t(e[r]);i>n&&(n=i)}return n},t.last=function(t){if(t.length===0)throw e.Errors.argumentOutOfRange("array");return t[t.length-1]},t.firstOrDefault=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i))return i}return null},t.sum=function(e,t){var n=0;for(var r=0,i=e.length;r<i;r++)n+=t(e[r]);return n},t.whereNotNull=function(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n];r!==null&&t.push(r)}return t},t.select=function(e,t){var n=[];for(var r=0;r<e.length;r++)n.push(t(e[r]));return n},t.where=function(e,t){var n=[];for(var r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},t.any=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return!0;return!1},t.all=function(e,t){for(var n=0,r=e.length;n<r;n++)if(!t(e[n]))return!1;return!0},t.binarySearch=function(e,t){var n=0,r=e.length-1;while(n<=r){var i=n+(r-n>>1),s=e[i];if(s===t)return i;s>t?r=i-1:n=i+1}return~n},t.createArray=function(e,t){var n=[];for(var r=0;r<e;r++)n.push(t);return n},t.grow=function(e,t,n){var r=t-e.length;for(var i=0;i<r;i++)e.push(n)},t.copy=function(e,t,n,r,i){for(var s=0;s<i;s++)n[r+s]=e[t+s]},t}();e.ArrayUtilities=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){e[e.Max31BitInteger=1073741823]="Max31BitInteger",e[e.Min31BitInteger=-1073741824]="Min31BitInteger"})(e.Constants||(e.Constants={}));var t=e.Constants})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.requires=function(e){if(!e)throw new Error("Contract violated. False expression.")},e.throwIfFalse=function(e){if(!e)throw new Error("Contract violated. False expression.")},e.throwIfNull=function(e){if(e===null)throw new Error("Contract violated. Null value.")},e}();e.Contract=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.assert=function(e,t){if(!e)throw new Error("Debug Failure. False expression: "+(t?t:""))},e}();e.Debug=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){e[e.Warning=0]="Warning",e[e.Error=1]="Error",e[e.Message=2]="Message",e[e.NoPrefix=3]="NoPrefix"})(e.DiagnosticCategory||(e.DiagnosticCategory={}));var t=e.DiagnosticCategory})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){e[e.error_TS_0__1=0]="error_TS_0__1",e[e.warning_TS_0__1=1]="warning_TS_0__1",e[e._0__NL__1_TB__2=2]="_0__NL__1_TB__2",e[e._0_TB__1=3]="_0_TB__1",e[e._other_diagnostics=4]="_other_diagnostics",e[e.Unrecognized_escape_sequence=5]="Unrecognized_escape_sequence",e[e.Unexpected_character_0=6]="Unexpected_character_0",e[e.Missing_closing_quote_character=7]="Missing_closing_quote_character",e[e.Identifier_expected=8]="Identifier_expected",e[e._0_keyword_expected=9]="_0_keyword_expected",e[e._0_expected=10]="_0_expected",e[e.Identifier_expected__0__is_a_keyword=11]="Identifier_expected__0__is_a_keyword",e[e.Automatic_semicolon_insertion_not_allowed=12]="Automatic_semicolon_insertion_not_allowed",e[e.Unexpected_token__0_expected=13]="Unexpected_token__0_expected",e[e.Trailing_separator_not_allowed=14]="Trailing_separator_not_allowed",e[e._StarSlash__expected=15]="_StarSlash__expected",e[e._public_or_private_modifier_must_precede__static_=16]="_public_or_private_modifier_must_precede__static_",e[e.Unexpected_token_=17]="Unexpected_token_",e[e.A_catch_clause_variable_cannot_have_a_type_annotation=18]="A_catch_clause_variable_cannot_have_a_type_annotation",e[e.Rest_parameter_must_be_last_in_list=19]="Rest_parameter_must_be_last_in_list",e[e.Parameter_cannot_have_question_mark_and_initializer=20]="Parameter_cannot_have_question_mark_and_initializer",e[e.Required_parameter_cannot_follow_optional_parameter=21]="Required_parameter_cannot_follow_optional_parameter",e[e.Index_signatures_cannot_have_rest_parameters=22]="Index_signatures_cannot_have_rest_parameters",e[e.Index_signature_parameter_cannot_have_accessibility_modifiers=23]="Index_signature_parameter_cannot_have_accessibility_modifiers",e[e.Index_signature_parameter_cannot_have_a_question_mark=24]="Index_signature_parameter_cannot_have_a_question_mark",e[e.Index_signature_parameter_cannot_have_an_initializer=25]="Index_signature_parameter_cannot_have_an_initializer",e[e.Index_signature_must_have_a_type_annotation=26]="Index_signature_must_have_a_type_annotation",e[e.Index_signature_parameter_must_have_a_type_annotation=27]="Index_signature_parameter_must_have_a_type_annotation",e[e.Index_signature_parameter_type_must_be__string__or__number_=28]="Index_signature_parameter_type_must_be__string__or__number_",e[e._extends__clause_already_seen=29]="_extends__clause_already_seen",e[e._extends__clause_must_precede__implements__clause=30]="_extends__clause_must_precede__implements__clause",e[e.Class_can_only_extend_single_type=31]="Class_can_only_extend_single_type",e[e._implements__clause_already_seen=32]="_implements__clause_already_seen",e[e.Accessibility_modifier_already_seen=33]="Accessibility_modifier_already_seen",e[e._0__modifier_must_precede__1__modifier=34]="_0__modifier_must_precede__1__modifier",e[e._0__modifier_already_seen=35]="_0__modifier_already_seen",e[e._0__modifier_cannot_appear_on_a_class_element=36]="_0__modifier_cannot_appear_on_a_class_element",e[e.Interface_declaration_cannot_have__implements__clause=37]="Interface_declaration_cannot_have__implements__clause",e[e._super__invocation_cannot_have_type_arguments=38]="_super__invocation_cannot_have_type_arguments",e[e.Non_ambient_modules_cannot_use_quoted_names=39]="Non_ambient_modules_cannot_use_quoted_names",e[e.Statements_are_not_allowed_in_ambient_contexts=40]="Statements_are_not_allowed_in_ambient_contexts",e[e.Implementations_are_not_allowed_in_ambient_contexts=41]="Implementations_are_not_allowed_in_ambient_contexts",e[e._declare__modifier_not_allowed_for_code_already_in_an_ambient_context=42]="_declare__modifier_not_allowed_for_code_already_in_an_ambient_context",e[e.Initializers_are_not_allowed_in_ambient_contexts=43]="Initializers_are_not_allowed_in_ambient_contexts",e[e.Overload_and_ambient_signatures_cannot_specify_parameter_properties=44]="Overload_and_ambient_signatures_cannot_specify_parameter_properties",e[e.Function_implementation_expected=45]="Function_implementation_expected",e[e.Constructor_implementation_expected=46]="Constructor_implementation_expected",e[e.Function_overload_name_must_be__0_=47]="Function_overload_name_must_be__0_",e[e._0__modifier_cannot_appear_on_a_module_element=48]="_0__modifier_cannot_appear_on_a_module_element",e[e._declare__modifier_cannot_appear_on_an_interface_declaration=49]="_declare__modifier_cannot_appear_on_an_interface_declaration",e[e._declare__modifier_required_for_top_level_element=50]="_declare__modifier_required_for_top_level_element",e[e._set__accessor_must_have_only_one_parameter=51]="_set__accessor_must_have_only_one_parameter",e[e._set__accessor_parameter_cannot_have_accessibility_modifier=52]="_set__accessor_parameter_cannot_have_accessibility_modifier",e[e._set__accessor_parameter_cannot_be_optional=53]="_set__accessor_parameter_cannot_be_optional",e[e._set__accessor_parameter_cannot_have_initializer=54]="_set__accessor_parameter_cannot_have_initializer",e[e._set__accessor_cannot_have_rest_parameter=55]="_set__accessor_cannot_have_rest_parameter",e[e._get__accessor_cannot_have_parameters=56]="_get__accessor_cannot_have_parameters",e[e.Rest_parameter_cannot_be_optional=57]="Rest_parameter_cannot_be_optional",e[e.Rest_parameter_cannot_have_initializer=58]="Rest_parameter_cannot_have_initializer",e[e.Modifiers_cannot_appear_here=59]="Modifiers_cannot_appear_here",e[e.Accessors_are_only_available_when_targeting_EcmaScript5_and_higher=60]="Accessors_are_only_available_when_targeting_EcmaScript5_and_higher",e[e.Class_name_cannot_be__0_=61]="Class_name_cannot_be__0_",e[e.Interface_name_cannot_be__0_=62]="Interface_name_cannot_be__0_",e[e.Enum_name_cannot_be__0_=63]="Enum_name_cannot_be__0_",e[e.Module_name_cannot_be__0_=64]="Module_name_cannot_be__0_",e[e.Enum_member_must_have_initializer=65]="Enum_member_must_have_initializer",e[e._module_______is_deprecated__Use__require_______instead=66]="_module_______is_deprecated__Use__require_______instead",e[e.Export_assignments_cannot_be_used_in_internal_modules=67]="Export_assignments_cannot_be_used_in_internal_modules",e[e.Export_assignment_not_allowed_in_module_with_exported_element=68]="Export_assignment_not_allowed_in_module_with_exported_element",e[e.Module_cannot_have_multiple_export_assignments=69]="Module_cannot_have_multiple_export_assignments",e[e._syntax_diagnostics=70]="_syntax_diagnostics",e[e.Duplicate_identifier__0_=71]="Duplicate_identifier__0_",e[e.The_name__0__does_not_exist_in_the_current_scope=72]="The_name__0__does_not_exist_in_the_current_scope",e[e.The_name__0__does_not_refer_to_a_value=73]="The_name__0__does_not_refer_to_a_value",e[e.Keyword__super__can_only_be_used_inside_a_class_instance_method=74]="Keyword__super__can_only_be_used_inside_a_class_instance_method",e[e.The_left_hand_side_of_an_assignment_expression_must_be_a_variable__property_or_indexer=75]="The_left_hand_side_of_an_assignment_expression_must_be_a_variable__property_or_indexer",e[e.Value_of_type__0__is_not_callable__Did_you_mean_to_include__new__=76]="Value_of_type__0__is_not_callable__Did_you_mean_to_include__new__",e[e.Value_of_type__0__is_not_callable=77]="Value_of_type__0__is_not_callable",e[e.Value_of_type__0__is_not_newable=78]="Value_of_type__0__is_not_newable",e[e.Value_of_type__0__is_not_indexable_by_type__1_=79]="Value_of_type__0__is_not_indexable_by_type__1_",e[e.Operator__0__cannot_be_applied_to_types__1__and__2_=80]="Operator__0__cannot_be_applied_to_types__1__and__2_",e[e.Operator__0__cannot_be_applied_to_types__1__and__2__3=81]="Operator__0__cannot_be_applied_to_types__1__and__2__3",e[e.Cannot_convert__0__to__1_=82]="Cannot_convert__0__to__1_",e[e.Cannot_convert__0__to__1__NL__2=83]="Cannot_convert__0__to__1__NL__2",e[e.Expected_var__class__interface__or_module=84]="Expected_var__class__interface__or_module",e[e.Operator__0__cannot_be_applied_to_type__1_=85]="Operator__0__cannot_be_applied_to_type__1_",e[e.Getter__0__already_declared=86]="Getter__0__already_declared",e[e.Setter__0__already_declared=87]="Setter__0__already_declared",e[e.Accessor_cannot_have_type_parameters=88]="Accessor_cannot_have_type_parameters",e[e.Exported_class__0__extends_private_class__1_=89]="Exported_class__0__extends_private_class__1_",e[e.Exported_class__0__implements_private_interface__1_=90]="Exported_class__0__implements_private_interface__1_",e[e.Exported_interface__0__extends_private_interface__1_=91]="Exported_interface__0__extends_private_interface__1_",e[e.Exported_class__0__extends_class_from_inaccessible_module__1_=92]="Exported_class__0__extends_class_from_inaccessible_module__1_",e[e.Exported_class__0__implements_interface_from_inaccessible_module__1_=93]="Exported_class__0__implements_interface_from_inaccessible_module__1_",e[e.Exported_interface__0__extends_interface_from_inaccessible_module__1_=94]="Exported_interface__0__extends_interface_from_inaccessible_module__1_",e[e.Public_static_property__0__of__exported_class_has_or_is_using_private_type__1_=95]="Public_static_property__0__of__exported_class_has_or_is_using_private_type__1_",e[e.Public_property__0__of__exported_class_has_or_is_using_private_type__1_=96]="Public_property__0__of__exported_class_has_or_is_using_private_type__1_",e[e.Property__0__of__exported_interface_has_or_is_using_private_type__1_=97]="Property__0__of__exported_interface_has_or_is_using_private_type__1_",e[e.Exported_variable__0__has_or_is_using_private_type__1_=98]="Exported_variable__0__has_or_is_using_private_type__1_",e[e.Public_static_property__0__of__exported_class_is_using_inaccessible_module__1_=99]="Public_static_property__0__of__exported_class_is_using_inaccessible_module__1_",e[e.Public_property__0__of__exported_class_is_using_inaccessible_module__1_=100]="Public_property__0__of__exported_class_is_using_inaccessible_module__1_",e[e.Property__0__of__exported_interface_is_using_inaccessible_module__1_=101]="Property__0__of__exported_interface_is_using_inaccessible_module__1_",e[e.Exported_variable__0__is_using_inaccessible_module__1_=102]="Exported_variable__0__is_using_inaccessible_module__1_",e[e.Parameter__0__of_constructor_from_exported_class_has_or_is_using_private_type__1_=103]="Parameter__0__of_constructor_from_exported_class_has_or_is_using_private_type__1_",e[e.Parameter__0__of_public_static_property_setter_from_exported_class_has_or_is_using_private_type__1_=104]="Parameter__0__of_public_static_property_setter_from_exported_class_has_or_is_using_private_type__1_",e[e.Parameter__0__of_public_property_setter_from_exported_class_has_or_is_using_private_type__1_=105]="Parameter__0__of_public_property_setter_from_exported_class_has_or_is_using_private_type__1_",e[e.Parameter__0__of_constructor_signature_from_exported_interface_has_or_is_using_private_type__1_=106]="Parameter__0__of_constructor_signature_from_exported_interface_has_or_is_using_private_type__1_",e[e.Parameter__0__of_call_signature_from_exported_interface_has_or_is_using_private_type__1_=107]="Parameter__0__of_call_signature_from_exported_interface_has_or_is_using_private_type__1_",e[e.Parameter__0__of_public_static_method_from_exported_class_has_or_is_using_private_type__1_=108]="Parameter__0__of_public_static_method_from_exported_class_has_or_is_using_private_type__1_",e[e.Parameter__0__of_public_method_from_exported_class_has_or_is_using_private_type__1_=109]="Parameter__0__of_public_method_from_exported_class_has_or_is_using_private_type__1_",e[e.Parameter__0__of_method_from_exported_interface_has_or_is_using_private_type__1_=110]="Parameter__0__of_method_from_exported_interface_has_or_is_using_private_type__1_",e[e.Parameter__0__of_exported_function_has_or_is_using_private_type__1_=111]="Parameter__0__of_exported_function_has_or_is_using_private_type__1_",e[e.Parameter__0__of_constructor_from_exported_class_is_using_inaccessible_module__1_=112]="Parameter__0__of_constructor_from_exported_class_is_using_inaccessible_module__1_",e[e.Parameter__0__of_public_static_property_setter_from_exported_class_is_using_inaccessible_module__1_=113]="Parameter__0__of_public_static_property_setter_from_exported_class_is_using_inaccessible_module__1_",e[e.Parameter__0__of_public_property_setter_from_exported_class_is_using_inaccessible_module__1_=114]="Parameter__0__of_public_property_setter_from_exported_class_is_using_inaccessible_module__1_",e[e.Parameter__0__of_constructor_signature_from_exported_interface_is_using_inaccessible_module__1_=115]="Parameter__0__of_constructor_signature_from_exported_interface_is_using_inaccessible_module__1_",e[e.Parameter__0__of_call_signature_from_exported_interface_is_using_inaccessible_module__1_=116]="Parameter__0__of_call_signature_from_exported_interface_is_using_inaccessible_module__1_",e[e.Parameter__0__of_public_static_method_from_exported_class_is_using_inaccessible_module__1_=117]="Parameter__0__of_public_static_method_from_exported_class_is_using_inaccessible_module__1_",e[e.Parameter__0__of_public_method_from_exported_class_is_using_inaccessible_module__1_=118]="Parameter__0__of_public_method_from_exported_class_is_using_inaccessible_module__1_",e[e.Parameter__0__of_method_from_exported_interface_is_using_inaccessible_module__1_=119]="Parameter__0__of_method_from_exported_interface_is_using_inaccessible_module__1_",e[e.Parameter__0__of_exported_function_is_using_inaccessible_module__1_=120]="Parameter__0__of_exported_function_is_using_inaccessible_module__1_",e[e.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_type__0_=121]="Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_type__0_",e[e.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_type__0_=122]="Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_type__0_",e[e.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_type__0_=123]="Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_type__0_",e[e.Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_type__0_=124]="Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_type__0_",e[e.Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_type__0_=125]="Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_type__0_",e[e.Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_type__0_=126]="Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_type__0_",e[e.Return_type_of_public_method_from_exported_class_has_or_is_using_private_type__0_=127]="Return_type_of_public_method_from_exported_class_has_or_is_using_private_type__0_",e[e.Return_type_of_method_from_exported_interface_has_or_is_using_private_type__0_=128]="Return_type_of_method_from_exported_interface_has_or_is_using_private_type__0_",e[e.Return_type_of_exported_function_has_or_is_using_private_type__0_=129]="Return_type_of_exported_function_has_or_is_using_private_type__0_",e[e.Return_type_of_public_static_property_getter_from_exported_class_is_using_inaccessible_module__0_=130]="Return_type_of_public_static_property_getter_from_exported_class_is_using_inaccessible_module__0_",e[e.Return_type_of_public_property_getter_from_exported_class_is_using_inaccessible_module__0_=131]="Return_type_of_public_property_getter_from_exported_class_is_using_inaccessible_module__0_",e[e.Return_type_of_constructor_signature_from_exported_interface_is_using_inaccessible_module__0_=132]="Return_type_of_constructor_signature_from_exported_interface_is_using_inaccessible_module__0_",e[e.Return_type_of_call_signature_from_exported_interface_is_using_inaccessible_module__0_=133]="Return_type_of_call_signature_from_exported_interface_is_using_inaccessible_module__0_",e[e.Return_type_of_index_signature_from_exported_interface_is_using_inaccessible_module__0_=134]="Return_type_of_index_signature_from_exported_interface_is_using_inaccessible_module__0_",e[e.Return_type_of_public_static_method_from_exported_class_is_using_inaccessible_module__0_=135]="Return_type_of_public_static_method_from_exported_class_is_using_inaccessible_module__0_",e[e.Return_type_of_public_method_from_exported_class_is_using_inaccessible_module__0_=136]="Return_type_of_public_method_from_exported_class_is_using_inaccessible_module__0_",e[e.Return_type_of_method_from_exported_interface_is_using_inaccessible_module__0_=137]="Return_type_of_method_from_exported_interface_is_using_inaccessible_module__0_",e[e.Return_type_of_exported_function_is_using_inaccessible_module__0_=138]="Return_type_of_exported_function_is_using_inaccessible_module__0_",e[e._new_T____cannot_be_used_to_create_an_array__Use__new_Array_T_____instead=139]="_new_T____cannot_be_used_to_create_an_array__Use__new_Array_T_____instead",e[e.A_parameter_list_must_follow_a_generic_type_argument_list______expected=140]="A_parameter_list_must_follow_a_generic_type_argument_list______expected",e[e.Multiple_constructor_implementations_are_not_allowed=141]="Multiple_constructor_implementations_are_not_allowed",e[e.Unable_to_resolve_external_module__0_=142]="Unable_to_resolve_external_module__0_",e[e.Module_cannot_be_aliased_to_a_non_module_type=143]="Module_cannot_be_aliased_to_a_non_module_type",e[e.A_class_may_only_extend_another_class=144]="A_class_may_only_extend_another_class",e[e.A_class_may_only_implement_another_class_or_interface=145]="A_class_may_only_implement_another_class_or_interface",e[e.An_interface_may_only_extend_another_class_or_interface=146]="An_interface_may_only_extend_another_class_or_interface",e[e.An_interface_cannot_implement_another_type=147]="An_interface_cannot_implement_another_type",e[e.Unable_to_resolve_type=148]="Unable_to_resolve_type",e[e.Unable_to_resolve_type_of__0_=149]="Unable_to_resolve_type_of__0_",e[e.Unable_to_resolve_type_parameter_constraint=150]="Unable_to_resolve_type_parameter_constraint",e[e.Type_parameter_constraint_cannot_be_a_primitive_type=151]="Type_parameter_constraint_cannot_be_a_primitive_type",e[e.Supplied_parameters_do_not_match_any_signature_of_call_target=152]="Supplied_parameters_do_not_match_any_signature_of_call_target",e[e.Supplied_parameters_do_not_match_any_signature_of_call_target__NL__0=153]="Supplied_parameters_do_not_match_any_signature_of_call_target__NL__0",e[e.Invalid__new__expression=154]="Invalid__new__expression",e[e.Call_signatures_used_in_a__new__expression_must_have_a__void__return_type=155]="Call_signatures_used_in_a__new__expression_must_have_a__void__return_type",e[e.Could_not_select_overload_for__new__expression=156]="Could_not_select_overload_for__new__expression",e[e.Type__0__does_not_satisfy_the_constraint__1__for_type_parameter__2_=157]="Type__0__does_not_satisfy_the_constraint__1__for_type_parameter__2_",e[e.Could_not_select_overload_for__call__expression=158]="Could_not_select_overload_for__call__expression",e[e.Unable_to_invoke_type_with_no_call_signatures=159]="Unable_to_invoke_type_with_no_call_signatures",e[e.Calls_to__super__are_only_valid_inside_a_class=160]="Calls_to__super__are_only_valid_inside_a_class",e[e.Generic_type__0__requires_1_type_argument_s_=161]="Generic_type__0__requires_1_type_argument_s_",e[e.Type_of_conditional_expression_cannot_be_determined__Best_common_type_could_not_be_found_between__0__and__1_=162]="Type_of_conditional_expression_cannot_be_determined__Best_common_type_could_not_be_found_between__0__and__1_",e[e.Type_of_array_literal_cannot_be_determined__Best_common_type_could_not_be_found_for_array_elements=163]="Type_of_array_literal_cannot_be_determined__Best_common_type_could_not_be_found_for_array_elements",e[e.Could_not_find_enclosing_symbol_for_dotted_name__0_=164]="Could_not_find_enclosing_symbol_for_dotted_name__0_",e[e.The_property__0__does_not_exist_on_value_of_type__1__=165]="The_property__0__does_not_exist_on_value_of_type__1__",e[e.Could_not_find_symbol__0_=166]="Could_not_find_symbol__0_",e[e._get__and__set__accessor_must_have_the_same_type=167]="_get__and__set__accessor_must_have_the_same_type",e[e._this__cannot_be_referenced_in_current_location=168]="_this__cannot_be_referenced_in_current_location",e[e.Use_of_deprecated__bool__type__Use__boolean__instead=169]="Use_of_deprecated__bool__type__Use__boolean__instead",e[e.Class__0__is_recursively_referenced_as_a_base_type_of_itself=170]="Class__0__is_recursively_referenced_as_a_base_type_of_itself",e[e.Interface__0__is_recursively_referenced_as_a_base_type_of_itself=171]="Interface__0__is_recursively_referenced_as_a_base_type_of_itself",e[e._super__property_access_is_permitted_only_in_a_constructor__instance_member_function__or_instance_member_accessor_of_a_derived_class=172]="_super__property_access_is_permitted_only_in_a_constructor__instance_member_function__or_instance_member_accessor_of_a_derived_class",e[e._super__cannot_be_referenced_in_non_derived_classes=173]="_super__cannot_be_referenced_in_non_derived_classes",e[e.A__super__call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_intialized_properties_or_has_parameter_properties=174]="A__super__call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_intialized_properties_or_has_parameter_properties",e[e.Constructors_for_derived_classes_must_contain_a__super__call=175]="Constructors_for_derived_classes_must_contain_a__super__call",e[e.Super_calls_are_not_permitted_outside_constructors_or_in_local_functions_inside_constructors=176]="Super_calls_are_not_permitted_outside_constructors_or_in_local_functions_inside_constructors",e[e._0_1__is_inaccessible=177]="_0_1__is_inaccessible",e[e._this__cannot_be_referenced_within_module_bodies=178]="_this__cannot_be_referenced_within_module_bodies",e[e._this__must_only_be_used_inside_a_function_or_script_context=179]="_this__must_only_be_used_inside_a_function_or_script_context",e[e.Invalid__addition__expression___types_do_not_agree=180]="Invalid__addition__expression___types_do_not_agree",e[e.The_right_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type=181]="The_right_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type",e[e.The_left_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type=182]="The_left_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type",e[e.The_type_of_a_unary_arithmetic_operation_operand_must_be_of_type__any____number__or_an_enum_type=183]="The_type_of_a_unary_arithmetic_operation_operand_must_be_of_type__any____number__or_an_enum_type",e[e.Variable_declarations_for_for_in_expressions_cannot_contain_a_type_annotation=184]="Variable_declarations_for_for_in_expressions_cannot_contain_a_type_annotation",e[e.Variable_declarations_for_for_in_expressions_must_be_of_types__string__or__any_=185]="Variable_declarations_for_for_in_expressions_must_be_of_types__string__or__any_",e[e.The_right_operand_of_a_for_in_expression_must_be_of_type__any____an_object_type_or_a_type_parameter=186]="The_right_operand_of_a_for_in_expression_must_be_of_type__any____an_object_type_or_a_type_parameter",e[e.The_left_hand_side_of_an__in__expression_must_be_of_types__string__or__any_=187]="The_left_hand_side_of_an__in__expression_must_be_of_types__string__or__any_",e[e.The_right_hand_side_of_an__in__expression_must_be_of_type__any___an_object_type_or_a_type_parameter=188]="The_right_hand_side_of_an__in__expression_must_be_of_type__any___an_object_type_or_a_type_parameter",e[e.The_left_hand_side_of_an__instanceOf__expression_must_be_of_type__any___an_object_type_or_a_type_parameter=189]="The_left_hand_side_of_an__instanceOf__expression_must_be_of_type__any___an_object_type_or_a_type_parameter",e[e.The_right_hand_side_of_an__instanceOf__expression_must_be_of_type__any__or_a_subtype_of_the__Function__interface_type=190]="The_right_hand_side_of_an__instanceOf__expression_must_be_of_type__any__or_a_subtype_of_the__Function__interface_type",e[e.Setters_cannot_return_a_value=191]="Setters_cannot_return_a_value",e[e.Tried_to_set_variable_type_to_module_type__0__=192]="Tried_to_set_variable_type_to_module_type__0__",e[e.Tried_to_set_variable_type_to_uninitialized_module_type__0__=193]="Tried_to_set_variable_type_to_uninitialized_module_type__0__",e[e.Function__0__declared_a_non_void_return_type__but_has_no_return_expression=194]="Function__0__declared_a_non_void_return_type__but_has_no_return_expression",e[e.Getters_must_return_a_value=195]="Getters_must_return_a_value",e[e.Getter_and_setter_accessors_do_not_agree_in_visibility=196]="Getter_and_setter_accessors_do_not_agree_in_visibility",e[e.Invalid_left_hand_side_of_assignment_expression=197]="Invalid_left_hand_side_of_assignment_expression",e[e.Function_declared_a_non_void_return_type__but_has_no_return_expression=198]="Function_declared_a_non_void_return_type__but_has_no_return_expression",e[e.Cannot_resolve_return_type_reference=199]="Cannot_resolve_return_type_reference",e[e.Constructors_cannot_have_a_return_type_of__void_=200]="Constructors_cannot_have_a_return_type_of__void_",e[e.Subsequent_variable_declarations_must_have_the_same_type___Variable__0__must_be_of_type__1___but_here_has_type___2_=201]="Subsequent_variable_declarations_must_have_the_same_type___Variable__0__must_be_of_type__1___but_here_has_type___2_",e[e.All_symbols_within_a__with__block_will_be_resolved_to__any__=202]="All_symbols_within_a__with__block_will_be_resolved_to__any__",e[e.Import_declarations_in_an_internal_module_cannot_reference_an_external_module=203]="Import_declarations_in_an_internal_module_cannot_reference_an_external_module",e[e.Class__0__declares_interface__1__but_does_not_implement_it__NL__2=204]="Class__0__declares_interface__1__but_does_not_implement_it__NL__2",e[e.Class__0__declares_class__1__but_does_not_implement_it__NL__2=205]="Class__0__declares_class__1__but_does_not_implement_it__NL__2",e[e.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable__property_or_indexer=206]="The_operand_of_an_increment_or_decrement_operator_must_be_a_variable__property_or_indexer",e[e._this__cannot_be_referenced_in_initializers_in_a_class_body=207]="_this__cannot_be_referenced_in_initializers_in_a_class_body",e[e.Class__0__cannot_extend_class__1__NL__2=208]="Class__0__cannot_extend_class__1__NL__2",e[e.Interface__0__cannot_extend_class__1__NL__2=209]="Interface__0__cannot_extend_class__1__NL__2",e[e.Interface__0__cannot_extend_interface__1__NL__2=210]="Interface__0__cannot_extend_interface__1__NL__2",e[e.Duplicate_overload_signature_for__0_=211]="Duplicate_overload_signature_for__0_",e[e.Duplicate_constructor_overload_signature=212]="Duplicate_constructor_overload_signature",e[e.Duplicate_overload_call_signature=213]="Duplicate_overload_call_signature",e[e.Duplicate_overload_construct_signature=214]="Duplicate_overload_construct_signature",e[e.Overload_signature_is_not_compatible_with_function_definition=215]="Overload_signature_is_not_compatible_with_function_definition",e[e.Overload_signature_is_not_compatible_with_function_definition__NL__0=216]="Overload_signature_is_not_compatible_with_function_definition__NL__0",e[e.Overload_signatures_must_all_be_public_or_private=217]="Overload_signatures_must_all_be_public_or_private",e[e.Overload_signatures_must_all_be_exported_or_local=218]="Overload_signatures_must_all_be_exported_or_local",e[e.Overload_signatures_must_all_be_ambient_or_non_ambient=219]="Overload_signatures_must_all_be_ambient_or_non_ambient",e[e.Overload_signatures_must_all_be_optional_or_required=220]="Overload_signatures_must_all_be_optional_or_required",e[e.Specialized_overload_signature_is_not_subtype_of_any_non_specialized_signature=221]="Specialized_overload_signature_is_not_subtype_of_any_non_specialized_signature",e[e._this__cannot_be_referenced_in_constructor_arguments=222]="_this__cannot_be_referenced_in_constructor_arguments",e[e.Static_member_cannot_be_accessed_off_an_instance_variable=223]="Static_member_cannot_be_accessed_off_an_instance_variable",e[e.Instance_member_cannot_be_accessed_off_a_class=224]="Instance_member_cannot_be_accessed_off_a_class",e[e.Untyped_function_calls_may_not_accept_type_arguments=225]="Untyped_function_calls_may_not_accept_type_arguments",e[e.Non_generic_functions_may_not_accept_type_arguments=226]="Non_generic_functions_may_not_accept_type_arguments",e[e.A_generic_type_may_not_reference_itself_with_its_own_type_parameters=227]="A_generic_type_may_not_reference_itself_with_its_own_type_parameters",e[e.Static_methods_cannot_reference_class_type_parameters=228]="Static_methods_cannot_reference_class_type_parameters",e[e.Value_of_type__0__is_not_callable__Did_you_mean_to_include__new___=229]="Value_of_type__0__is_not_callable__Did_you_mean_to_include__new___",e[e.Rest_parameters_must_be_array_types=230]="Rest_parameters_must_be_array_types",e[e.Overload_signature_implementation_cannot_use_specialized_type=231]="Overload_signature_implementation_cannot_use_specialized_type",e[e.Export_assignments_may_only_be_used_in_External_modules=232
]="Export_assignments_may_only_be_used_in_External_modules",e[e.Export_assignments_may_only_be_made_with_acceptable_kinds=233]="Export_assignments_may_only_be_made_with_acceptable_kinds",e[e.Only_public_instance_methods_of_the_base_class_are_accessible_via_the_super_keyword=234]="Only_public_instance_methods_of_the_base_class_are_accessible_via_the_super_keyword",e[e.Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1__=235]="Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1__",e[e.Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1____NL__2=236]="Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1____NL__2",e[e.All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0__=237]="All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0__",e[e.All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0____NL__1=238]="All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0____NL__1",e[e.All_named_properties_must_be_subtypes_of_string_indexer_type___0__=239]="All_named_properties_must_be_subtypes_of_string_indexer_type___0__",e[e.All_named_properties_must_be_subtypes_of_string_indexer_type___0____NL__1=240]="All_named_properties_must_be_subtypes_of_string_indexer_type___0____NL__1",e[e.Generic_type_references_must_include_all_type_arguments=241]="Generic_type_references_must_include_all_type_arguments",e[e.Type__0__is_missing_property__1__from_type__2_=242]="Type__0__is_missing_property__1__from_type__2_",e[e.Types_of_property__0__of_types__1__and__2__are_incompatible=243]="Types_of_property__0__of_types__1__and__2__are_incompatible",e[e.Types_of_property__0__of_types__1__and__2__are_incompatible__NL__3=244]="Types_of_property__0__of_types__1__and__2__are_incompatible__NL__3",e[e.Property__0__defined_as_private_in_type__1__is_defined_as_public_in_type__2_=245]="Property__0__defined_as_private_in_type__1__is_defined_as_public_in_type__2_",e[e.Property__0__defined_as_public_in_type__1__is_defined_as_private_in_type__2_=246]="Property__0__defined_as_public_in_type__1__is_defined_as_private_in_type__2_",e[e.Types__0__and__1__define_property__2__as_private=247]="Types__0__and__1__define_property__2__as_private",e[e.Call_signatures_of_types__0__and__1__are_incompatible=248]="Call_signatures_of_types__0__and__1__are_incompatible",e[e.Call_signatures_of_types__0__and__1__are_incompatible__NL__2=249]="Call_signatures_of_types__0__and__1__are_incompatible__NL__2",e[e.Type__0__requires_a_call_signature__but_Type__1__lacks_one=250]="Type__0__requires_a_call_signature__but_Type__1__lacks_one",e[e.Construct_signatures_of_types__0__and__1__are_incompatible=251]="Construct_signatures_of_types__0__and__1__are_incompatible",e[e.Construct_signatures_of_types__0__and__1__are_incompatible__NL__2=252]="Construct_signatures_of_types__0__and__1__are_incompatible__NL__2",e[e.Type__0__requires_a_construct_signature__but_Type__1__lacks_one=253]="Type__0__requires_a_construct_signature__but_Type__1__lacks_one",e[e.Index_signatures_of_types__0__and__1__are_incompatible=254]="Index_signatures_of_types__0__and__1__are_incompatible",e[e.Index_signatures_of_types__0__and__1__are_incompatible__NL__2=255]="Index_signatures_of_types__0__and__1__are_incompatible__NL__2",e[e.Call_signature_expects__0__or_fewer_parameters=256]="Call_signature_expects__0__or_fewer_parameters",e[e.Could_not_apply_type__0__to_argument__1__which_is_of_type__2_=257]="Could_not_apply_type__0__to_argument__1__which_is_of_type__2_",e[e.Class__0__defines_instance_member_accessor__1___but_extended_class__2__defines_it_as_instance_member_function=258]="Class__0__defines_instance_member_accessor__1___but_extended_class__2__defines_it_as_instance_member_function",e[e.Class__0__defines_instance_member_property__1___but_extended_class__2__defines_it_as_instance_member_function=259]="Class__0__defines_instance_member_property__1___but_extended_class__2__defines_it_as_instance_member_function",e[e.Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_accessor=260]="Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_accessor",e[e.Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_property=261]="Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_property",e[e.Types_of_static_property__0__of_class__1__and_class__2__are_incompatible=262]="Types_of_static_property__0__of_class__1__and_class__2__are_incompatible",e[e.Types_of_static_property__0__of_class__1__and_class__2__are_incompatible__NL__3=263]="Types_of_static_property__0__of_class__1__and_class__2__are_incompatible__NL__3",e[e.Type_reference_cannot_refer_to_container__0_=264]="Type_reference_cannot_refer_to_container__0_",e[e.Type_reference_must_refer_to_type=265]="Type_reference_must_refer_to_type",e[e.Enums_with_multiple_declarations_must_provide_an_initializer_for_the_first_enum_element=266]="Enums_with_multiple_declarations_must_provide_an_initializer_for_the_first_enum_element",e[e._semantic_diagnostics=267]="_semantic_diagnostics",e[e.Current_host_does_not_support__w_atch_option=268]="Current_host_does_not_support__w_atch_option",e[e.ECMAScript_target_version__0__not_supported___Using_default__1__code_generation=269]="ECMAScript_target_version__0__not_supported___Using_default__1__code_generation",e[e.Module_code_generation__0__not_supported___Using_default__1__code_generation=270]="Module_code_generation__0__not_supported___Using_default__1__code_generation",e[e.Could_not_find_file___0_=271]="Could_not_find_file___0_",e[e.Unknown_extension_for_file___0__Only__ts_and_d_ts_extensions_are_allowed=272]="Unknown_extension_for_file___0__Only__ts_and_d_ts_extensions_are_allowed",e[e.A_file_cannot_have_a_reference_itself=273]="A_file_cannot_have_a_reference_itself",e[e.Cannot_resolve_referenced_file___0_=274]="Cannot_resolve_referenced_file___0_",e[e.Cannot_resolve_imported_file___0_=275]="Cannot_resolve_imported_file___0_",e[e.Cannot_find_the_common_subdirectory_path_for_the_input_files=276]="Cannot_find_the_common_subdirectory_path_for_the_input_files",e[e.Cannot_compile_dynamic_modules_when_emitting_into_single_file=277]="Cannot_compile_dynamic_modules_when_emitting_into_single_file",e[e.Emit_Error__0=278]="Emit_Error__0",e[e.Unsupported_encoding_for_file__0=279]="Unsupported_encoding_for_file__0"})(e.DiagnosticCode||(e.DiagnosticCode={}));var t=e.DiagnosticCode})(TypeScript||(TypeScript={}));var TypeScript;(function(e){e.diagnosticMessages={error_TS_0__1:{category:3,message:"error TS{0}: {1}",code:0},warning_TS_0__1:{category:3,message:"warning TS{0}: {1}",code:1},_0__NL__1_TB__2:{category:3,message:"{0}{NL}{{1}TB}{2}",code:21},_0_TB__1:{category:3,message:"{{0}TB}{1}",code:22},Unrecognized_escape_sequence:{category:1,message:"Unrecognized escape sequence.",code:1e3},Unexpected_character_0:{category:1,message:"Unexpected character {0}.",code:1001},Missing_closing_quote_character:{category:1,message:"Missing close quote character.",code:1002},Identifier_expected:{category:1,message:"Identifier expected.",code:1003},_0_keyword_expected:{category:1,message:"'{0}' keyword expected.",code:1004},_0_expected:{category:1,message:"'{0}' expected.",code:1005},Identifier_expected__0__is_a_keyword:{category:1,message:"Identifier expected; '{0}' is a keyword.",code:1006},Automatic_semicolon_insertion_not_allowed:{category:1,message:"Automatic semicolon insertion not allowed.",code:1007},Unexpected_token__0_expected:{category:1,message:"Unexpected token; '{0}' expected.",code:1008},Trailing_separator_not_allowed:{category:1,message:"Trailing separator not allowed.",code:1009},_StarSlash__expected:{category:1,message:"'*/' expected.",code:1010},_public_or_private_modifier_must_precede__static_:{category:1,message:"'public' or 'private' modifier must precede 'static'.",code:1011},Unexpected_token_:{category:1,message:"Unexpected token.",code:1012},A_catch_clause_variable_cannot_have_a_type_annotation:{category:1,message:"A catch clause variable cannot have a type annotation.",code:1013},Rest_parameter_must_be_last_in_list:{category:1,message:"Rest parameter must be last in list.",code:1014},Parameter_cannot_have_question_mark_and_initializer:{category:1,message:"Parameter cannot have question mark and initializer.",code:1015},Required_parameter_cannot_follow_optional_parameter:{category:1,message:"Required parameter cannot follow optional parameter.",code:1016},Index_signatures_cannot_have_rest_parameters:{category:1,message:"Index signatures cannot have rest parameters.",code:1017},Index_signature_parameter_cannot_have_accessibility_modifiers:{category:1,message:"Index signature parameter cannot have accessibility modifiers.",code:1018},Index_signature_parameter_cannot_have_a_question_mark:{category:1,message:"Index signature parameter cannot have a question mark.",code:1019},Index_signature_parameter_cannot_have_an_initializer:{category:1,message:"Index signature parameter cannot have an initializer.",code:1020},Index_signature_must_have_a_type_annotation:{category:1,message:"Index signature must have a type annotation.",code:1021},Index_signature_parameter_must_have_a_type_annotation:{category:1,message:"Index signature parameter must have a type annotation.",code:1022},Index_signature_parameter_type_must_be__string__or__number_:{category:1,message:"Index signature parameter type must be 'string' or 'number'.",code:1023},_extends__clause_already_seen:{category:1,message:"'extends' clause already seen.",code:1024},_extends__clause_must_precede__implements__clause:{category:1,message:"'extends' clause must precede 'implements' clause.",code:1025},Class_can_only_extend_single_type:{category:1,message:"Class can only extend single type.",code:1026},_implements__clause_already_seen:{category:1,message:"'implements' clause already seen.",code:1027},Accessibility_modifier_already_seen:{category:1,message:"Accessibility modifier already seen.",code:1028},_0__modifier_must_precede__1__modifier:{category:1,message:"'{0}' modifier must precede '{1}' modifier.",code:1029},_0__modifier_already_seen:{category:1,message:"'{0}' modifier already seen.",code:1030},_0__modifier_cannot_appear_on_a_class_element:{category:1,message:"'{0}' modifier cannot appear on a class element.",code:1031},Interface_declaration_cannot_have__implements__clause:{category:1,message:"Interface declaration cannot have 'implements' clause.",code:1032},_super__invocation_cannot_have_type_arguments:{category:1,message:"'super' invocation cannot have type arguments.",code:1034},Non_ambient_modules_cannot_use_quoted_names:{category:1,message:"Non ambient modules cannot use quoted names.",code:1035},Statements_are_not_allowed_in_ambient_contexts:{category:1,message:"Statements are not allowed in ambient contexts.",code:1036},Implementations_are_not_allowed_in_ambient_contexts:{category:1,message:"Implementations are not allowed in ambient contexts.",code:1037},_declare__modifier_not_allowed_for_code_already_in_an_ambient_context:{category:1,message:"'declare' modifier not allowed for code already in an ambient context.",code:1038},Initializers_are_not_allowed_in_ambient_contexts:{category:1,message:"Initializers are not allowed in ambient contexts.",code:1039},Overload_and_ambient_signatures_cannot_specify_parameter_properties:{category:1,message:"Overload and ambient signatures cannot specify parameter properties.",code:1040},Function_implementation_expected:{category:1,message:"Function implementation expected.",code:1041},Constructor_implementation_expected:{category:1,message:"Constructor implementation expected.",code:1042},Function_overload_name_must_be__0_:{category:1,message:"Function overload name must be '{0}'.",code:1043},_0__modifier_cannot_appear_on_a_module_element:{category:1,message:"'{0}' modifier cannot appear on a module element.",code:1044},_declare__modifier_cannot_appear_on_an_interface_declaration:{category:1,message:"'declare' modifier cannot appear on an interface declaration.",code:1045},_declare__modifier_required_for_top_level_element:{category:1,message:"'declare' modifier required for top level element.",code:1046},Rest_parameter_cannot_be_optional:{category:1,message:"Rest parameter cannot be optional.",code:1047},Rest_parameter_cannot_have_initializer:{category:1,message:"Rest parameter cannot have initializer.",code:1048},_set__accessor_must_have_only_one_parameter:{category:1,message:"'set' accessor must have one and only one parameter.",code:1049},_set__accessor_parameter_cannot_have_accessibility_modifier:{category:1,message:"'set' accessor parameter cannot have accessibility modifier.",code:1050},_set__accessor_parameter_cannot_be_optional:{category:1,message:"'set' accessor parameter cannot be optional.",code:1051},_set__accessor_parameter_cannot_have_initializer:{category:1,message:"'set' accessor parameter cannot have initializer.",code:1052},_set__accessor_cannot_have_rest_parameter:{category:1,message:"'set' accessor cannot have rest parameter.",code:1053},_get__accessor_cannot_have_parameters:{category:1,message:"'get' accessor cannot have parameters.",code:1054},Modifiers_cannot_appear_here:{category:1,message:"Modifiers cannot appear here.",code:1055},Accessors_are_only_available_when_targeting_EcmaScript5_and_higher:{category:1,message:"Accessors are only when targeting EcmaScript5 and higher.",code:1056},Class_name_cannot_be__0_:{category:1,message:"Class name cannot be '{0}'.",code:1057},Interface_name_cannot_be__0_:{category:1,message:"Interface name cannot be '{0}'.",code:1058},Enum_name_cannot_be__0_:{category:1,message:"Enum name cannot be '{0}'.",code:1059},Module_name_cannot_be__0_:{category:1,message:"Module name cannot be '{0}'.",code:1060},Enum_member_must_have_initializer:{category:1,message:"Enum member must have initializer.",code:1061},_module_______is_deprecated__Use__require_______instead:{category:0,message:"'module(...)' is deprecated. Use 'require(...)' instead.",code:1062},Export_assignments_cannot_be_used_in_internal_modules:{category:1,message:"Export assignments cannot be used in internal modules.",code:1063},Export_assignment_not_allowed_in_module_with_exported_element:{category:1,message:"Export assignment not allowed in module with exported element.",code:1064},Module_cannot_have_multiple_export_assignments:{category:1,message:"Module cannot have multiple export assignments.",code:1065},Duplicate_identifier__0_:{category:1,message:"Duplicate identifier '{0}'.",code:2e3},The_name__0__does_not_exist_in_the_current_scope:{category:1,message:"The name '{0}' does not exist in the current scope.",code:2001},The_name__0__does_not_refer_to_a_value:{category:1,message:"The name '{0}' does not refer to a value.",code:2002},Keyword__super__can_only_be_used_inside_a_class_instance_method:{category:1,message:"Keyword 'super' can only be used inside a class instance method.",code:2003},The_left_hand_side_of_an_assignment_expression_must_be_a_variable__property_or_indexer:{category:1,message:"The left-hand side of an assignment expression must be a variable, property or indexer.",code:2004},Value_of_type__0__is_not_callable__Did_you_mean_to_include__new__:{category:1,message:"Value of type '{0}' is not callable. Did you mean to include 'new'?",code:2005},Value_of_type__0__is_not_callable:{category:1,message:"Value of type '{0}' is not callable.",code:2006},Value_of_type__0__is_not_newable:{category:1,message:"Value of type '{0}' is not newable.",code:2007},Value_of_type__0__is_not_indexable_by_type__1_:{category:1,message:"Value of type '{0}' is not indexable by type '{1}'.",code:2008},Operator__0__cannot_be_applied_to_types__1__and__2_:{category:1,message:"Operator '{0}' cannot be applied to types '{1}' and '{2}'.",code:2009},Operator__0__cannot_be_applied_to_types__1__and__2__3:{category:1,message:"Operator '{0}' cannot be applied to types '{1}' and '{2}': {3}",code:2010},Cannot_convert__0__to__1_:{category:1,message:"Cannot convert '{0}' to '{1}'.",code:2011},Cannot_convert__0__to__1__NL__2:{category:1,message:"Cannot convert '{0}' to '{1}':{NL}{2}",code:2012},Expected_var__class__interface__or_module:{category:1,message:"Expected var, class, interface, or module.",code:2013},Operator__0__cannot_be_applied_to_type__1_:{category:1,message:"Operator '{0}' cannot be applied to type '{1}'.",code:2014},Getter__0__already_declared:{category:1,message:"Getter '{0}' already declared.",code:2015},Setter__0__already_declared:{category:1,message:"Setter '{0}' already declared.",code:2016},Accessor_cannot_have_type_parameters:{category:1,message:"Accessors cannot have type parameters.",code:2017},Exported_class__0__extends_private_class__1_:{category:1,message:"Exported class '{0}' extends private class '{1}'.",code:2018},Exported_class__0__implements_private_interface__1_:{category:1,message:"Exported class '{0}' implements private interface '{1}'.",code:2019},Exported_interface__0__extends_private_interface__1_:{category:1,message:"Exported interface '{0}' extends private interface '{1}'.",code:2020},Exported_class__0__extends_class_from_inaccessible_module__1_:{category:1,message:"Exported class '{0}' extends class from inaccessible module {1}.",code:2021},Exported_class__0__implements_interface_from_inaccessible_module__1_:{category:1,message:"Exported class '{0}' implements interface from inaccessible module {1}.",code:2022},Exported_interface__0__extends_interface_from_inaccessible_module__1_:{category:1,message:"Exported interface '{0}' extends interface from inaccessible module {1}.",code:2023},Public_static_property__0__of__exported_class_has_or_is_using_private_type__1_:{category:1,message:"Public static property '{0}' of exported class has or is using private type '{1}'.",code:2024},Public_property__0__of__exported_class_has_or_is_using_private_type__1_:{category:1,message:"Public property '{0}' of exported class has or is using private type '{1}'.",code:2025},Property__0__of__exported_interface_has_or_is_using_private_type__1_:{category:1,message:"Property '{0}' of exported interface has or is using private type '{1}'.",code:2026},Exported_variable__0__has_or_is_using_private_type__1_:{category:1,message:"Exported variable '{0}' has or is using private type '{1}'.",code:2027},Public_static_property__0__of__exported_class_is_using_inaccessible_module__1_:{category:1,message:"Public static property '{0}' of exported class is using inaccessible module {1}.",code:2028},Public_property__0__of__exported_class_is_using_inaccessible_module__1_:{category:1,message:"Public property '{0}' of exported class is using inaccessible module {1}.",code:2029},Property__0__of__exported_interface_is_using_inaccessible_module__1_:{category:1,message:"Property '{0}' of exported interface is using inaccessible module {1}.",code:2030},Exported_variable__0__is_using_inaccessible_module__1_:{category:1,message:"Exported variable '{0}' is using inaccessible module {1}.",code:2031},Parameter__0__of_constructor_from_exported_class_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of constructor from exported class has or is using private type '{1}'.",code:2032},Parameter__0__of_public_static_property_setter_from_exported_class_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of public static property setter from exported class has or is using private type '{1}'.",code:2033},Parameter__0__of_public_property_setter_from_exported_class_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of public property setter from exported class has or is using private type '{1}'.",code:2034},Parameter__0__of_constructor_signature_from_exported_interface_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of constructor signature from exported interface has or is using private type '{1}'.",code:2035},Parameter__0__of_call_signature_from_exported_interface_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of call signature from exported interface has or is using private type '{1}'.",code:2036},Parameter__0__of_public_static_method_from_exported_class_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of public static method from exported class has or is using private type '{1}'.",code:2037},Parameter__0__of_public_method_from_exported_class_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of public method from exported class has or is using private type '{1}'.",code:2038},Parameter__0__of_method_from_exported_interface_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of method from exported interface has or is using private type '{1}'.",code:2039},Parameter__0__of_exported_function_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of exported function has or is using private type '{1}'.",code:2040},Parameter__0__of_constructor_from_exported_class_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of constructor from exported class is using inaccessible module {1}.",code:2041},Parameter__0__of_public_static_property_setter_from_exported_class_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of public static property setter from exported class is using inaccessible module {1}.",code:2042},Parameter__0__of_public_property_setter_from_exported_class_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of public property setter from exported class is using inaccessible module {1}.",code:2043},Parameter__0__of_constructor_signature_from_exported_interface_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of constructor signature from exported interface is using inaccessible module {1}.",code:2044},Parameter__0__of_call_signature_from_exported_interface_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of call signature from exported interface is using inaccessible module {1}",code:2045},Parameter__0__of_public_static_method_from_exported_class_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of public static method from exported class is using inaccessible module {1}.",code:2046},Parameter__0__of_public_method_from_exported_class_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of public method from exported class is using inaccessible module {1}.",code:2047},Parameter__0__of_method_from_exported_interface_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of method from exported interface is using inaccessible module {1}.",code:2048},Parameter__0__of_exported_function_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of exported function is using inaccessible module {1}.",code:2049},Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_type__0_:{category:1,message:"Return type of public static property getter from exported class has or is using private type '{0}'.",code:2050},Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_type__0_:{category:1,message:"Return type of public property getter from exported class has or is using private type '{0}'.",code:2051},Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_type__0_:{category:1,message:"Return type of constructor signature from exported interface has or is using private type '{0}'.",code:2052},Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_type__0_:{category:1,message:"Return type of call signature from exported interface has or is using private type '{0}'.",code:2053},Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_type__0_:{category:1,message:"Return type of index signature from exported interface has or is using private type '{0}'.",code:2054},Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_type__0_:{category:1,message:"Return type of public static method from exported class has or is using private type '{0}'.",code:2055},Return_type_of_public_method_from_exported_class_has_or_is_using_private_type__0_:{category:1,message:"Return type of public method from exported class has or is using private type '{0}'.",code:2056},Return_type_of_method_from_exported_interface_has_or_is_using_private_type__0_:{category:1,message:"Return type of method from exported interface has or is using private type '{0}'.",code:2057},Return_type_of_exported_function_has_or_is_using_private_type__0_:{category:1,message:"Return type of exported function has or is using private type '{0}'.",code:2058},Return_type_of_public_static_property_getter_from_exported_class_is_using_inaccessible_module__0_:{category:1,message:"Return type of public static property getter from exported class is using inaccessible module {0}.",code:2059},Return_type_of_public_property_getter_from_exported_class_is_using_inaccessible_module__0_:{category:1,message:"Return type of public property getter from exported class is using inaccessible module {0}.",code:2060},Return_type_of_constructor_signature_from_exported_interface_is_using_inaccessible_module__0_:{category:1,message:"Return type of constructor signature from exported interface is using inaccessible module {0}.",code:2061},Return_type_of_call_signature_from_exported_interface_is_using_inaccessible_module__0_:{category:1,message:"Return type of call signature from exported interface is using inaccessible module {0}.",code:2062},Return_type_of_index_signature_from_exported_interface_is_using_inaccessible_module__0_:{category:1,message:"Return type of index signature from exported interface is using inaccessible module {0}.",code:2063},Return_type_of_public_static_method_from_exported_class_is_using_inaccessible_module__0_:{category:1,message:"Return type of public static method from exported class is using inaccessible module {0}.",code:2064},Return_type_of_public_method_from_exported_class_is_using_inaccessible_module__0_:{category:1,message:"Return type of public method from exported class is using inaccessible module {0}.",code:2065},Return_type_of_method_from_exported_interface_is_using_inaccessible_module__0_:{category:1,message:"Return type of method from exported interface is using inaccessible module {0}.",code:2066},Return_type_of_exported_function_is_using_inaccessible_module__0_:{category:1,message:"Return type of exported function is using inaccessible module {0}.",code:2067},_new_T____cannot_be_used_to_create_an_array__Use__new_Array_T_____instead:{category:1,message:"'new T[]' cannot be used to create an array. Use 'new Array<T>()' instead.",code:2068},A_parameter_list_must_follow_a_generic_type_argument_list______expected:{category:1,message:"A parameter list must follow a generic type argument list. '(' expected.",code:2069},Multiple_constructor_implementations_are_not_allowed:{category:1,message:"Multiple constructor implementations are not allowed.",code:2070},Unable_to_resolve_external_module__0_:{category:1,message:"Unable to resolve external module '{0}'.",code:2071},Module_cannot_be_aliased_to_a_non_module_type:{category:1,message:"Module cannot be aliased to a non-module type.",code:2072},A_class_may_only_extend_another_class:{category:1,message:"A class may only extend another class.",code:2073},A_class_may_only_implement_another_class_or_interface:{category:1,message:"A class may only implement another class or interface.",code:2074},An_interface_may_only_extend_another_class_or_interface:{category:1,message:"An interface may only extend another class or interface.",code:2075},An_interface_cannot_implement_another_type:{category:1,message:"An interface cannot implement another type.",code:2076},Unable_to_resolve_type:{category:1,message:"Unable to resolve type.",code:2077},Unable_to_resolve_type_of__0_:{category:1,message:"Unable to resolve type of '{0}'.",code:2078},Unable_to_resolve_type_parameter_constraint:{category:1,message:"Unable to resolve type parameter constraint.",code:2079},Type_parameter_constraint_cannot_be_a_primitive_type:{category:1,message:"Type parameter constraint cannot be a primitive type.",code:2080},Supplied_parameters_do_not_match_any_signature_of_call_target:{category:1,message:"Supplied parameters do not match any signature of call target.",code:2081},Supplied_parameters_do_not_match_any_signature_of_call_target__NL__0:{category:1,message:"Supplied parameters do not match any signature of call target:{NL}{0}",code:2082},Invalid__new__expression:{category:1,message:"Invalid 'new' expression.",code:2083},Call_signatures_used_in_a__new__expression_must_have_a__void__return_type:{category:1,message:"Call signatures used in a 'new' expression must have a 'void' return type.",code:2084},Could_not_select_overload_for__new__expression:{category:1,message:"Could not select overload for 'new' expression.",code:2085},Type__0__does_not_satisfy_the_constraint__1__for_type_parameter__2_:{category:1,message:"Type '{0}' does not satisfy the constraint '{1}' for type parameter '{2}'.",code:2086},Could_not_select_overload_for__call__expression:{category:1,message:"Could not select overload for 'call' expression.",code:2087},Unable_to_invoke_type_with_no_call_signatures:{category:1,message:"Unable to invoke type with no call signatures.",code:2088},Calls_to__super__are_only_valid_inside_a_class:{category:1,message:"Calls to 'super' are only valid inside a class.",code:2089},Generic_type__0__requires_1_type_argument_s_:{category:1,message:"Generic type '{0}' requires {1} type argument(s).",code:2090},Type_of_conditional_expression_cannot_be_determined__Best_common_type_could_not_be_found_between__0__and__1_:{category:1,message:"Type of conditional expression cannot be determined. Best common type could not be found between '{0}' and '{1}'.",code:2091},Type_of_array_literal_cannot_be_determined__Best_common_type_could_not_be_found_for_array_elements:{category:1,message:"Type of array literal cannot be determined. Best common type could not be found for array elements.",code:2092},Could_not_find_enclosing_symbol_for_dotted_name__0_:{category:1,message:"Could not find enclosing symbol for dotted name '{0}'.",code:2093},The_property__0__does_not_exist_on_value_of_type__1__:{category:1,message:"The property '{0}' does not exist on value of type '{1}'.",code:2094},Could_not_find_symbol__0_:{category:1,message:"Could not find symbol '{0}'.",code:2095},_get__and__set__accessor_must_have_the_same_type:{category:1,message:"'get' and 'set' accessor must have the same type.",code:2096},_this__cannot_be_referenced_in_current_location:{category:1,message:"'this' cannot be referenced in current location.",code:2097},Use_of_deprecated__bool__type__Use__boolean__instead:{category:0,message:"Use of deprecated type 'bool'. Use 'boolean' instead.",code:2098},Static_methods_cannot_reference_class_type_parameters:{category:1,message:"Static methods cannot reference class type parameters.",code:2099},Class__0__is_recursively_referenced_as_a_base_type_of_itself:{category:1,message:"Class '{0}' is recursively referenced as a base type of itself.",code:2100},Interface__0__is_recursively_referenced_as_a_base_type_of_itself:{category:1,message:"Interface '{0}' is recursively referenced as a base type of itself.",code:2101},_super__property_access_is_permitted_only_in_a_constructor__instance_member_function__or_instance_member_accessor_of_a_derived_class:{category:1,message:"'super' property access is permitted only in a constructor, instance member function, or instance member accessor of a derived class.",code:2102},_super__cannot_be_referenced_in_non_derived_classes:{category:1,message:"'super' cannot be referenced in non-derived classes.",code:2103},A__super__call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_intialized_properties_or_has_parameter_properties:{category:1,message:"A 'super' call must be the first statement in the constructor when a class contains initialized properties or has parameter properties.",code:2104},Constructors_for_derived_classes_must_contain_a__super__call:{category:1,message:"Constructors for derived classes must contain a 'super' call.",code:2105},Super_calls_are_not_permitted_outside_constructors_or_in_local_functions_inside_constructors:{category:1,message:"Super calls are not permitted outside constructors or in local functions inside constructors.",code:2106},_0_1__is_inaccessible:{category:1,message:"'{0}.{1}' is inaccessible.",code:2107},_this__cannot_be_referenced_within_module_bodies:{category
:1,message:"'this' cannot be referenced within module bodies.",code:2108},_this__must_only_be_used_inside_a_function_or_script_context:{category:1,message:"'this' must only be used inside a function or script context.",code:2109},Invalid__addition__expression___types_do_not_agree:{category:1,message:"Invalid '+' expression - types not known to support the addition operator.",code:2111},The_right_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type:{category:1,message:"The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.",code:2112},The_left_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type:{category:1,message:"The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.",code:2113},The_type_of_a_unary_arithmetic_operation_operand_must_be_of_type__any____number__or_an_enum_type:{category:1,message:"The type of a unary arithmetic operation operand must be of type 'any', 'number' or an enum type.",code:2114},Variable_declarations_for_for_in_expressions_cannot_contain_a_type_annotation:{category:1,message:"Variable declarations for for/in expressions cannot contain a type annotation.",code:2115},Variable_declarations_for_for_in_expressions_must_be_of_types__string__or__any_:{category:1,message:"Variable declarations for for/in expressions must be of types 'string' or 'any'.",code:2116},The_right_operand_of_a_for_in_expression_must_be_of_type__any____an_object_type_or_a_type_parameter:{category:1,message:"The right operand of a for/in expression must be of type 'any', an object type or a type parameter.",code:2117},The_left_hand_side_of_an__in__expression_must_be_of_types__string__or__any_:{category:1,message:"The left-hand side of an 'in' expression must be of types 'string' or 'any'.",code:2118},The_right_hand_side_of_an__in__expression_must_be_of_type__any___an_object_type_or_a_type_parameter:{category:1,message:"The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter.",code:2119},The_left_hand_side_of_an__instanceOf__expression_must_be_of_type__any___an_object_type_or_a_type_parameter:{category:1,message:"The left-hand side of an 'instanceOf' expression must be of type 'any', an object type or a type parameter.",code:2120},The_right_hand_side_of_an__instanceOf__expression_must_be_of_type__any__or_a_subtype_of_the__Function__interface_type:{category:1,message:"The right-hand side of an 'instanceOf' expression must be of type 'any' or a subtype of the 'Function' interface type.",code:2121},Setters_cannot_return_a_value:{category:1,message:"Setters cannot return a value.",code:2122},Tried_to_set_variable_type_to_module_type__0__:{category:1,message:"Tried to set variable type to container type '{0}'.",code:2123},Tried_to_set_variable_type_to_uninitialized_module_type__0__:{category:1,message:"Tried to set variable type to uninitialized module type '{0}'.",code:2124},Function__0__declared_a_non_void_return_type__but_has_no_return_expression:{category:1,message:"Function {0} declared a non-void return type, but has no return expression.",code:2125},Getters_must_return_a_value:{category:1,message:"Getters must return a value.",code:2126},Getter_and_setter_accessors_do_not_agree_in_visibility:{category:1,message:"Getter and setter accessors do not agree in visibility.",code:2127},Invalid_left_hand_side_of_assignment_expression:{category:1,message:"Invalid left-hand side of assignment expression.",code:2130},Function_declared_a_non_void_return_type__but_has_no_return_expression:{category:1,message:"Function declared a non-void return type, but has no return expression.",code:2131},Cannot_resolve_return_type_reference:{category:1,message:"Cannot resolve return type reference.",code:2132},Constructors_cannot_have_a_return_type_of__void_:{category:1,message:"Constructors cannot have a return type of 'void'.",code:2133},Subsequent_variable_declarations_must_have_the_same_type___Variable__0__must_be_of_type__1___but_here_has_type___2_:{category:1,message:"Subsequent variable declarations must have the same type.  Variable '{0}' must be of type '{1}', but here has type '{2}'",code:2134},All_symbols_within_a__with__block_will_be_resolved_to__any__:{category:1,message:"All symbols within a with block will be resolved to 'any'.",code:2135},Import_declarations_in_an_internal_module_cannot_reference_an_external_module:{category:1,message:"Import declarations in an internal module cannot reference an external module.",code:2136},Class__0__declares_interface__1__but_does_not_implement_it__NL__2:{category:1,message:"Class {0} declares interface {1} but does not implement it:{NL}{2}",code:2137},Class__0__declares_class__1__but_does_not_implement_it__NL__2:{category:1,message:"Class {0} declares class {1} as an implemented interface but does not implement it:{NL}{2}",code:2138},The_operand_of_an_increment_or_decrement_operator_must_be_a_variable__property_or_indexer:{category:1,message:"The operand of an increment or decrement operator must be a variable, property or indexer.",code:2139},_this__cannot_be_referenced_in_initializers_in_a_class_body:{category:1,message:"'this' cannot be referenced in initializers in a class body.",code:2140},Class__0__cannot_extend_class__1__NL__2:{category:1,message:"Class '{0}' cannot extend class '{1}':{NL}{2}",code:2141},Interface__0__cannot_extend_class__1__NL__2:{category:1,message:"Interface '{0}' cannot extend class '{1}':{NL}{2}",code:2142},Interface__0__cannot_extend_interface__1__NL__2:{category:1,message:"Interface '{0}' cannot extend interface '{1}':{NL}{2}",code:2143},Duplicate_overload_signature_for__0_:{category:1,message:"Duplicate overload signature for '{0}'.",code:2144},Duplicate_constructor_overload_signature:{category:1,message:"Duplicate constructor overload signature.",code:2145},Duplicate_overload_call_signature:{category:1,message:"Duplicate overload call signature.",code:2146},Duplicate_overload_construct_signature:{category:1,message:"Duplicate overload construct signature.",code:2147},Overload_signature_is_not_compatible_with_function_definition:{category:1,message:"Overload signature is not compatible with function definition.",code:2148},Overload_signature_is_not_compatible_with_function_definition__NL__0:{category:1,message:"Overload signature is not compatible with function definition:{NL}{0}",code:2149},Overload_signatures_must_all_be_public_or_private:{category:1,message:"Overload signatures must all be public or private.",code:2150},Overload_signatures_must_all_be_exported_or_local:{category:1,message:"Overload signatures must all be exported or local.",code:2151},Overload_signatures_must_all_be_ambient_or_non_ambient:{category:1,message:"Overload signatures must all be ambient or non-ambient.",code:2152},Overload_signatures_must_all_be_optional_or_required:{category:1,message:"Overload signatures must all be optional or required.",code:2153},Specialized_overload_signature_is_not_subtype_of_any_non_specialized_signature:{category:1,message:"Specialized overload signature is not subtype of any non-specialized signature.",code:2154},_this__cannot_be_referenced_in_constructor_arguments:{category:1,message:"'this' cannot be referenced in constructor arguments.",code:2155},Static_member_cannot_be_accessed_off_an_instance_variable:{category:1,message:"Static member cannot be accessed off an instance variable.",code:2156},Instance_member_cannot_be_accessed_off_a_class:{category:1,message:"Instance member cannot be accessed off a class.",code:2157},Untyped_function_calls_may_not_accept_type_arguments:{category:1,message:"Untyped function calls may not accept type arguments.",code:2158},Non_generic_functions_may_not_accept_type_arguments:{category:1,message:"Non-generic functions may not accept type arguments.",code:2159},A_generic_type_may_not_reference_itself_with_its_own_type_parameters:{category:1,message:"A generic type may not reference itself with a wrapped form of its own type parameters.",code:2160},Value_of_type__0__is_not_callable__Did_you_mean_to_include__new___:{category:1,message:"Value of type '{0}' is not callable. Did you mean to include 'new'?",code:2161},Rest_parameters_must_be_array_types:{category:1,message:"Rest parameters must be array types.",code:2162},Overload_signature_implementation_cannot_use_specialized_type:{category:1,message:"Overload signature implementation cannot use specialized type.",code:2163},Export_assignments_may_only_be_used_in_External_modules:{category:1,message:"Export assignments may only be used at the top-level of external modules",code:2164},Export_assignments_may_only_be_made_with_acceptable_kinds:{category:1,message:"Export assignments may only be made with variables, functions, classes, interfaces, enums and internal modules",code:2165},Only_public_instance_methods_of_the_base_class_are_accessible_via_the_super_keyword:{category:1,message:"Only public instance methods of the base class are accessible via the super keyword",code:2166},Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1__:{category:1,message:"Numeric indexer type '{0}' must be a subtype of string indexer type '{1}'",code:2167},Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1____NL__2:{category:1,message:"Numeric indexer type '{0}' must be a subtype of string indexer type '{1}':{NL}{2}",code:2168},All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0__:{category:1,message:"All numerically named properties must be subtypes of numeric indexer type '{0}'",code:2169},All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0____NL__1:{category:1,message:"All numerically named properties must be subtypes of numeric indexer type '{0}':{NL}{1}",code:2170},All_named_properties_must_be_subtypes_of_string_indexer_type___0__:{category:1,message:"All named properties must be subtypes of string indexer type '{0}'",code:2171},All_named_properties_must_be_subtypes_of_string_indexer_type___0____NL__1:{category:1,message:"All named properties must be subtypes of string indexer type '{0}':{NL}{1}",code:2172},Generic_type_references_must_include_all_type_arguments:{category:1,message:"Generic type references must include all type arguments",code:2173},Type__0__is_missing_property__1__from_type__2_:{category:3,message:"Type '{0}' is missing property '{1}' from type '{2}'.",code:4e3},Types_of_property__0__of_types__1__and__2__are_incompatible:{category:3,message:"Types of property '{0}' of types '{1}' and '{2}' are incompatible.",code:4001},Types_of_property__0__of_types__1__and__2__are_incompatible__NL__3:{category:3,message:"Types of property '{0}' of types '{1}' and '{2}' are incompatible:{NL}{3}",code:4002},Property__0__defined_as_private_in_type__1__is_defined_as_public_in_type__2_:{category:3,message:"Property '{0}' defined as private in type '{1}' is defined as public in type '{2}'.",code:4003},Property__0__defined_as_public_in_type__1__is_defined_as_private_in_type__2_:{category:3,message:"Property '{0}' defined as public in type '{1}' is defined as private in type '{2}'.",code:4004},Types__0__and__1__define_property__2__as_private:{category:3,message:"Types '{0}' and '{1}' define property '{2}' as private.",code:4005},Call_signatures_of_types__0__and__1__are_incompatible:{category:3,message:"Call signatures of types '{0}' and '{1}' are incompatible.",code:4006},Call_signatures_of_types__0__and__1__are_incompatible__NL__2:{category:3,message:"Call signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",code:4007},Type__0__requires_a_call_signature__but_Type__1__lacks_one:{category:3,message:"Type '{0}' requires a call signature, but type '{1}' lacks one.",code:4008},Construct_signatures_of_types__0__and__1__are_incompatible:{category:3,message:"Construct signatures of types '{0}' and '{1}' are incompatible.",code:4009},Construct_signatures_of_types__0__and__1__are_incompatible__NL__2:{category:3,message:"Construct signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",code:40010},Type__0__requires_a_construct_signature__but_Type__1__lacks_one:{category:3,message:"Type '{0}' requires a construct signature, but type '{1}' lacks one.",code:4011},Index_signatures_of_types__0__and__1__are_incompatible:{category:3,message:"Index signatures of types '{0}' and '{1}' are incompatible.",code:4012},Index_signatures_of_types__0__and__1__are_incompatible__NL__2:{category:3,message:"Index signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",code:4013},Call_signature_expects__0__or_fewer_parameters:{category:3,message:"Call signature expects {0} or fewer parameters.",code:4014},Could_not_apply_type__0__to_argument__1__which_is_of_type__2_:{category:3,message:"Could not apply type'{0}' to argument {1} which is of type '{2}'.",code:4015},Class__0__defines_instance_member_accessor__1___but_extended_class__2__defines_it_as_instance_member_function:{category:3,message:"Class '{0}' defines instance member accessor '{1}', but extended class '{2}' defines it as instance member function.",code:4016},Class__0__defines_instance_member_property__1___but_extended_class__2__defines_it_as_instance_member_function:{category:3,message:"Class '{0}' defines instance member property '{1}', but extended class '{2}' defines it as instance member function.",code:4017},Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_accessor:{category:3,message:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member accessor.",code:4018},Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_property:{category:3,message:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member property.",code:4019},Types_of_static_property__0__of_class__1__and_class__2__are_incompatible:{category:3,message:"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible.",code:4020},Types_of_static_property__0__of_class__1__and_class__2__are_incompatible__NL__3:{category:3,message:"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible:{NL}{3}",code:4021},Type_reference_cannot_refer_to_container__0_:{category:1,message:"Type reference cannot refer to container '{0}'.",code:4022},Type_reference_must_refer_to_type:{category:1,message:"Type reference cannot must refer to type.",code:4023},Enums_with_multiple_declarations_must_provide_an_initializer_for_the_first_enum_element:{category:1,message:"Enums with multiple declarations must provide an initializer for the first enum element.",code:4024},Current_host_does_not_support__w_atch_option:{category:1,message:"Current host does not support -w[atch] option.",code:5001},ECMAScript_target_version__0__not_supported___Using_default__1__code_generation:{category:0,message:"ECMAScript target version '{0}' not supported.  Using default '{1}' code generation.",code:5002},Module_code_generation__0__not_supported___Using_default__1__code_generation:{category:0,message:"Module code generation '{0}' not supported.  Using default '{1}' code generation.",code:5003},Could_not_find_file___0_:{category:1,message:"Could not find file: '{0}'.",code:5004},Unknown_extension_for_file___0__Only__ts_and_d_ts_extensions_are_allowed:{category:1,message:"Unknown extension for file: '{0}'. Only .ts and .d.ts extensions are allowed.",code:5005},A_file_cannot_have_a_reference_itself:{category:1,message:"A file cannot have a reference itself.",code:5006},Cannot_resolve_referenced_file___0_:{category:1,message:"Cannot resolve referenced file: '{0}'.",code:5007},Cannot_resolve_imported_file___0_:{category:1,message:"Cannot resolve imported file: '{0}'.",code:5008},Cannot_find_the_common_subdirectory_path_for_the_input_files:{category:1,message:"Cannot find the common subdirectory path for the input files",code:5009},Cannot_compile_dynamic_modules_when_emitting_into_single_file:{category:1,message:"Cannot compile dynamic modules when emitting into single file",code:5010},Emit_Error__0:{category:1,message:"Emit Error: {0}.",code:5011},Unsupported_encoding_for_file__0:{category:1,message:"Unsupported encoding for file: '{0}'.",code:5013}};var t=[];for(var n in e.diagnosticMessages)if(e.diagnosticMessages.hasOwnProperty(n)){var r=e.diagnosticMessages[n],i=t[r.code];if(i)throw new Error("Duplicate diagnostic code: "+r.code);t[r.code]=r}})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.argument=function(e,t){return new Error("Invalid argument: "+e+"."+(t?" "+t:""))},e.argumentOutOfRange=function(e){return new Error("Argument out of range: "+e+".")},e.argumentNull=function(e){return new Error("Argument null: "+e+".")},e.abstract=function(){return new Error("Operation not implemented properly by subclass.")},e.notYetImplemented=function(){return new Error("Not yet implemented.")},e.invalidOperation=function(e){return new Error(e?"Invalid operation: "+e:"Invalid operation.")},e}();e.Errors=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(){}return t.computeFnv1aCharArrayHashCode=function(e,n,r){var i=t.FNV_BASE,s=n+r;for(var o=n;o<s;o++)i=(i^e[o])*t.FNV_PRIME;return i},t.computeSimple31BitCharArrayHashCode=function(e,t,n){var r=0;for(var i=0;i<n;i++){var s=e[t+i];r=(r<<5)+r+s|0}return r&2147483647},t.computeSimple31BitStringHashCode=function(e){var t=0,n=0,r=e.length;for(var i=0;i<r;i++){var s=e.charCodeAt(n+i);t=(t<<5)+t+s|0}return t&2147483647},t.computeMurmur2CharArrayHashCode=function(e,t,n){var r=1540483477,i=24,s=n,o=0^s,u=t;while(s>=2){var a=e[u],f=e[u+1],l=a|f<<16;l*=r,l^=l>>i,l*=r,o*=r,o^=l,u+=2,s-=2}return s===1&&(o^=e[u],o*=r),o^=o>>13,o*=r,o^=o>>15,o},t.computeMurmur2StringHashCode=function(e){var t=1540483477,n=24,r=0,i=e.length,s=i,o=0^s,u=r;while(s>=2){var a=e.charCodeAt(u),f=e.charCodeAt(u+1),l=a|f<<16;l*=t,l^=l>>n,l*=t,o*=t,o^=l,u+=2,s-=2}return s===1&&(o^=e.charCodeAt(u),o*=t),o^=o>>13,o*=t,o^=o>>15,o},t.getPrime=function(n){for(var r=0;r<t.primes.length;r++){var i=t.primes[r];if(i>=n)return i}throw e.Errors.notYetImplemented()},t.expandPrime=function(e){var n=e<<1;return n>2146435069&&2146435069>e?2146435069:t.getPrime(n)},t.combine=function(e,t){return(t<<5)+t+e&2147483647},t.FNV_BASE=2166136261,t.FNV_PRIME=16777619,t.primes=[3,7,11,17,23,29,37,47,59,71,89,107,131,163,197,239,293,353,431,521,631,761,919,1103,1327,1597,1931,2333,2801,3371,4049,4861,5839,7013,8419,10103,12143,14591,17519,21023,25229,30293,36353,43627,52361,62851,75431,90523,108631,130363,156437,187751,225307,270371,324449,389357,467237,560689,672827,807403,968897,1162687,1395263,1674319,2009191,2411033,2893249,3471899,4166287,4999559,5999471,7199369],t}();e.Hash=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function i(e,n,i){return typeof e=="undefined"&&(e=t.DefaultHashTableCapacity),typeof n=="undefined"&&(n=null),typeof i=="undefined"&&(i=null),new r(e,n,i)}function o(e){return e.__hash===undefined&&(e.__hash=s,s++),e.__hash}t.DefaultHashTableCapacity=256;var n=function(){function e(e,t,n,r){this.Key=e,this.Value=t,this.HashCode=n,this.Next=r}return e}(),r=function(){function t(t,n,r){this.hash=n,this.equals=r,this.entries=[],this.count=0;var i=e.Hash.getPrime(t);this.hash=n,this.equals=r,this.entries=e.ArrayUtilities.createArray(i,null)}return t.prototype.set=function(e,t){this.addOrSet(e,t,!1)},t.prototype.add=function(e,t){this.addOrSet(e,t,!0)},t.prototype.containsKey=function(e){var t=this.computeHashCode(e),n=this.findEntry(e,t);return n!==null},t.prototype.get=function(e){var t=this.computeHashCode(e),n=this.findEntry(e,t);return n===null?null:n.Value},t.prototype.computeHashCode=function(t){var n=this.hash===null?t.hashCode():this.hash(t);return n&=2147483647,e.Debug.assert(n>0),n},t.prototype.addOrSet=function(t,n,r){var i=this.computeHashCode(t),s=this.findEntry(t,i);if(s!==null){if(r)throw e.Errors.argument("key","Key was already in table.");s.Key=t,s.Value=n;return}return this.addEntry(t,n,i)},t.prototype.findEntry=function(e,t){for(var n=this.entries[t%this.entries.length];n!==null;n=n.Next)if(n.HashCode===t){var r=this.equals===null?e===n.Key:this.equals(e,n.Key);if(r)return n}return null},t.prototype.addEntry=function(e,t,r){var i=r%this.entries.length,s=new n(e,t,r,this.entries[i]);return this.entries[i]=s,this.count===this.entries.length&&this.grow(),this.count++,s.Key},t.prototype.grow=function(){var t=e.Hash.expandPrime(this.entries.length),n=this.entries,r=e.ArrayUtilities.createArray(t,null);this.entries=r;for(var i=0;i<n.length;i++){var s=n[i];while(s!==null){var o=s.HashCode%t,u=s.Next;s.Next=r[o],r[o]=s,s=u}}},t}();t.HashTable=r,t.createHashTable=i;var s=1;t.identityHashCode=o})(e.Collections||(e.Collections={}));var t=e.Collections})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function n(e){var t=-1,n=e.split("_");for(var r=0;r<n.length;r++){var i=parseInt(n[r]);!isNaN(i)&&i>t&&(t=i)}return t}function r(t){var n=e.DiagnosticCode[t];return e.diagnosticMessages[n]}function i(t,r){var i=e.DiagnosticCode[t],s=e.diagnosticMessages[i],o=r?r.length:0;if(!s)throw new Error("Invalid diagnostic");var u=1+n(i);if(u!==o)throw new Error("Expected "+u+" arguments to diagnostic, got "+o+" instead");var a=s.message.replace(/{({(\d+)})?TB}/g,function(e,t,n){var i="	",s=i;if(n&&r[n])for(var o=1;o<r[n];o++)s+=i;return s});return a=a.replace(/{(\d+)}/g,function(e,t){return typeof r[t]!="undefined"?r[t]:e}),a=a.replace(/{(NL)}/g,function(e){return"\r\n"}),a}function s(e,t){var n=r(e),s=i(e,t),o;return n.category===1?o=i(0,[n.code,s]):n.category===0?o=i(1,[n.code,s]):o=s,o}var t=function(){function t(e,t,n,r,i){typeof i=="undefined"&&(i=null),this._diagnosticCode=r,this._arguments=i&&i.length>0?i:null,this._fileName=e,this._originalStart=this._start=t,this._length=n}return t.prototype.toJSON=function(t){var n={};n.start=this.start(),n.length=this.length(),n.diagnosticCode=e.DiagnosticCode[this.diagnosticCode()];var r=this.arguments();return r&&r.length>0&&(n.arguments=r),n},t.prototype.fileName=function(){return this._fileName},t.prototype.start=function(){return this._start},t.prototype.length=function(){return this._length},t.prototype.diagnosticCode=function(){return this._diagnosticCode},t.prototype.arguments=function(){return this._arguments},t.prototype.text=function(){return e.getDiagnosticText(this._diagnosticCode,this._arguments)},t.prototype.message=function(){return e.getDiagnosticMessage(this._diagnosticCode,this._arguments)},t.prototype.adjustOffset=function(e){this._start=this._originalStart+e},t.prototype.additionalLocations=function(){return[]},t.equals=function(t,n){return t._fileName===n._fileName&&t._start===n._start&&t._length===n._length&&t._diagnosticCode===n._diagnosticCode&&e.ArrayUtilities.sequenceEquals(t._arguments,n._arguments,function(e,t){return e===t})},t}();e.Diagnostic=t,e.getDiagnosticInfoFromCode=r,e.getDiagnosticText=i,e.getDiagnosticMessage=s})(TypeScript||(TypeScript={}));var ByteOrderMark;(function(e){e[e.None=0]="None",e[e.Utf8=1]="Utf8",e[e.Utf16BigEndian=2]="Utf16BigEndian",e[e.Utf16LittleEndian=3]="Utf16LittleEndian"})(ByteOrderMark||(ByteOrderMark={}));var FileInformation=function(){function e(e,t){this._contents=e,this._byteOrderMark=t}return e.prototype.contents=function(){return this._contents},e.prototype.byteOrderMark=function(){return this._byteOrderMark},e}(),Environment=function(){function e(){function r(){return n.length>0?n.pop():new ActiveXObject("ADODB.Stream")}function i(e){n.push(e)}try{var e=new ActiveXObject("Scripting.FileSystemObject")}catch(t){return null}var n=[],s=[];for(var o=0;o<WScript.Arguments.length;o++)s[o]=WScript.Arguments.Item(o);return{currentDirectory:function(){return WScript.CreateObject("WScript.Shell").CurrentDirectory},readFile:function(e){try{var t=r();t.Open(),t.Type=2,t.Charset="x-ansi",t.LoadFromFile(e);var n=t.ReadText(2);t.Position=0;var s=0;n.charCodeAt(0)===254&&n.charCodeAt(1)===255?(t.Charset="unicode",s=2):n.charCodeAt(0)===255&&n.charCodeAt(1)===254?(t.Charset="unicode",s=3):n.charCodeAt(0)===239&&n.charCodeAt(1)===187?(t.Charset="utf-8",s=1):t.Charset="utf-8";var o=t.ReadText(-1);return t.Close(),i(t),new FileInformation(o,s)}catch(u){var a=new Error(u.message),f;throw u.number===-2147024809&&(a.isUnsupportedEncoding=!0),a}},writeFile:function(e,t,n){var i=r();i.Charset="utf-8",i.Open(),i.WriteText(t,0),n?i.Position=0:i.Position=3;var s=r();s.Type=1,s.Open(),i.CopyTo(s),s.Flush(),s.SaveToFile(e,2),s.Close(),i.Flush(),i.Close()},fileExists:function(t){return e.FileExists(t)},deleteFile:function(t){e.FileExists(t)&&e.DeleteFile(t,!0)},directoryExists:function(t){return e.FolderExists(t)},listFiles:function(t,n,r){function i(e,t){var s=[],o;if(r.recursive){o=new Enumerator(e.subfolders);for(;!o.atEnd();o.moveNext())s=s.concat(i(o.item(),t+"\\"+o.item().Name))}o=new Enumerator(e.files);for(;!o.atEnd();o.moveNext())(!n||o.item().Name.match(n))&&s.push(t+"\\"+o.item().Name);return s}r=r||{};var s=e.GetFolder(t),o=[];return i(s,t)},arguments:s,standardOut:WScript.StdOut}}function t(){var e=require("fs"),t=require("path"),n=require("module");return{currentDirectory:function(){return process.cwd()},readFile:function(t){var n=e.readFileSync(t);switch(n[0]){case 254:if(n[1]===255){var r=0;while(r+1<n.length){var i=n[r];n[r]=n[r+1],n[r+1]=i,r+=2}return new FileInformation(n.toString("ucs2",2),2)}break;case 255:if(n[1]===254)return new FileInformation(n.toString("ucs2",2),3);break;case 239:if(n[1]===187)return new FileInformation(n.toString("utf8",3),1)}return new FileInformation(n.toString("utf8",0),0)},writeFile:function(n,r,i){function s(n){var r=e.statSync(n);if(r.isFile())throw'"'+n+"\" exists but isn't a directory.";if(r.isDirectory())return;s(t.dirname(n)),e.mkdirSync(n,509)}s(t.dirname(n)),i&&(r=""+r),e.writeFileSync(n,r,"utf8")},fileExists:function(t){return e.existsSync(t)},deleteFile:function(t){try{e.unlinkSync(t)}catch(n){}},directoryExists:function(t){return e.existsSync(t)&&e.statSync(t).isDirectory()},listFiles:function(n,r,i){function s(t){var n=[],o=e.readdirSync(t);for(var u=0;u<o.length;u++){var a=e.statSync(t+"\\"+o[u]);i.recursive&&a.isDirectory()?n=n.concat(s(t+"\\"+o[u])):a.isFile()&&(!r||o[u].match(r))&&n.push(t+"\\"+o[u])}return n}return i=i||{},s(n)},arguments:process.argv.slice(2),standardOut:{Write:function(e){process.stdout.write(e)},WriteLine:function(e){process.stdout.write(e+"\n")},Close:function(){}}}}return typeof WScript!="undefined"&&typeof ActiveXObject=="function"?e():typeof module!="undefined"&&module.exports?t():null}(),TypeScript;(function(e){var t=function(){function e(){}return e.integerDivide=function(e,t){return e/t>>0},e.integerMultiplyLow32Bits=function(e,t){var n=e&65535,r=e>>>16,i=t&65535,s=t>>>16,o=((e&4294901760)*t>>>0)+((e&65535)*t>>>0)>>>0;return o},e.integerMultiplyHigh32Bits=function(e,t){var n=e&65535,r=e>>>16,i=t&65535,s=t>>>16,o=r*s+((n*i>>>17)+n*s>>>15);return o},e}();e.IntegerUtilities=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.max=function(e,t){return e>=t?e:t},e.min=function(e,t){return e<=t?e:t},e}();e.MathPrototype=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){t.DefaultStringTableCapacity=256;var n=function(){function e(e,t,n){this.Text=e,this.HashCode=t,this.Next=n}return e}(),r=function(){function t(t){this.entries=[],this.count=0;var n=e.Hash.getPrime(t);this.entries=e.ArrayUtilities.createArray(n,null)}return t.prototype.addCharArray=function(t,n,r){var i=e.Hash.computeSimple31BitCharArrayHashCode(t,n,r)&2147483647,s=this.findCharArrayEntry(t,n,r,i);if(s!==null)return s.Text;var o=t.slice(n,n+r);return this.addEntry(e.StringUtilities.fromCharCodeArray(o),i)},t.prototype.findCharArrayEntry=function(e,n,r,i){for(var s=this.entries[i%this.entries.length];s!==null;s=s.Next)if(s.HashCode===i&&t.textCharArrayEquals(s.Text,e,n,r))return s;return null},t.prototype.addEntry=function(e,t){var r=t%this.entries.length,i=new n(e,t,this.entries[r]);return this.entries[r]=i,this.count===this.entries.length&&this.grow(),this.count++,i.Text},t.prototype.grow=function(){var t=e.Hash.expandPrime(this.entries.length),n=this.entries,r=e.ArrayUtilities.createArray(t,null);this.entries=r;for(var i=0;i<n.length;i++){var s=n[i];while(s!==null){var o=s.HashCode%t,u=s.Next;s.Next=r[o],r[o]=s,s=u}}},t.textCharArrayEquals=function(e,t,n,r){if(e.length!==r)return!1;var i=n;for(var s=0;s<r;s++){if(e.charCodeAt(s)!==t[i])return!1;i++}return!0},t}();t.StringTable=r,t.DefaultStringTable=new r(t.DefaultStringTableCapacity)})(e.Collections||(e.Collections={}));var t=e.Collections})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.isString=function(e){return Object.prototype.toString.apply(e,[])==="[object String]"},e.fromCharCodeArray=function(e){return String.fromCharCode.apply(null,e)},e.endsWith=function(e,t){return e.substring(e.length-t.length,e.length)===t},e.startsWith=function(e,t){return e.substr(0,t.length)===t},e.copyTo=function(e,t,n,r,i){for(var s=0;s<i;s++)n[r+s]=e.charCodeAt(t+s)},e.repeat=function(e,t){return Array(t+1).join(e)},e.stringEquals=function(e,t){return e===t},e}();e.StringUtilities=t})(TypeScript||(TypeScript={}));var global=Function("return this").call(null),TypeScript;(function(e){var t;(function(e){e.now,e.resolution,typeof WScript!="undefined"&&typeof global.WScript.InitializeProjection!="undefined"?(global.WScript.InitializeProjection(),e.now=function(){return TestUtilities.QueryPerformanceCounter()},e.resolution=TestUtilities.QueryPerformanceFrequency()):(e.now=function(){return Date.now()},e.resolution=1e3)})(t||(t={}));var n=function(){function e(){this.time=0}return e.prototype.start=function(){this.time=0,this.startTime=t.now()},e.prototype.end=function(){this.time=t.now()-this.startTime},e}();e.Timer=n})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){e[e.nullCharacter=0]="nullCharacter",e[e.maxAsciiCharacter=127]="maxAsciiCharacter",e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.lineSeparator=8232]="lineSeparator",e[e.paragraphSeparator=8233]="paragraphSeparator",e[e.nextLine=133]="nextLine",e[e.space=32]="space",e[e.nonBreakingSpace=160]="nonBreakingSpace",e[e.enQuad=8192]="enQuad",e[e.emQuad=8193]="emQuad",e[e.enSpace=8194]="enSpace",e[e.emSpace=8195]="emSpace",e[e.threePerEmSpace=8196]="threePerEmSpace",e[e.fourPerEmSpace=8197]="fourPerEmSpace",e[e.sixPerEmSpace=8198]="sixPerEmSpace",e[e.figureSpace=8199]="figureSpace",e[e.punctuationSpace=8200]="punctuationSpace",e[e.thinSpace=8201]="thinSpace",e[e.hairSpace=8202]="hairSpace",e[e.zeroWidthSpace=8203]="zeroWidthSpace",e[e.narrowNoBreakSpace=8239]="narrowNoBreakSpace",e[e.ideographicSpace=12288]="ideographicSpace",e[e._=95]="_",e[e.$=36]="$",e[e._0=48]="_0",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.E=69]="E",e[e.F=70]="F",e[e.X=88]="X",e[e.Z=90]="Z",e[e.ampersand=38]="ampersand",e[e.asterisk=42]="asterisk",e[e.at=64]="at",e[e.backslash=92]="backslash",e[e.bar=124]="bar",e[e.caret=94]="caret",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.closeParen=41]="closeParen",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.equals=61]="equals",e[e.exclamation=33]="exclamation",e[e.greaterThan=62]="greaterThan",e[e.lessThan=60]="lessThan",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.openParen=40]="openParen",e[e.percent=37]="percent",e[e.plus=43]="plus",e[e.question=63]="question",e[e.semicolon=59]="semicolon",e[e.singleQuote=39]="singleQuote",e[e.slash=47]="slash",e[e.tilde=126]="tilde",e[e.backspace=8]="backspace",e[e.formFeed=12]="formFeed",e[e.byteOrderMark=65279]="byteOrderMark",e[e.tab=9]="tab",e[e.verticalTab=11]="verticalTab"})(e.CharacterCodes||(e.CharacterCodes={}));var t=e.CharacterCodes})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function r(e){return new n(e)}var n=function(){function t(e){this.text=e}return t.prototype.getText=function(e,t){return this.text.substring(e,t)},t.prototype.getLength=function(){return this.text.length},t
.prototype.getLineStartPositions=function(){return e.TextUtilities.parseLineStarts(e.SimpleText.fromString(this.text))},t.prototype.getTextChangeRangeSinceVersion=function(t){throw e.Errors.notYetImplemented()},t}();t.fromString=r})(e.ScriptSnapshot||(e.ScriptSnapshot={}));var t=e.ScriptSnapshot})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(e,t){this._lineStarts=e,this.length=t}return t.prototype.toJSON=function(e){return{lineStarts:this._lineStarts,length:this.length}},t.prototype.equals=function(t){return this.length===t.length&&e.ArrayUtilities.sequenceEquals(this.lineStarts(),t.lineStarts(),function(e,t){return e===t})},t.prototype.lineStarts=function(){return this._lineStarts},t.prototype.lineCount=function(){return this.lineStarts().length},t.prototype.getPosition=function(e,t){return this.lineStarts()[e]+t},t.prototype.getLineNumberFromPosition=function(t){if(t<0||t>this.length)throw e.Errors.argumentOutOfRange("position");if(t===this.length)return this.lineCount()-1;var n=e.ArrayUtilities.binarySearch(this.lineStarts(),t);return n<0&&(n=~n-1),n},t.prototype.getLineStartPosition=function(e){return this.lineStarts()[e]},t.prototype.fillLineAndCharacterFromPosition=function(t,n){if(t<0||t>this.length)throw e.Errors.argumentOutOfRange("position");var r=this.getLineNumberFromPosition(t);n.line=r,n.character=t-this.lineStarts()[r]},t.prototype.getLineAndCharacterFromPosition=function(t){if(t<0||t>this.length)throw e.Errors.argumentOutOfRange("position");var n=this.getLineNumberFromPosition(t);return new e.LineAndCharacter(n,t-this.lineStarts()[n])},t.fromSimpleText=function(n){var r=e.TextUtilities.parseLineStarts(n);return new t(r,n.length())},t.fromScriptSnapshot=function(e){return new t(e.getLineStartPositions(),e.getLength())},t.fromString=function(n){return t.fromSimpleText(e.SimpleText.fromString(n))},t.empty=new t([0],0),t}();e.LineMap=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(t,n){this._line=0,this._character=0;if(t<0)throw e.Errors.argumentOutOfRange("line");if(n<0)throw e.Errors.argumentOutOfRange("character");this._line=t,this._character=n}return t.prototype.line=function(){return this._line},t.prototype.character=function(){return this._character},t}();e.LineAndCharacter=t})(TypeScript||(TypeScript={}));var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},TypeScript;(function(e){(function(t){function n(t,n,r){var i=t.charCodeAt(n);i===10?n>0&&t.charCodeAt(n-1)===13?(r.startPosition=n-1,r.length=2):(r.startPosition=n,r.length=1):e.TextUtilities.isAnyLineBreakCharacter(i)?(r.startPosition=n,r.length=1):(r.startPosition=n+1,r.length=0)}function a(e){return new u(e)}var r=function(){function e(e,t){this.startPosition=e,this.length=t}return e}(),i=function(){function t(t,n,r,i){this._text=null,this._textSpan=null,e.Contract.throwIfNull(t),e.Contract.throwIfFalse(r>=0),e.Contract.requires(i>=0),this._text=t,this._textSpan=n,this._lineBreakLength=r,this._lineNumber=i}return t.prototype.start=function(){return this._textSpan.start()},t.prototype.end=function(){return this._textSpan.end()},t.prototype.endIncludingLineBreak=function(){return this.end()+this._lineBreakLength},t.prototype.extent=function(){return this._textSpan},t.prototype.extentIncludingLineBreak=function(){return e.TextSpan.fromBounds(this.start(),this.endIncludingLineBreak())},t.prototype.toString=function(){return this._text.toString(this._textSpan)},t.prototype.lineNumber=function(){return this._lineNumber},t}(),s=function(){function t(){this.lazyLineStarts=null,this.linebreakInfo=new r(0,0),this.lastLineFoundForPosition=null}return t.prototype.length=function(){throw e.Errors.abstract()},t.prototype.charCodeAt=function(t){throw e.Errors.abstract()},t.prototype.checkSubSpan=function(t){if(t.start()<0||t.start()>this.length()||t.end()>this.length())throw e.Errors.argumentOutOfRange("span")},t.prototype.toString=function(t){throw typeof t=="undefined"&&(t=null),e.Errors.abstract()},t.prototype.subText=function(e){return this.checkSubSpan(e),new o(this,e)},t.prototype.substr=function(t,n,r){throw e.Errors.abstract()},t.prototype.copyTo=function(t,n,r,i){throw e.Errors.abstract()},t.prototype.lineCount=function(){return this.lineStarts().length},t.prototype.lines=function(){var e=[],t=this.lineCount();for(var n=0;n<t;++n)e[n]=this.getLineFromLineNumber(n);return e},t.prototype.lineMap=function(){return new e.LineMap(this.lineStarts(),this.length())},t.prototype.lineStarts=function(){return this.lazyLineStarts===null&&(this.lazyLineStarts=e.TextUtilities.parseLineStarts(this)),this.lazyLineStarts},t.prototype.getLineFromLineNumber=function(t){var r=this.lineStarts();if(t<0||t>=r.length)throw e.Errors.argumentOutOfRange("lineNumber");var s=r[t];return t===r.length-1?new i(this,new e.TextSpan(s,this.length()-s),0,t):(n(this,r[t+1]-1,this.linebreakInfo),new i(this,new e.TextSpan(s,this.linebreakInfo.startPosition-s),this.linebreakInfo.length,t))},t.prototype.getLineFromPosition=function(e){var t=this.lastLineFoundForPosition;if(t!==null&&t.start()<=e&&t.endIncludingLineBreak()>e)return t;var n=this.getLineNumberFromPosition(e),r=this.getLineFromLineNumber(n);return this.lastLineFoundForPosition=r,r},t.prototype.getLineNumberFromPosition=function(t){if(t<0||t>this.length())throw e.Errors.argumentOutOfRange("position");if(t===this.length())return this.lineCount()-1;var n=e.ArrayUtilities.binarySearch(this.lineStarts(),t);return n<0&&(n=~n-1),n},t.prototype.getLinePosition=function(t){if(t<0||t>this.length())throw e.Errors.argumentOutOfRange("position");var n=this.getLineNumberFromPosition(t);return new e.LineAndCharacter(n,t-this.lineStarts()[n])},t}(),o=function(t){function n(n,r){t.call(this);if(n===null)throw e.Errors.argumentNull("text");if(r.start()<0||r.start()>=n.length()||r.end()<0||r.end()>n.length())throw e.Errors.argument("span");this.text=n,this.span=r}return __extends(n,t),n.prototype.length=function(){return this.span.length()},n.prototype.charCodeAt=function(t){if(t<0||t>this.length())throw e.Errors.argumentOutOfRange("position");return this.text.charCodeAt(this.span.start()+t)},n.prototype.subText=function(e){return this.checkSubSpan(e),new n(this.text,this.getCompositeSpan(e.start(),e.length()))},n.prototype.copyTo=function(e,t,n,r){var i=this.getCompositeSpan(e,r);this.text.copyTo(i.start(),t,n,i.length())},n.prototype.getCompositeSpan=function(t,n){var r=e.MathPrototype.min(this.text.length(),this.span.start()+t),i=e.MathPrototype.min(this.text.length(),r+n);return new e.TextSpan(r,i-r)},n}(s),u=function(t){function n(n){t.call(this),this.source=null;if(n===null)throw e.Errors.argumentNull("data");this.source=n}return __extends(n,t),n.prototype.length=function(){return this.source.length},n.prototype.charCodeAt=function(t){if(t<0||t>=this.source.length)throw e.Errors.argumentOutOfRange("position");return this.source.charCodeAt(t)},n.prototype.substr=function(e,t,n){return this.source.substr(e,t)},n.prototype.toString=function(t){return typeof t=="undefined"&&(t=null),t===null&&(t=new e.TextSpan(0,this.length())),this.checkSubSpan(t),t.start()===0&&t.length()===this.length()?this.source:this.source.substr(t.start(),t.length())},n.prototype.copyTo=function(t,n,r,i){e.StringUtilities.copyTo(this.source,t,n,r,i)},n}(s);t.createText=a})(e.TextFactory||(e.TextFactory={}));var t=e.TextFactory})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function s(e){return new r(e)}function o(e){return new i(e)}var n=function(){function t(t,n){this.text=null,this.span=null;if(t===null)throw e.Errors.argumentNull("text");if(n.start()<0||n.start()>=t.length()||n.end()<0||n.end()>t.length())throw e.Errors.argument("span");this.text=t,this.span=n}return t.prototype.checkSubSpan=function(t){if(t.start()<0||t.start()>this.length()||t.end()>this.length())throw e.Errors.argumentOutOfRange("span")},t.prototype.checkSubPosition=function(t){if(t<0||t>=this.length())throw e.Errors.argumentOutOfRange("position")},t.prototype.length=function(){return this.span.length()},t.prototype.subText=function(e){return this.checkSubSpan(e),new t(this.text,this.getCompositeSpan(e.start(),e.length()))},t.prototype.copyTo=function(e,t,n,r){var i=this.getCompositeSpan(e,r);this.text.copyTo(i.start(),t,n,i.length())},t.prototype.substr=function(e,t,n){var r=this.getCompositeSpan(e,t);return this.text.substr(r.start(),r.length(),n)},t.prototype.getCompositeSpan=function(t,n){var r=e.MathPrototype.min(this.text.length(),this.span.start()+t),i=e.MathPrototype.min(this.text.length(),r+n);return new e.TextSpan(r,i-r)},t.prototype.charCodeAt=function(e){return this.checkSubPosition(e),this.text.charCodeAt(this.span.start()+e)},t.prototype.lineMap=function(){return e.LineMap.fromSimpleText(this)},t}(),r=function(){function t(e){this.value=e}return t.prototype.length=function(){return this.value.length},t.prototype.copyTo=function(t,n,r,i){e.StringUtilities.copyTo(this.value,t,n,r,i)},t.prototype.substr=function(n,r,i){if(i){var s=r<=t.charArray.length?t.charArray:e.ArrayUtilities.createArray(r,0);return this.copyTo(n,s,0,r),e.Collections.DefaultStringTable.addCharArray(s,0,r)}return this.value.substr(n,r)},t.prototype.subText=function(e){return new n(this,e)},t.prototype.charCodeAt=function(e){return this.value.charCodeAt(e)},t.prototype.lineMap=function(){return e.LineMap.fromSimpleText(this)},t.charArray=e.ArrayUtilities.createArray(1024,0),t}(),i=function(){function t(e){this.scriptSnapshot=e}return t.prototype.charCodeAt=function(e){return this.scriptSnapshot.getText(e,e+1).charCodeAt(0)},t.prototype.length=function(){return this.scriptSnapshot.getLength()},t.prototype.copyTo=function(t,n,r,i){var s=this.scriptSnapshot.getText(t,t+i);e.StringUtilities.copyTo(s,0,n,r,i)},t.prototype.substr=function(e,t,n){return this.scriptSnapshot.getText(e,e+t)},t.prototype.subText=function(e){return new n(this,e)},t.prototype.lineMap=function(){var t=this.scriptSnapshot.getLineStartPositions();return new e.LineMap(t,this.length())},t}();t.fromString=s,t.fromScriptSnapshot=o})(e.SimpleText||(e.SimpleText={}));var t=e.SimpleText})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){function t(t){var n=t.length();if(0===n){var r=[];return r.push(0),r}var i=0,s=0,o=[],u=0;while(s<n){var a=t.charCodeAt(s),f;if(a>13&&a<=127){s++;continue}a===13&&s+1<n&&t.charCodeAt(s+1)===10?f=2:a===10?f=1:f=e.getLengthOfLineBreak(t,s),0===f?s++:(o.push(i),s+=f,i=s,u++)}return o.push(i),o}function n(e,t,n){if(n===13){var r=t+1;return r<e.length()&&10===e.charCodeAt(r)?2:1}return i(n)?1:0}function r(e,t){var r=e.charCodeAt(t);return r>13&&r<=127?0:n(e,t,r)}function i(e){return e===10||e===13||e===133||e===8232||e===8233}e.parseLineStarts=t,e.getLengthOfLineBreakSlow=n,e.getLengthOfLineBreak=r,e.isAnyLineBreakCharacter=i})(e.TextUtilities||(e.TextUtilities={}));var t=e.TextUtilities})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(t,n){t<0&&e.Errors.argument("start");if(t+n<t)throw new Error("length");this._start=t,this._length=n}return t.prototype.start=function(){return this._start},t.prototype.length=function(){return this._length},t.prototype.end=function(){return this._start+this._length},t.prototype.isEmpty=function(){return this._length===0},t.prototype.containsPosition=function(e){return e>=this._start&&e<this.end()},t.prototype.containsTextSpan=function(e){return e._start>=this._start&&e.end()<=this.end()},t.prototype.overlapsWith=function(t){var n=e.MathPrototype.max(this._start,t._start),r=e.MathPrototype.min(this.end(),t.end());return n<r},t.prototype.overlap=function(n){var r=e.MathPrototype.max(this._start,n._start),i=e.MathPrototype.min(this.end(),n.end());return r<i?t.fromBounds(r,i):null},t.prototype.intersectsWithTextSpan=function(e){return e._start<=this.end()&&e.end()>=this._start},t.prototype.intersectsWith=function(e,t){var n=e+t;return e<=this.end()&&n>=this._start},t.prototype.intersectsWithPosition=function(e){return e<=this.end()&&e>=this._start},t.prototype.intersection=function(n){var r=e.MathPrototype.max(this._start,n._start),i=e.MathPrototype.min(this.end(),n.end());return r<=i?t.fromBounds(r,i):null},t.fromBounds=function(n,r){return e.Contract.requires(n>=0),e.Contract.requires(r-n>=0),new t(n,r-n)},t}();e.TextSpan=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(t,n){if(n<0)throw e.Errors.argumentOutOfRange("newLength");this._span=t,this._newLength=n}return t.prototype.span=function(){return this._span},t.prototype.newLength=function(){return this._newLength},t.prototype.newSpan=function(){return new e.TextSpan(this.span().start(),this.newLength())},t.prototype.isUnchanged=function(){return this.span().isEmpty()&&this.newLength()===0},t.collapseChangesFromSingleVersion=function(n){var r=0,i=1073741823,s=0;for(var o=0;o<n.length;o++){var u=n[o];r+=u.newLength()-u.span().length(),u.span().start()<i&&(i=u.span().start()),u.span().end()>s&&(s=u.span().end())}if(i>s)return null;var a=e.TextSpan.fromBounds(i,s),f=a.length()+r;return new t(a,f)},t.collapseChangesAcrossMultipleVersions=function(n){if(n.length===0)return t.unchanged;if(n.length===1)return n[0];var r=n[0],i=r.span().start(),s=r.span().end(),o=i+r.newLength();for(var u=1;u<n.length;u++){var a=n[u],f=i,l=s,c=o,h=a.span().start(),p=a.span().end(),d=h+a.newLength();i=e.MathPrototype.min(f,h),s=e.MathPrototype.max(l,l+(p-c)),o=e.MathPrototype.max(d,d+(c-p))}return new t(e.TextSpan.fromBounds(i,s),o-i)},t.unchanged=new t(new e.TextSpan(0,0),0),t}();e.TextChangeRange=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.isDecimalDigit=function(e){return e>=48&&e<=57},e.isHexDigit=function(t){return e.isDecimalDigit(t)||t>=65&&t<=70||t>=97&&t<=102},e.hexValue=function(t){return e.isDecimalDigit(t)?t-48:t>=65&&t<=70?t-65+10:t-97+10},e.isWhitespace=function(e){switch(e){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:return!0}return!1},e.isLineTerminator=function(e){switch(e){case 13:case 10:case 8233:case 8232:return!0}return!1},e}();e.CharacterInfo=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){e[e.TriviaNewLineMask=1]="TriviaNewLineMask",e[e.TriviaCommentMask=2]="TriviaCommentMask",e[e.TriviaFullWidthShift=2]="TriviaFullWidthShift",e[e.NodeDataComputed=1]="NodeDataComputed",e[e.NodeIncrementallyUnusableMask=2]="NodeIncrementallyUnusableMask",e[e.NodeParsedInStrictModeMask=4]="NodeParsedInStrictModeMask",e[e.NodeFullWidthShift=3]="NodeFullWidthShift"})(e.SyntaxConstants||(e.SyntaxConstants={}));var t=e.SyntaxConstants})(TypeScript||(TypeScript={}));var FormattingOptions=function(){function e(e,t,n,r){this.useTabs=e,this.spacesPerTab=t,this.indentSpaces=n,this.newLineCharacter=r}return e.defaultOptions=new e(!1,4,4,"\r\n"),e}(),TypeScript;(function(e){(function(t){function n(e,t,n){return r(e,t,n)+e.width()}function r(e,t,n){var r=t.firstTokenInLineContainingToken(e),i=[],u=e;while(u!==r)u=t.previousToken(u),u===r?(i.push(u.trailingTrivia().fullText()),i.push(u.text())):i.push(u.fullText());return s(r,i),o(i,n)}function i(e,t,n){var r=t.firstTokenInLineContainingToken(e),i=[];return s(r,i),o(i,n)}function s(t,n){var r=t.leadingTrivia();for(var i=r.count()-1;i>=0;i--){var s=r.syntaxTriviaAt(i);if(s.kind()===5)break;if(s.kind()===6){var o=e.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(s);n.push(e.ArrayUtilities.last(o));if(o.length>0)break}n.push(s.fullText())}}function o(e,t){var n=0;for(var r=e.length-1;r>=0;r--){var i=e[r];n=a(i,i.length,n,t)}return n}function u(e,t,n){return a(e,t,0,n)}function a(e,t,n,r){var i=n,s=r.spacesPerTab;for(var o=0;o<t;o++){var u=e.charCodeAt(o);u===9?i+=s-i%s:i++}return i}function f(t,n){var r=0,i=e.MathPrototype.max(0,t);return n.useTabs&&(r=Math.floor(t/n.spacesPerTab),i-=r*n.spacesPerTab),e.StringUtilities.repeat("	",r)+e.StringUtilities.repeat(" ",i)}function l(t,n){return e.Syntax.whitespace(this.indentationString(t,n))}function c(t){for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);if(!e.CharacterInfo.isWhitespace(r))return n}return t.length}t.columnForEndOfToken=n,t.columnForStartOfToken=r,t.columnForStartOfFirstTokenInLineContainingToken=i,t.columnForPositionInString=u,t.indentationString=f,t.indentationTrivia=l,t.firstNonWhitespacePosition=c})(e.Indentation||(e.Indentation={}));var t=e.Indentation})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){e[e.EcmaScript3=0]="EcmaScript3",e[e.EcmaScript5=1]="EcmaScript5"})(e.LanguageVersion||(e.LanguageVersion={}));var t=e.LanguageVersion})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(e,t){this._allowAutomaticSemicolonInsertion=e,this._allowModuleKeywordInExternalModuleReference=t}return e.prototype.toJSON=function(e){return{allowAutomaticSemicolonInsertion:this._allowAutomaticSemicolonInsertion,allowModuleKeywordInExternalModuleReference:this._allowModuleKeywordInExternalModuleReference}},e.prototype.allowAutomaticSemicolonInsertion=function(){return this._allowAutomaticSemicolonInsertion},e.prototype.allowModuleKeywordInExternalModuleReference=function(){return this._allowModuleKeywordInExternalModuleReference},e}();e.ParseOptions=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(e,t,n){this._parent=e,this._element=t,this._fullStart=n}return t.create=function(t,n,u){if(n===null)return null;if(n.isNode())return new r(t,n,u);if(n.isToken())return new i(t,n,u);if(n.isList())return new s(t,n,u);if(n.isSeparatedList())return new o(t,n,u);throw e.Errors.invalidOperation()},t.prototype.parent=function(){return this._parent},t.prototype.parentElement=function(){return this._parent&&this._parent._element},t.prototype.element=function(){return this._element},t.prototype.kind=function(){return this.element().kind()},t.prototype.childIndex=function(t){return e.Syntax.childIndex(this.element(),t)},t.prototype.childCount=function(){return this.element().childCount()},t.prototype.childAt=function(n){var r=e.Syntax.childOffsetAt(this.element(),n);return t.create(this,this.element().childAt(n),this.fullStart()+r)},t.prototype.childStart=function(t){var n=e.Syntax.childOffset(this.element(),t);return this.fullStart()+n+t.leadingTriviaWidth()},t.prototype.childEnd=function(t){var n=e.Syntax.childOffset(this.element(),t);return this.fullStart()+n+t.leadingTriviaWidth()+t.width()},t.prototype.childStartAt=function(t){var n=e.Syntax.childOffsetAt(this.element(),t),r=this.element().childAt(t);return this.fullStart()+n+r.leadingTriviaWidth()},t.prototype.childEndAt=function(t){var n=e.Syntax.childOffsetAt(this.element(),t),r=this.element().childAt(t);return this.fullStart()+n+r.leadingTriviaWidth()+r.width()},t.prototype.getPositionedChild=function(n){var r=e.Syntax.childOffset(this.element(),n);return t.create(this,n,this.fullStart()+r)},t.prototype.fullStart=function(){return this._fullStart},t.prototype.fullEnd=function(){return this.fullStart()+this.element().fullWidth()},t.prototype.fullWidth=function(){return this.element().fullWidth()},t.prototype.start=function(){return this.fullStart()+this.element().leadingTriviaWidth()},t.prototype.end=function(){return this.fullStart()+this.element().leadingTriviaWidth()+this.element().width()},t.prototype.root=function(){var e=this;while(e.parent()!==null)e=e.parent();return e},t.prototype.containingNode=function(){var e=this.parent();while(e!==null&&!e.element().isNode())e=e.parent();return e},t}();e.PositionedElement=t;var n=function(e){function t(t,n,r){e.call(this,t,n,r)}return __extends(t,e),t.prototype.nodeOrToken=function(){return this.element()},t}(t);e.PositionedNodeOrToken=n;var r=function(e){function t(t,n,r){e.call(this,t,n,r)}return __extends(t,e),t.prototype.node=function(){return this.element()},t}(n);e.PositionedNode=r;var i=function(e){function t(t,n,r){e.call(this,t,n,r)}return __extends(t,e),t.prototype.token=function(){return this.element()},t.prototype.previousToken=function(e){typeof e=="undefined"&&(e=!1);var t=this.token().leadingTrivia();if(e&&t&&t.hasSkippedToken()){var n=this.start();for(var r=t.count()-1;r>=0;r--){var i=t.syntaxTriviaAt(r);if(i.isSkippedToken())return new u(this,i.skippedToken(),n-i.fullWidth());n-=i.fullWidth()}}var s=this.fullStart();return s===0?null:this.root().node().findToken(s-1,e)},t.prototype.nextToken=function(e){typeof e=="undefined"&&(e=!1);if(this.token().tokenKind===10)return null;var t=this.token().trailingTrivia();if(e&&t&&t.hasSkippedToken()){var n=this.end();for(var r=0,i=t.count();r<i;r++){var s=t.syntaxTriviaAt(r);if(s.isSkippedToken())return new u(this,s.skippedToken(),n);n+=s.fullWidth()}}return this.root().node().findToken(this.fullEnd(),e)},t}(n);e.PositionedToken=i;var s=function(e){function t(t,n,r){e.call(this,t,n,r)}return __extends(t,e),t.prototype.list=function(){return this.element()},t}(t);e.PositionedList=s;var o=function(e){function t(t,n,r){e.call(this,t,n,r)}return __extends(t,e),t.prototype.list=function(){return this.element()},t}(t);e.PositionedSeparatedList=o;var u=function(t){function n(e,n,r){t.call(this,e.parent(),n,r),this._parentToken=e}return __extends(n,t),n.prototype.parentToken=function(){return this._parentToken},n.prototype.previousToken=function(t){typeof t=="undefined"&&(t=!1);var n=this.fullStart();if(t){var r;if(n>=this.parentToken().end())return r=e.Syntax.findSkippedTokenInTrailingTriviaList(this.parentToken(),n-1),r?r:this.parentToken();r=e.Syntax.findSkippedTokenInLeadingTriviaList(this.parentToken(),n-1);if(r)return r}var n=this.parentToken().fullStart();return n===0?null:this.root().node().findToken(n-1,t)},n.prototype.nextToken=function(t){typeof t=="undefined"&&(t=!1);if(this.token().tokenKind===10)return null;if(t){var n=this.end(),r;if(n<=this.parentToken().start())return r=e.Syntax.findSkippedTokenInLeadingTriviaList(this.parentToken(),n),r?r:this.parentToken();r=e.Syntax.findSkippedTokenInTrailingTriviaList(this.parentToken(),n);if(r)return r}return this.root().node().findToken(this.parentToken().fullEnd(),t)},n}(i);e.PositionedSkippedToken=u})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(n,r,i,s){typeof s=="undefined"&&(s=e.ArrayUtilities.createArray(2048,0)),t.initializeStaticData(),this.slidingWindow=new e.SlidingWindow(this,s,0,r.length()),this.fileName=n,this.text=r,this._languageVersion=i}return t.initializeStaticData=function(){if(t.isKeywordStartCharacter.length===0){t.isKeywordStartCharacter=e.ArrayUtilities.createArray(127,!1),t.isIdentifierStartCharacter=e.ArrayUtilities.createArray(127,!1),t.isIdentifierPartCharacter=e.ArrayUtilities.createArray(127,!1),t.isNumericLiteralStart=e.ArrayUtilities.createArray(127,!1);for(var n=0;n<127;n++)n>=97&&n<=122?(t.isIdentifierStartCharacter[n]=!0,t.isIdentifierPartCharacter[n]=!0):n>=65&&n<=90||n===95||n===36?(t.isIdentifierStartCharacter[n]=!0,t.isIdentifierPartCharacter[n]=!0):n>=48&&n<=57&&(t.isIdentifierPartCharacter[n]=!0,t.isNumericLiteralStart[n]=!0);t.isNumericLiteralStart[46]=!0;for(var r=e.SyntaxKind.FirstKeyword;r<=e.SyntaxKind.LastKeyword;r++){var i=e.SyntaxFacts.getText(r);t.isKeywordStartCharacter[i.charCodeAt(0)]=!0}}},t.prototype.languageVersion=function(){return this._languageVersion},t.prototype.fetchMoreItems=function(t,n,r,i,s){var o=this.text.length()-n,u=e.MathPrototype.min(o,s);return this.text.copyTo(n,r,i,u),u},t.prototype.currentCharCode=function(){return this.slidingWindow.currentItem(null)},t.prototype.absoluteIndex=function(){return this.slidingWindow.absoluteIndex()},t.prototype.setAbsoluteIndex=function(e){this.slidingWindow.setAbsoluteIndex(e)},t.prototype.scan=function(t,n){var r=t.length,i=this.slidingWindow.absoluteIndex(),s=this.scanTriviaInfo(t,!1),o=this.slidingWindow.absoluteIndex(),u=this.scanSyntaxToken(t,n),a=this.slidingWindow.absoluteIndex(),f=this.scanTriviaInfo(t,!0),l=this.createToken(i,s,o,u,a,f);return r!==t.length?e.Syntax.realizeToken(l):l},t.prototype.createToken=function(t,n,r,i,s,o){if(i>=e.SyntaxKind.FirstFixedWidth)return n===0?o===0?new e.Syntax.FixedWidthTokenWithNoTrivia(i):new e.Syntax.FixedWidthTokenWithTrailingTrivia(this.text,t,i,o):o===0?new e.Syntax.FixedWidthTokenWithLeadingTrivia(this.text,t,i,n):new e.Syntax.FixedWidthTokenWithLeadingAndTrailingTrivia(this.text,t,i,n,o);var u=s-r;return n===0?o===0?new e.Syntax.VariableWidthTokenWithNoTrivia(this.text,t,i,u):new e.Syntax.VariableWidthTokenWithTrailingTrivia(this.text,t,i,u,o):o===0?new e.Syntax.VariableWidthTokenWithLeadingTrivia(this.text,t,i,n,u):new e.Syntax.VariableWidthTokenWithLeadingAndTrailingTrivia(this.text,t,i,n,u,o)},t.scanTrivia=function(n,r,i,s){var o=new t(null,n.subText(new e.TextSpan(r,i)),1,t.triviaWindow);return o.scanTrivia(s)},t.prototype.scanTrivia=function(t){var n=[];for(;;){if(!this.slidingWindow.isAtEndOfSource()){var r=this.currentCharCode();switch(r){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:n.push(this.scanWhitespaceTrivia());continue;case 47:var i=this.slidingWindow.peekItemN(1);if(i===47){n.push(this.scanSingleLineCommentTrivia());continue}if(i===42){n.push(this.scanMultiLineCommentTrivia());continue}throw e.Errors.invalidOperation();case 13:case 10:case 8233:case 8232:n.push(this.scanLineTerminatorSequenceTrivia(r));if(!t)continue;break;default:throw e.Errors.invalidOperation()}}return e.Syntax.triviaList(n)}},t.prototype.scanTriviaInfo=function(e,t){var n=0,r=0;for(;;){var i=this.currentCharCode();switch(i){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:this.slidingWindow.moveToNextItem(),n++;continue;case 47:var s=this.slidingWindow.peekItemN(1);if(s===47){r|=2,n+=this.scanSingleLineCommentTriviaLength();continue}if(s===42){r|=2,n+=this.scanMultiLineCommentTriviaLength(e);continue}break;case 13:case 10:case 8233:case 8232:r|=1,n+=this.scanLineTerminatorSequenceLength(i);if(!t)continue}return n<<2|r}},t.prototype.isNewLineCharacter=function(e){switch(e){case 13:case 10:case 8233:case 8232:return!0;default:return!1}},t.prototype.scanWhitespaceTrivia=function(){var t=this.slidingWindow.getAndPinAbsoluteIndex(),n=0;for(;;){var r=this.currentCharCode();switch(r){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:this.slidingWindow.moveToNextItem(),n++;continue}break}var i=this.substring(t,t+n,!1);return this.slidingWindow.releaseAndUnpinAbsoluteIndex(t),e.Syntax.whitespace(i)},t.prototype.scanSingleLineCommentTrivia=function(){var t=this.slidingWindow.getAndPinAbsoluteIndex(),n=this.scanSingleLineCommentTriviaLength(),r=this.substring(t,t+n,!1);return this.slidingWindow.releaseAndUnpinAbsoluteIndex(t),e.Syntax.singleLineComment(r)},t.prototype.scanSingleLineCommentTriviaLength=function(){this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem();var e=2;for(;;){if(this.slidingWindow.isAtEndOfSource()||this.isNewLineCharacter(this.currentCharCode()))return e;this.slidingWindow.moveToNextItem(),e++}},t.prototype.scanMultiLineCommentTrivia=function(){var t=this.slidingWindow.getAndPinAbsoluteIndex(),n=this.scanMultiLineCommentTriviaLength(null),r=this.substring(t,t+n,!1);return this.slidingWindow.releaseAndUnpinAbsoluteIndex(t),e.Syntax.multiLineComment(r)},t.prototype.scanMultiLineCommentTriviaLength=function(t){this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem();var n=2;for(;;){if(this.slidingWindow.isAtEndOfSource())return t!==null&&t.push(new e.SyntaxDiagnostic(this.fileName,this.slidingWindow.absoluteIndex(),0,15,null)),n;var r=this.currentCharCode();if(r===42&&this.slidingWindow.peekItemN(1)===47)return this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),n+=2,n;this.slidingWindow.moveToNextItem(),n++}},t.prototype.scanLineTerminatorSequenceTrivia=function(t){var n=this.slidingWindow.getAndPinAbsoluteIndex(),r=this.scanLineTerminatorSequenceLength(t),i=this.substring(n,n+r,!1);return this.slidingWindow.releaseAndUnpinAbsoluteIndex(n),e.Syntax.trivia(5,i)},t.prototype.scanLineTerminatorSequenceLength=function(e){return this.slidingWindow.moveToNextItem(),e===13&&this.currentCharCode()===10?(this.slidingWindow.moveToNextItem(),2):1},t.prototype.scanSyntaxToken=function(e,n){if(this.slidingWindow.isAtEndOfSource())return 10;var r=this.currentCharCode();switch(r){case 34:case 39:return this.scanStringLiteral(e);case 47:return this.scanSlashToken(n);case 46:return this.scanDotToken();case 45:return this.scanMinusToken();case 33:return this.scanExclamationToken();case 61:return this.scanEqualsToken();case 124:return this.scanBarToken();case 42:return this.scanAsteriskToken();case 43:return this.scanPlusToken();case 37:return this.scanPercentToken();case 38:return this.scanAmpersandToken();case 94:return this.scanCaretToken();case 60:return this.scanLessThanToken();case 62:return this.advanceAndSetTokenKind(82);case 44:return this.advanceAndSetTokenKind(80);case 58:return this.advanceAndSetTokenKind(107);case 59:return this.advanceAndSetTokenKind(79);case 126:return this.advanceAndSetTokenKind(103);case 40:return this.advanceAndSetTokenKind(73);case 41:return this.advanceAndSetTokenKind(74);case 123:return this.advanceAndSetTokenKind(71);case 125:return this.advanceAndSetTokenKind(72);case 91:return this.advanceAndSetTokenKind(75);case 93:return this.advanceAndSetTokenKind(76);case 63:return this.advanceAndSetTokenKind(106)}if(t.isNumericLiteralStart[r])return this.scanNumericLiteral();if(t.isIdentifierStartCharacter[r]){var i=this.tryFastScanIdentifierOrKeyword(r);if(i!==0)return i}return this.isIdentifierStart(this.peekCharOrUnicodeEscape())?this.slowScanIdentifier(e):this.scanDefaultCharacter(r,e)},t.prototype.isIdentifierStart=function(n){return t.isIdentifierStartCharacter[n]?!0:n>127&&e.Unicode.isIdentifierStart(n,this._languageVersion)},t.prototype.isIdentifierPart=function(n){return t.isIdentifierPartCharacter[n]?!0:n>127&&e.Unicode.isIdentifierPart(n,this._languageVersion)},t.prototype.tryFastScanIdentifierOrKeyword=function(n){var r=this.slidingWindow.getAndPinAbsoluteIndex();for(;;){var i=this.currentCharCode();if(!t.isIdentifierPartCharacter[i]){if(i===92||i>127)return this.slidingWindow.rewindToPinnedIndex(r),this.slidingWindow.releaseAndUnpinAbsoluteIndex(r),0;var s=this.slidingWindow.absoluteIndex(),o;if(t.isKeywordStartCharacter[n]){var u=r-this.slidingWindow.windowAbsoluteStartIndex;o=e.ScannerUtilities.identifierKind(this.slidingWindow.window,u,s-r)}else o=11;return this.slidingWindow.releaseAndUnpinAbsoluteIndex(r),o}this.slidingWindow.moveToNextItem()}},t.prototype.slowScanIdentifier=function(e){var t=this.slidingWindow.absoluteIndex();do this.scanCharOrUnicodeEscape(e);while(this.isIdentifierPart(this.peekCharOrUnicodeEscape()));return 11},t.prototype.scanNumericLiteral=function(){return this.isHexNumericLiteral()?this.scanHexNumericLiteral():this.scanDecimalNumericLiteral()},t.prototype.scanDecimalNumericLiteral=function(){while(e.CharacterInfo.isDecimalDigit(this.currentCharCode()))this.slidingWindow.moveToNextItem();this.currentCharCode()===46&&this.slidingWindow.moveToNextItem();while(e.CharacterInfo.isDecimalDigit(this.currentCharCode()))this.slidingWindow.moveToNextItem();var t=this.currentCharCode();if(t===101||t===69)this.slidingWindow.moveToNextItem(),t=this.currentCharCode(),(t===45||t===43)&&e.CharacterInfo.isDecimalDigit(this.slidingWindow.peekItemN(1))&&this.slidingWindow.moveToNextItem();while(e.CharacterInfo.isDecimalDigit(this.currentCharCode()))this.slidingWindow.moveToNextItem();return 13},t.prototype.scanHexNumericLiteral=function(){this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem();while(e.CharacterInfo.isHexDigit(this.currentCharCode()))this.slidingWindow.moveToNextItem();return 13},t.prototype.isHexNumericLiteral=function(){if(this.currentCharCode()===48){var t=this.slidingWindow.peekItemN(1);if(t===120||t===88)return t=this.slidingWindow.peekItemN(2),e.CharacterInfo.isHexDigit(t)}return!1},t.prototype.advanceAndSetTokenKind=function(e){return this.slidingWindow.moveToNextItem(),e},t.prototype.scanLessThanToken=function(){return this.slidingWindow
.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),83):this.currentCharCode()===60?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),113):96):81},t.prototype.scanBarToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),117):this.currentCharCode()===124?(this.slidingWindow.moveToNextItem(),105):100},t.prototype.scanCaretToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),118):101},t.prototype.scanAmpersandToken=function(){this.slidingWindow.moveToNextItem();var e=this.currentCharCode();return e===61?(this.slidingWindow.moveToNextItem(),116):this.currentCharCode()===38?(this.slidingWindow.moveToNextItem(),104):99},t.prototype.scanPercentToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),112):93},t.prototype.scanMinusToken=function(){this.slidingWindow.moveToNextItem();var e=this.currentCharCode();return e===61?(this.slidingWindow.moveToNextItem(),110):e===45?(this.slidingWindow.moveToNextItem(),95):91},t.prototype.scanPlusToken=function(){this.slidingWindow.moveToNextItem();var e=this.currentCharCode();return e===61?(this.slidingWindow.moveToNextItem(),109):e===43?(this.slidingWindow.moveToNextItem(),94):90},t.prototype.scanAsteriskToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),111):92},t.prototype.scanEqualsToken=function(){this.slidingWindow.moveToNextItem();var e=this.currentCharCode();return e===61?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),88):85):e===62?(this.slidingWindow.moveToNextItem(),86):108},t.prototype.isDotPrefixedNumericLiteral=function(){if(this.currentCharCode()===46){var t=this.slidingWindow.peekItemN(1);return e.CharacterInfo.isDecimalDigit(t)}return!1},t.prototype.scanDotToken=function(){return this.isDotPrefixedNumericLiteral()?this.scanNumericLiteral():(this.slidingWindow.moveToNextItem(),this.currentCharCode()===46&&this.slidingWindow.peekItemN(1)===46?(this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),78):77)},t.prototype.scanSlashToken=function(e){if(e){var t=this.tryScanRegularExpressionToken();if(t!==0)return t}return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),120):119},t.prototype.tryScanRegularExpressionToken=function(){var e=this.slidingWindow.getAndPinAbsoluteIndex();try{this.slidingWindow.moveToNextItem();var n=!1,r=!1;for(;;){var i=this.currentCharCode();if(this.isNewLineCharacter(i)||this.slidingWindow.isAtEndOfSource())return this.slidingWindow.rewindToPinnedIndex(e),0;this.slidingWindow.moveToNextItem();if(n){n=!1;continue}switch(i){case 92:n=!0;continue;case 91:r=!0;continue;case 93:r=!1;continue;case 47:if(r)continue;break;default:continue}break}while(t.isIdentifierPartCharacter[this.currentCharCode()])this.slidingWindow.moveToNextItem();return 12}finally{this.slidingWindow.releaseAndUnpinAbsoluteIndex(e)}},t.prototype.scanExclamationToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),89):87):102},t.prototype.scanDefaultCharacter=function(t,n){var r=this.slidingWindow.absoluteIndex();this.slidingWindow.moveToNextItem();var i=String.fromCharCode(t),s=this.getErrorMessageText(i);return n.push(new e.SyntaxDiagnostic(this.fileName,r,1,6,[s])),9},t.prototype.getErrorMessageText=function(e){return e==="\\"?'"\\"':JSON.stringify(e)},t.prototype.skipEscapeSequence=function(e){var t=this.slidingWindow.getAndPinAbsoluteIndex();try{this.slidingWindow.moveToNextItem();var n=this.currentCharCode();this.slidingWindow.moveToNextItem();switch(n){case 120:case 117:this.slidingWindow.rewindToPinnedIndex(t);var r=this.scanUnicodeOrHexEscape(e);return;case 13:this.currentCharCode()===10&&this.slidingWindow.moveToNextItem();return;default:return}}finally{this.slidingWindow.releaseAndUnpinAbsoluteIndex(t)}},t.prototype.scanStringLiteral=function(t){var n=this.currentCharCode();this.slidingWindow.moveToNextItem();for(;;){var r=this.currentCharCode();if(r===92)this.skipEscapeSequence(t);else{if(r===n){this.slidingWindow.moveToNextItem();break}if(this.isNewLineCharacter(r)||this.slidingWindow.isAtEndOfSource()){t.push(new e.SyntaxDiagnostic(this.fileName,this.slidingWindow.absoluteIndex(),1,7,null));break}this.slidingWindow.moveToNextItem()}}return 14},t.prototype.isUnicodeOrHexEscape=function(e){return this.isUnicodeEscape(e)||this.isHexEscape(e)},t.prototype.isUnicodeEscape=function(e){if(e===92){var t=this.slidingWindow.peekItemN(1);if(t===117)return!0}return!1},t.prototype.isHexEscape=function(e){if(e===92){var t=this.slidingWindow.peekItemN(1);if(t===120)return!0}return!1},t.prototype.peekCharOrUnicodeOrHexEscape=function(){var e=this.currentCharCode();return this.isUnicodeOrHexEscape(e)?this.peekUnicodeOrHexEscape():e},t.prototype.peekCharOrUnicodeEscape=function(){var e=this.currentCharCode();return this.isUnicodeEscape(e)?this.peekUnicodeOrHexEscape():e},t.prototype.peekUnicodeOrHexEscape=function(){var e=this.slidingWindow.getAndPinAbsoluteIndex(),t=this.scanUnicodeOrHexEscape(null);return this.slidingWindow.rewindToPinnedIndex(e),this.slidingWindow.releaseAndUnpinAbsoluteIndex(e),t},t.prototype.scanCharOrUnicodeEscape=function(e){var t=this.currentCharCode();if(t===92){var n=this.slidingWindow.peekItemN(1);if(n===117)return this.scanUnicodeOrHexEscape(e)}return this.slidingWindow.moveToNextItem(),t},t.prototype.scanCharOrUnicodeOrHexEscape=function(e){var t=this.currentCharCode();if(t===92){var n=this.slidingWindow.peekItemN(1);if(n===117||n===120)return this.scanUnicodeOrHexEscape(e)}return this.slidingWindow.moveToNextItem(),t},t.prototype.scanUnicodeOrHexEscape=function(t){var n=this.slidingWindow.absoluteIndex(),r=this.currentCharCode();this.slidingWindow.moveToNextItem(),r=this.currentCharCode();var i=0;this.slidingWindow.moveToNextItem();var s=r===117?4:2;for(var o=0;o<s;o++){var u=this.currentCharCode();if(!e.CharacterInfo.isHexDigit(u)){if(t!==null){var a=this.slidingWindow.absoluteIndex(),f=this.createIllegalEscapeDiagnostic(n,a);t.push(f)}break}i=(i<<4)+e.CharacterInfo.hexValue(u),this.slidingWindow.moveToNextItem()}return i},t.prototype.substring=function(t,n,r){var i=n-t,s=t-this.slidingWindow.windowAbsoluteStartIndex;return r?e.Collections.DefaultStringTable.addCharArray(this.slidingWindow.window,s,i):e.StringUtilities.fromCharCodeArray(this.slidingWindow.window.slice(s,s+i))},t.prototype.createIllegalEscapeDiagnostic=function(t,n){return new e.SyntaxDiagnostic(this.fileName,t,n-t,5,null)},t.isValidIdentifier=function(n,r){var i=new t(null,n,e.LanguageVersion,t.triviaWindow),s=[],o=i.scan(s,!1);return s.length===0&&e.SyntaxFacts.isIdentifierNameOrAnyKeyword(o)&&o.width()===n.length()},t.isKeywordStartCharacter=[],t.isIdentifierStartCharacter=[],t.isIdentifierPartCharacter=[],t.isNumericLiteralStart=[],t.triviaWindow=e.ArrayUtilities.createArray(2048,0),t}();e.Scanner=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.identifierKind=function(e,t,n){switch(n){case 2:switch(e[t]){case 100:return e[t+1]===111?22:11;case 105:switch(e[t+1]){case 102:return 28;case 110:return 29;default:return 11};default:return 11};case 3:switch(e[t]){case 102:return e[t+1]===111&&e[t+2]===114?26:11;case 110:return e[t+1]===101&&e[t+2]===119?31:11;case 116:return e[t+1]===114&&e[t+2]===121?38:11;case 118:return e[t+1]===97&&e[t+2]===114?40:11;case 108:return e[t+1]===101&&e[t+2]===116?53:11;case 97:return e[t+1]===110&&e[t+2]===121?60:11;case 103:return e[t+1]===101&&e[t+2]===116?65:11;case 115:return e[t+1]===101&&e[t+2]===116?69:11;default:return 11};case 4:switch(e[t]){case 99:return e[t+1]===97&&e[t+2]===115&&e[t+3]===101?16:11;case 101:switch(e[t+1]){case 108:return e[t+2]===115&&e[t+3]===101?23:11;case 110:return e[t+2]===117&&e[t+3]===109?46:11;default:return 11};case 110:return e[t+1]===117&&e[t+2]===108&&e[t+3]===108?32:11;case 116:switch(e[t+1]){case 104:return e[t+2]===105&&e[t+3]===115?35:11;case 114:return e[t+2]===117&&e[t+3]===101?37:11;default:return 11};case 118:return e[t+1]===111&&e[t+2]===105&&e[t+3]===100?41:11;case 119:return e[t+1]===105&&e[t+2]===116&&e[t+3]===104?43:11;case 98:return e[t+1]===111&&e[t+2]===111&&e[t+3]===108?62:11;default:return 11};case 5:switch(e[t]){case 98:return e[t+1]===114&&e[t+2]===101&&e[t+3]===97&&e[t+4]===107?15:11;case 99:switch(e[t+1]){case 97:return e[t+2]===116&&e[t+3]===99&&e[t+4]===104?17:11;case 108:return e[t+2]===97&&e[t+3]===115&&e[t+4]===115?44:11;case 111:return e[t+2]===110&&e[t+3]===115&&e[t+4]===116?45:11;default:return 11};case 102:return e[t+1]===97&&e[t+2]===108&&e[t+3]===115&&e[t+4]===101?24:11;case 116:return e[t+1]===104&&e[t+2]===114&&e[t+3]===111&&e[t+4]===119?36:11;case 119:return e[t+1]===104&&e[t+2]===105&&e[t+3]===108&&e[t+4]===101?42:11;case 115:return e[t+1]===117&&e[t+2]===112&&e[t+3]===101&&e[t+4]===114?50:11;case 121:return e[t+1]===105&&e[t+2]===101&&e[t+3]===108&&e[t+4]===100?59:11;default:return 11};case 6:switch(e[t]){case 100:return e[t+1]===101&&e[t+2]===108&&e[t+3]===101&&e[t+4]===116&&e[t+5]===101?21:11;case 114:return e[t+1]===101&&e[t+2]===116&&e[t+3]===117&&e[t+4]===114&&e[t+5]===110?33:11;case 115:switch(e[t+1]){case 119:return e[t+2]===105&&e[t+3]===116&&e[t+4]===99&&e[t+5]===104?34:11;case 116:switch(e[t+2]){case 97:return e[t+3]===116&&e[t+4]===105&&e[t+5]===99?58:11;case 114:return e[t+3]===105&&e[t+4]===110&&e[t+5]===103?70:11;default:return 11};default:return 11};case 116:return e[t+1]===121&&e[t+2]===112&&e[t+3]===101&&e[t+4]===111&&e[t+5]===102?39:11;case 101:return e[t+1]===120&&e[t+2]===112&&e[t+3]===111&&e[t+4]===114&&e[t+5]===116?47:11;case 105:return e[t+1]===109&&e[t+2]===112&&e[t+3]===111&&e[t+4]===114&&e[t+5]===116?49:11;case 112:return e[t+1]===117&&e[t+2]===98&&e[t+3]===108&&e[t+4]===105&&e[t+5]===99?57:11;case 109:return e[t+1]===111&&e[t+2]===100&&e[t+3]===117&&e[t+4]===108&&e[t+5]===101?66:11;case 110:return e[t+1]===117&&e[t+2]===109&&e[t+3]===98&&e[t+4]===101&&e[t+5]===114?68:11;default:return 11};case 7:switch(e[t]){case 100:switch(e[t+1]){case 101:switch(e[t+2]){case 102:return e[t+3]===97&&e[t+4]===117&&e[t+5]===108&&e[t+6]===116?20:11;case 99:return e[t+3]===108&&e[t+4]===97&&e[t+5]===114&&e[t+6]===101?64:11;default:return 11};default:return 11};case 102:return e[t+1]===105&&e[t+2]===110&&e[t+3]===97&&e[t+4]===108&&e[t+5]===108&&e[t+6]===121?25:11;case 101:return e[t+1]===120&&e[t+2]===116&&e[t+3]===101&&e[t+4]===110&&e[t+5]===100&&e[t+6]===115?48:11;case 112:switch(e[t+1]){case 97:return e[t+2]===99&&e[t+3]===107&&e[t+4]===97&&e[t+5]===103&&e[t+6]===101?54:11;case 114:return e[t+2]===105&&e[t+3]===118&&e[t+4]===97&&e[t+5]===116&&e[t+6]===101?55:11;default:return 11};case 98:return e[t+1]===111&&e[t+2]===111&&e[t+3]===108&&e[t+4]===101&&e[t+5]===97&&e[t+6]===110?61:11;case 114:return e[t+1]===101&&e[t+2]===113&&e[t+3]===117&&e[t+4]===105&&e[t+5]===114&&e[t+6]===101?67:11;default:return 11};case 8:switch(e[t]){case 99:return e[t+1]===111&&e[t+2]===110&&e[t+3]===116&&e[t+4]===105&&e[t+5]===110&&e[t+6]===117&&e[t+7]===101?18:11;case 100:return e[t+1]===101&&e[t+2]===98&&e[t+3]===117&&e[t+4]===103&&e[t+5]===103&&e[t+6]===101&&e[t+7]===114?19:11;case 102:return e[t+1]===117&&e[t+2]===110&&e[t+3]===99&&e[t+4]===116&&e[t+5]===105&&e[t+6]===111&&e[t+7]===110?27:11;default:return 11};case 9:switch(e[t]){case 105:return e[t+1]===110&&e[t+2]===116&&e[t+3]===101&&e[t+4]===114&&e[t+5]===102&&e[t+6]===97&&e[t+7]===99&&e[t+8]===101?52:11;case 112:return e[t+1]===114&&e[t+2]===111&&e[t+3]===116&&e[t+4]===101&&e[t+5]===99&&e[t+6]===116&&e[t+7]===101&&e[t+8]===100?56:11;default:return 11};case 10:switch(e[t]){case 105:switch(e[t+1]){case 110:return e[t+2]===115&&e[t+3]===116&&e[t+4]===97&&e[t+5]===110&&e[t+6]===99&&e[t+7]===101&&e[t+8]===111&&e[t+9]===102?30:11;case 109:return e[t+2]===112&&e[t+3]===108&&e[t+4]===101&&e[t+5]===109&&e[t+6]===101&&e[t+7]===110&&e[t+8]===116&&e[t+9]===115?51:11;default:return 11};default:return 11};case 11:return e[t]===99&&e[t+1]===111&&e[t+2]===110&&e[t+3]===115&&e[t+4]===116&&e[t+5]===114&&e[t+6]===117&&e[t+7]===99&&e[t+8]===116&&e[t+9]===111&&e[t+10]===114?63:11;default:return 11}},e}();e.ScannerUtilities=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function s(e){return o(e,!1)}function o(e,n){if(e===undefined||e===null||e.length===0)return t.emptySeparatedList;if(n)for(var s=0;s<e.length;s++){var o=e[s];s%2===1}return e.length===1?new r(e[0]):new i(e)}var n=function(){function n(){}return n.prototype.kind=function(){return 2},n.prototype.isNode=function(){return!1},n.prototype.isToken=function(){return!1},n.prototype.isList=function(){return!1},n.prototype.isSeparatedList=function(){return!0},n.prototype.toJSON=function(e){return[]},n.prototype.childCount=function(){return 0},n.prototype.nonSeparatorCount=function(){return 0},n.prototype.separatorCount=function(){return 0},n.prototype.toArray=function(){return[]},n.prototype.toNonSeparatorArray=function(){return[]},n.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},n.prototype.nonSeparatorAt=function(t){throw e.Errors.argumentOutOfRange("index")},n.prototype.separatorAt=function(t){throw e.Errors.argumentOutOfRange("index")},n.prototype.collectTextElements=function(e){},n.prototype.firstToken=function(){return null},n.prototype.lastToken=function(){return null},n.prototype.fullWidth=function(){return 0},n.prototype.fullText=function(){return""},n.prototype.width=function(){return 0},n.prototype.isTypeScriptSpecific=function(){return!1},n.prototype.isIncrementallyUnusable=function(){return!1},n.prototype.findTokenInternal=function(t,n,r){throw e.Errors.invalidOperation()},n.prototype.insertChildrenInto=function(e,t){},n.prototype.leadingTrivia=function(){return t.emptyTriviaList},n.prototype.trailingTrivia=function(){return t.emptyTriviaList},n.prototype.leadingTriviaWidth=function(){return 0},n.prototype.trailingTriviaWidth=function(){return 0},n}();t.emptySeparatedList=new n;var r=function(){function t(e){this.item=e}return t.prototype.toJSON=function(e){return[this.item]},t.prototype.kind=function(){return 2},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!0},t.prototype.childCount=function(){return 1},t.prototype.nonSeparatorCount=function(){return 1},t.prototype.separatorCount=function(){return 0},t.prototype.toArray=function(){return[this.item]},t.prototype.toNonSeparatorArray=function(){return[this.item]},t.prototype.childAt=function(t){if(t!==0)throw e.Errors.argumentOutOfRange("index");return this.item},t.prototype.nonSeparatorAt=function(t){if(t!==0)throw e.Errors.argumentOutOfRange("index");return this.item},t.prototype.separatorAt=function(t){throw e.Errors.argumentOutOfRange("index")},t.prototype.collectTextElements=function(e){this.item.collectTextElements(e)},t.prototype.firstToken=function(){return this.item.firstToken()},t.prototype.lastToken=function(){return this.item.lastToken()},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.width=function(){return this.item.width()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.leadingTrivia=function(){return this.item.leadingTrivia()},t.prototype.trailingTrivia=function(){return this.item.trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.item.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.item.trailingTriviaWidth()},t.prototype.isTypeScriptSpecific=function(){return this.item.isTypeScriptSpecific()},t.prototype.isIncrementallyUnusable=function(){return this.item.isIncrementallyUnusable()},t.prototype.findTokenInternal=function(t,n,r){return this.item.findTokenInternal(new e.PositionedSeparatedList(t,this,r),n,r)},t.prototype.insertChildrenInto=function(e,t){e.splice(t,0,this.item)},t}(),i=function(){function t(e){this._data=0,this.elements=e}return t.prototype.kind=function(){return 2},t.prototype.isToken=function(){return!1},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!0},t.prototype.toJSON=function(e){return this.elements},t.prototype.childCount=function(){return this.elements.length},t.prototype.nonSeparatorCount=function(){return e.IntegerUtilities.integerDivide(this.elements.length+1,2)},t.prototype.separatorCount=function(){return e.IntegerUtilities.integerDivide(this.elements.length,2)},t.prototype.toArray=function(){return this.elements.slice(0)},t.prototype.toNonSeparatorArray=function(){var e=[];for(var t=0,n=this.nonSeparatorCount();t<n;t++)e.push(this.nonSeparatorAt(t));return e},t.prototype.childAt=function(t){if(t<0||t>=this.elements.length)throw e.Errors.argumentOutOfRange("index");return this.elements[t]},t.prototype.nonSeparatorAt=function(t){var n=t*2;if(n<0||n>=this.elements.length)throw e.Errors.argumentOutOfRange("index");return this.elements[n]},t.prototype.separatorAt=function(t){var n=t*2+1;if(n<0||n>=this.elements.length)throw e.Errors.argumentOutOfRange("index");return this.elements[n]},t.prototype.firstToken=function(){var e;for(var t=0,n=this.elements.length;t<n;t++)if(t%2===0){var r=this.elements[t];e=r.firstToken();if(e!==null)return e}else{e=this.elements[t];if(e.width()>0)return e}return null},t.prototype.lastToken=function(){var e;for(var t=this.elements.length-1;t>=0;t--)if(t%2===0){var n=this.elements[t];e=n.lastToken();if(e!==null)return e}else{e=this.elements[t];if(e.width()>0)return e}return null},t.prototype.fullText=function(){var e=[];return this.collectTextElements(e),e.join("")},t.prototype.isTypeScriptSpecific=function(){for(var e=0,t=this.nonSeparatorCount();e<t;e++)if(this.nonSeparatorAt(e).isTypeScriptSpecific())return!0;return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!==0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.width=function(){var e=this.fullWidth();return e-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTrivia=function(){return this.firstToken().leadingTrivia()},t.prototype.trailingTrivia=function(){return this.lastToken().trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.firstToken().leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.lastToken().trailingTriviaWidth()},t.prototype.computeData=function(){var e=0,t=!1;for(var n=0,r=this.elements.length;n<r;n++){var i=this.elements[n],s=i.fullWidth();e+=s,t=t||i.isIncrementallyUnusable()}return e<<3|(t?2:0)|1},t.prototype.data=function(){return(this._data&1)===0&&(this._data=this.computeData()),this._data},t.prototype.findTokenInternal=function(t,n,r){t=new e.PositionedSeparatedList(t,this,r);for(var i=0,s=this.elements.length;i<s;i++){var o=this.elements[i],u=o.fullWidth();if(n<u)return o.findTokenInternal(t,n,r);n-=u,r+=u}throw e.Errors.invalidOperation()},t.prototype.collectTextElements=function(e){for(var t=0,n=this.elements.length;t<n;t++){var r=this.elements[t];r.collectTextElements(e)}},t.prototype.insertChildrenInto=function(e,t){t===0?e.unshift.apply(e,this.elements):e.splice.apply(e,[t,0].concat(this.elements))},t}();t.separatedList=s})(e.Syntax||(e.Syntax={}));var t=e.Syntax})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(e,t,n,r){typeof r=="undefined"&&(r=-1),this.source=e,this.window=t,this.defaultValue=n,this.sourceLength=r,this.windowCount=0,this.windowAbsoluteStartIndex=0,this.currentRelativeItemIndex=0,this._pinCount=0,this.firstPinnedAbsoluteIndex=-1}return t.prototype.windowAbsoluteEndIndex=function(){return this.windowAbsoluteStartIndex+this.windowCount},t.prototype.addMoreItemsToWindow=function(e){if(this.sourceLength>=0&&this.absoluteIndex()>=this.sourceLength)return!1;this.windowCount>=this.window.length&&this.tryShiftOrGrowWindow();var t=this.window.length-this.windowCount,n=this.source.fetchMoreItems(e,this.windowAbsoluteEndIndex(),this.window,this.windowCount,t);return this.windowCount+=n,n>0},t.prototype.tryShiftOrGrowWindow=function(){var t=this.currentRelativeItemIndex>this.window.length>>>1,n=this.firstPinnedAbsoluteIndex===-1||this.firstPinnedAbsoluteIndex>this.windowAbsoluteStartIndex;if(t&&n){var r=this.firstPinnedAbsoluteIndex===-1?this.currentRelativeItemIndex:this.firstPinnedAbsoluteIndex-this.windowAbsoluteStartIndex,i=this.windowCount-r;i>0&&e.ArrayUtilities.copy(this.window,r,this.window,0,i),this.windowAbsoluteStartIndex+=r,this.windowCount-=r,this.currentRelativeItemIndex-=r}else e.ArrayUtilities.grow(this.window,this.window.length*2,this.defaultValue)},t.prototype.absoluteIndex=function(){return this.windowAbsoluteStartIndex+this.currentRelativeItemIndex},t.prototype.isAtEndOfSource=function(){return this.absoluteIndex()>=this.sourceLength},t.prototype.getAndPinAbsoluteIndex=function(){var e=this.absoluteIndex(),t=this._pinCount++;return t===0&&(this.firstPinnedAbsoluteIndex=e),e},t.prototype.releaseAndUnpinAbsoluteIndex=function(e){this._pinCount--,this._pinCount===0&&(this.firstPinnedAbsoluteIndex=-1)},t.prototype.rewindToPinnedIndex=function(e){var t=e-this.windowAbsoluteStartIndex;this.currentRelativeItemIndex=t},t.prototype.currentItem=function(e){return this.currentRelativeItemIndex>=this.windowCount&&!this.addMoreItemsToWindow(e)?this.defaultValue:this.window[this.currentRelativeItemIndex]},t.prototype.peekItemN=function(e){while(this.currentRelativeItemIndex+e>=this.windowCount)if(!this.addMoreItemsToWindow(null))return this.defaultValue;return this.window[this.currentRelativeItemIndex+e]},t.prototype.moveToNextItem=function(){this.currentRelativeItemIndex++},t.prototype.disgardAllItemsFromCurrentIndexOnwards=function(){this.windowCount=this.currentRelativeItemIndex},t.prototype.setAbsoluteIndex=function(e){if(this.absoluteIndex()===e)return;this._pinCount>0,e>=this.windowAbsoluteStartIndex&&e<this.windowAbsoluteEndIndex()?this.currentRelativeItemIndex=e-this.windowAbsoluteStartIndex:(this.windowAbsoluteStartIndex=e,this.windowCount=0,this.currentRelativeItemIndex=0)},t.prototype.pinCount=function(){return this._pinCount},t}();e.SlidingWindow=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.module__class__interface__enum__import_or_statement="module, class, interface, enum, import or statement",e.constructor__function__accessor_or_variable="constructor, function, accessor or variable",e.statement="statement",e.case_or_default_clause="case or default clause",e.identifier="identifier",e.call__construct__index__property_or_function_signature="call, construct, index, property or function signature",e.expression="expression",e.type_name="type name",e.property_or_accessor="property or accessor",e.parameter="parameter",e.type="type",e.type_parameter="type parameter",e}();e.Strings=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function n(){return e.Syntax.normalModeFactory.sourceUnit(e.Syntax.emptyList,e.Syntax.token(10,{text:""}))}function r(e){var t=e.token();if(e!==null&&e.kind()===11){var n=e.containingNode(),r=n.node();if(r.kind()===122&&r.right===t)return n;if(r.kind()===211&&r.name===t)return n}return e}function i(t){if(t!==null){var n=e.Syntax.getStandaloneExpression(t),r=n.containingNode();if(r!==null)switch(r.kind()){case 246:return!0;case 122:return!0;default:return s(t)}}return!1}function s(t){var n=e.Syntax.getStandaloneExpression(t),r=n.containingNode(),i=r.node(),s=n.nodeOrToken();if(i!==null)switch(i.kind()){case 125:return i.type===s;case 219:return i.type===s;case 244:case 229:case 227:return!0}return!1}function o(t,n){var r=0;for(var i=0,s=t.childCount();i<s;i++){var o=t.childAt(i);if(o===n)return r;o!==null&&(r+=o.fullWidth())}throw e.Errors.invalidOperation()}function u(e,t){var n=0;for(var r=0;r<t;r++){var i=e.childAt(r);i!==null&&(n+=i.fullWidth())}return n}function a(t,n){for(var r=0,i=t.childCount();r<i;r++){var s=t.childAt(r);if(s===n)return r}throw e.Errors.invalidOperation()}function f(e,t){return e===null?t===null:e.structuralEquals(t)}function l(e,t){return e===t?!0:e===null||t===null?!1:e.isToken()?t.isToken()?c(e,t):!1:t.isNode()?f(e,t):!1}function c(t,n){return t===n?!0:t===null||n===null?!1:t.kind()===n.kind()&&t.width()===n.width()&&t.fullWidth()===n.fullWidth()&&t.text()===n.text()&&e.Syntax.triviaListStructuralEquals(t.leadingTrivia(),n.leadingTrivia())&&e.Syntax.triviaListStructuralEquals(t.trailingTrivia(),n.trailingTrivia())}function h(t,n){if(t.count()!==n.count())return!1;for(var r=0,i=t.count();r<i;r++)if(!e.Syntax.triviaStructuralEquals(t.syntaxTriviaAt(r),n.syntaxTriviaAt(r)))return!1;return!0}function p(e,t){return e.kind()===t.kind()&&e.fullWidth()===t.fullWidth()&&e.fullText()===t.fullText()}function d(t,n){if(t.childCount()!==n.childCount())return!1;for(var r=0,i=t.childCount();r<i;r++){var s=t.childAt(r),o=n.childAt(r);if(!e.Syntax.nodeOrTokenStructuralEquals(s,o))return!1}return!0}function v(t,n){if(t.childCount()!==n.childCount())return!1;for(var r=0,i=t.childCount();r<i;r++){var s=t.childAt(r),o=n.childAt(r);if(!e.Syntax.nodeOrTokenStructuralEquals(s,o))return!1}return!0}function m(t,n){if(t===n)return!0;if(t===null||n===null)return!1;if(n.kind()!==n.kind())return!1;if(t.isToken())return c(t,n);if(t.isNode())return f(t,n);if(t.isList())return d(t,n);if(t.isSeparatedList())return v(t,n);throw e.Errors.invalidOperation()}function g(e,n){return typeof n=="undefined"&&(n=null),t.identifier(e)}function y(){return e.Syntax.token(37)}function b(){return e.Syntax.token(24)}function w(t){return e.Syntax.token(13,{text:t})}function E(t){return e.Syntax.token(14,{text:t})}function S(e){return e.kind()===212&&e.expression.kind()===50}function x(e){return e.kind()===148&&S(e.expression)}function T(e){return e.kind()===211&&e.expression.kind()===50}function N(e){return e.kind()===212&&T(e.expression)}function C(t,n,r){return e.Syntax.normalModeFactory.binaryExpression(173,t,n,r)}function k(e){for(var t=0;t<e.childCount();t++){var n=e.childAt(t);if(n!==null&&n.isToken()){var r=n;if(r.hasSkippedToken()||r.width()===0&&r.kind()!==10)return!0}}return!1}function L(e){if(e&&e.kind()===14){var t=e.text();return t.length<2||t.charCodeAt(t.length-1)!==t.charCodeAt(0)}return!1}function A(e){if(e&&e.kind()===6){var t=e.fullText();return t.length<4||t.substring(t.length-2)!=="*/"}return!1}function O(e,t,n){if(e&&e.isComment()&&n>t){var r=t+e.fullWidth();if(n<r)return!0;if(n===r)return e.kind()===7||A(e)}return!1}function M(e,t){var n=e.findToken(t),r=n.fullStart(),i=null,s=null;n.kind()===10?n.token().hasLeadingTrivia()?i=n.token().leadingTrivia():(n=n.previousToken(),n&&n&&n.token().hasTrailingTrivia()&&(i=n.token().trailingTrivia(),r=n.end())):t<=r+n.token().leadingTriviaWidth()?i=n.token().leadingTrivia():t>=r+n.token().width()&&(i=n.token().trailingTrivia(),r=n.end());if(i)for(var o=0,u=i.count();o<u;o++){var a=i.syntaxTriviaAt(o);if(t<=r)break;if(t<=r+a.fullWidth()&&a.isComment()){s=a;break}r+=a.fullWidth()}return s&&O(s,r,t)}function _(e,t){var n=e.findToken(t);if(n){if(n.kind()===10)return n=n.previousToken(),n&&n.token().trailingTriviaWidth()===0&&L(n.token());if(t>n.start())return t<n.end()&&(n.kind()===14||n.kind()===12)||t<=n.end()&&L(n.token())}return!1}function D(t,n,r){var i=null,s;r?(i=t.token().leadingTrivia(),s=t.fullStart()):(i=t.token().trailingTrivia(),s=t.end());if(i&&i.hasSkippedToken())for(var o=0,u=i.count();o<u;o++){var a=i.syntaxTriviaAt(o),f=a.fullWidth();if(a.isSkippedToken()&&n>=s&&n<=s+f)return new e.PositionedSkippedToken(t,a.skippedToken(),s);s+=f}return null}function P(e,t){return D(e,t,!0)}function H(e,t){return D(e,t,!1)}function B(e,t){var n=t<e.start();return D(e,t,n)}function j(e,t){while(e&&e.parent()){if(e.parent().kind()===t)return e.parent();e=e.parent()}return null}function F(t,n){return e.Syntax.getAncestorOfKind(t,n)!==null}t.emptySourceUnit=n,t.getStandaloneExpression=r,t.isInModuleOrTypeContext=i,t.isInTypeOnlyContext=s,t.childOffset=o,t.childOffsetAt=u,t.childIndex=a,t.nodeStructuralEquals=f,t.nodeOrTokenStructuralEquals=l,t.tokenStructuralEquals=c,t.triviaListStructuralEquals=h,t.triviaStructuralEquals=p,t.listStructuralEquals=d,t.separatedListStructuralEquals=v,t.elementStructuralEquals=m,t.identifierName=g,t.trueExpression=y,t.falseExpression=b,t.numericLiteralExpression=w,t.stringLiteralExpression=E,t.isSuperInvocationExpression=S,t.isSuperInvocationExpressionStatement=x,t.isSuperMemberAccessExpression=T,t.isSuperMemberAccessInvocationExpression=N,t.assignmentExpression=C,t.nodeHasSkippedOrMissingTokens=k,t.isUnterminatedStringLiteral=L,t.isUnterminatedMultilineCommentTrivia=A,t.isEntirelyInsideCommentTrivia=O,t.isEntirelyInsideComment=M,t.isEntirelyInStringOrRegularExpressionLiteral=_,t.findSkippedTokenInLeadingTriviaList=P,t.findSkippedTokenInTrailingTriviaList=H,t.findSkippedTokenInPositionedToken=B,t.getAncestorOfKind=j,t.hasAncestorOfKind=F})(e.Syntax||(e.Syntax={}));var t=e.Syntax})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.equals=function(t,n){return e.Diagnostic.equals(t,n)},n}(e.Diagnostic);e.SyntaxDiagnostic=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){var n=function(){function t(){}return t.prototype.sourceUnit=function(t,n){return new e.SourceUnitSyntax(t,n,!1)},t.prototype.externalModuleReference=function(t,n,r,i){return new e.ExternalModuleReferenceSyntax(t,n,r,i,!1)},t.prototype.moduleNameModuleReference=function(t){return new e.ModuleNameModuleReferenceSyntax(t,!1)},t.prototype.importDeclaration=function(t,n,r,i,s){return new e.ImportDeclarationSyntax(t,n,r,i,s,!1)},t.prototype.exportAssignment=function(t,n,r,i){return new e.ExportAssignmentSyntax(t,n,r,i,!1)},t.prototype.classDeclaration=function(t,n,r,i,s,o,u,a){return new e.ClassDeclarationSyntax(t,n,r,i,s,o,u,a,!1)},t.prototype.interfaceDeclaration=function(t,n,r,i,s,o){return new e.InterfaceDeclarationSyntax(t,n,r,i,s,o,!1)},t.prototype.heritageClause=function(t,n){return new e.HeritageClauseSyntax(t,n,!1)},t.prototype.moduleDeclaration=function(t,n,r,i,s,o,u){return new e.ModuleDeclarationSyntax(t,n,r,i,s,o,u,!1)},t.prototype.functionDeclaration=function(t,n,r,i,s,o){return new e.FunctionDeclarationSyntax(t,n,r,i,s,o,!1)},t.prototype.variableStatement=function(t,n,r){return new e.VariableStatementSyntax(t,n,r,!1)},t.prototype.variableDeclaration=function(t,n){return new e.VariableDeclarationSyntax(t,n,!1)},t.prototype.variableDeclarator=function(t,n,r){return new e.VariableDeclaratorSyntax(t,n,r,!1)},t.prototype.equalsValueClause=function(t,n){return new e.EqualsValueClauseSyntax(t,n,!1)},t.prototype.prefixUnaryExpression=function(t,n,r){return new e.PrefixUnaryExpressionSyntax(t,n,r,!1)},t.prototype.arrayLiteralExpression=function(t,n,r){return new e.ArrayLiteralExpressionSyntax(t,n,r,!1)},t.prototype.omittedExpression=function(){return new e.OmittedExpressionSyntax(!1)},t.prototype.parenthesizedExpression=function(t,n,r){return new e.ParenthesizedExpressionSyntax(t,n,r,!1)},t.prototype.simpleArrowFunctionExpression=function(t,n,r){return new e.SimpleArrowFunctionExpressionSyntax(t,n,r,!1)},t.prototype.parenthesizedArrowFunctionExpression=function(t,n,r){return new e.ParenthesizedArrowFunctionExpressionSyntax(t,n,r,!1)},t.prototype.qualifiedName=function(t,n,r){return new e.QualifiedNameSyntax(t,n,r,!1)},t.prototype.typeArgumentList=function(t,n,r){return new e.TypeArgumentListSyntax(t,n,r,!1)},t.prototype.constructorType=function(t,n,r,i,s){return new e.ConstructorTypeSyntax(t,n,r,i,s,!1)},t.prototype.functionType=function(t,n,r,i){return new e.FunctionTypeSyntax(t,n,r,i,!1)},t.prototype.objectType=function(t,n,r){return new e.ObjectTypeSyntax(t,n,r,!1)},t.prototype.arrayType=function(t,n,r){return new e.ArrayTypeSyntax(t,n,r,!1)},t.prototype.genericType=function(t,n){return new e.GenericTypeSyntax(t,n,!1)},t.prototype.typeAnnotation=function(t,n){return new e.TypeAnnotationSyntax(t,n,!1)},t.prototype.block=function(t,n,r){return new e.BlockSyntax(t,n,r,!1)},t.prototype.parameter=function(t,n,r,i,s,o){return new e.ParameterSyntax(t,n,r,i,s,o,!1)},t.prototype.memberAccessExpression=function(t,n,r){return new e.MemberAccessExpressionSyntax(t,n,r,!1)},t.prototype.postfixUnaryExpression=
function(t,n,r){return new e.PostfixUnaryExpressionSyntax(t,n,r,!1)},t.prototype.elementAccessExpression=function(t,n,r,i){return new e.ElementAccessExpressionSyntax(t,n,r,i,!1)},t.prototype.invocationExpression=function(t,n){return new e.InvocationExpressionSyntax(t,n,!1)},t.prototype.argumentList=function(t,n,r,i){return new e.ArgumentListSyntax(t,n,r,i,!1)},t.prototype.binaryExpression=function(t,n,r,i){return new e.BinaryExpressionSyntax(t,n,r,i,!1)},t.prototype.conditionalExpression=function(t,n,r,i,s){return new e.ConditionalExpressionSyntax(t,n,r,i,s,!1)},t.prototype.constructSignature=function(t,n){return new e.ConstructSignatureSyntax(t,n,!1)},t.prototype.methodSignature=function(t,n,r){return new e.MethodSignatureSyntax(t,n,r,!1)},t.prototype.indexSignature=function(t,n,r,i){return new e.IndexSignatureSyntax(t,n,r,i,!1)},t.prototype.propertySignature=function(t,n,r){return new e.PropertySignatureSyntax(t,n,r,!1)},t.prototype.callSignature=function(t,n,r){return new e.CallSignatureSyntax(t,n,r,!1)},t.prototype.parameterList=function(t,n,r){return new e.ParameterListSyntax(t,n,r,!1)},t.prototype.typeParameterList=function(t,n,r){return new e.TypeParameterListSyntax(t,n,r,!1)},t.prototype.typeParameter=function(t,n){return new e.TypeParameterSyntax(t,n,!1)},t.prototype.constraint=function(t,n){return new e.ConstraintSyntax(t,n,!1)},t.prototype.elseClause=function(t,n){return new e.ElseClauseSyntax(t,n,!1)},t.prototype.ifStatement=function(t,n,r,i,s,o){return new e.IfStatementSyntax(t,n,r,i,s,o,!1)},t.prototype.expressionStatement=function(t,n){return new e.ExpressionStatementSyntax(t,n,!1)},t.prototype.constructorDeclaration=function(t,n,r,i){return new e.ConstructorDeclarationSyntax(t,n,r,i,!1)},t.prototype.memberFunctionDeclaration=function(t,n,r,i,s){return new e.MemberFunctionDeclarationSyntax(t,n,r,i,s,!1)},t.prototype.getMemberAccessorDeclaration=function(t,n,r,i,s,o){return new e.GetMemberAccessorDeclarationSyntax(t,n,r,i,s,o,!1)},t.prototype.setMemberAccessorDeclaration=function(t,n,r,i,s){return new e.SetMemberAccessorDeclarationSyntax(t,n,r,i,s,!1)},t.prototype.memberVariableDeclaration=function(t,n,r){return new e.MemberVariableDeclarationSyntax(t,n,r,!1)},t.prototype.throwStatement=function(t,n,r){return new e.ThrowStatementSyntax(t,n,r,!1)},t.prototype.returnStatement=function(t,n,r){return new e.ReturnStatementSyntax(t,n,r,!1)},t.prototype.objectCreationExpression=function(t,n,r){return new e.ObjectCreationExpressionSyntax(t,n,r,!1)},t.prototype.switchStatement=function(t,n,r,i,s,o,u){return new e.SwitchStatementSyntax(t,n,r,i,s,o,u,!1)},t.prototype.caseSwitchClause=function(t,n,r,i){return new e.CaseSwitchClauseSyntax(t,n,r,i,!1)},t.prototype.defaultSwitchClause=function(t,n,r){return new e.DefaultSwitchClauseSyntax(t,n,r,!1)},t.prototype.breakStatement=function(t,n,r){return new e.BreakStatementSyntax(t,n,r,!1)},t.prototype.continueStatement=function(t,n,r){return new e.ContinueStatementSyntax(t,n,r,!1)},t.prototype.forStatement=function(t,n,r,i,s,o,u,a,f,l){return new e.ForStatementSyntax(t,n,r,i,s,o,u,a,f,l,!1)},t.prototype.forInStatement=function(t,n,r,i,s,o,u,a){return new e.ForInStatementSyntax(t,n,r,i,s,o,u,a,!1)},t.prototype.whileStatement=function(t,n,r,i,s){return new e.WhileStatementSyntax(t,n,r,i,s,!1)},t.prototype.withStatement=function(t,n,r,i,s){return new e.WithStatementSyntax(t,n,r,i,s,!1)},t.prototype.enumDeclaration=function(t,n,r,i,s,o){return new e.EnumDeclarationSyntax(t,n,r,i,s,o,!1)},t.prototype.enumElement=function(t,n){return new e.EnumElementSyntax(t,n,!1)},t.prototype.castExpression=function(t,n,r,i){return new e.CastExpressionSyntax(t,n,r,i,!1)},t.prototype.objectLiteralExpression=function(t,n,r){return new e.ObjectLiteralExpressionSyntax(t,n,r,!1)},t.prototype.simplePropertyAssignment=function(t,n,r){return new e.SimplePropertyAssignmentSyntax(t,n,r,!1)},t.prototype.functionPropertyAssignment=function(t,n,r){return new e.FunctionPropertyAssignmentSyntax(t,n,r,!1)},t.prototype.getAccessorPropertyAssignment=function(t,n,r,i,s,o){return new e.GetAccessorPropertyAssignmentSyntax(t,n,r,i,s,o,!1)},t.prototype.setAccessorPropertyAssignment=function(t,n,r,i,s,o){return new e.SetAccessorPropertyAssignmentSyntax(t,n,r,i,s,o,!1)},t.prototype.functionExpression=function(t,n,r,i){return new e.FunctionExpressionSyntax(t,n,r,i,!1)},t.prototype.emptyStatement=function(t){return new e.EmptyStatementSyntax(t,!1)},t.prototype.tryStatement=function(t,n,r,i){return new e.TryStatementSyntax(t,n,r,i,!1)},t.prototype.catchClause=function(t,n,r,i,s,o){return new e.CatchClauseSyntax(t,n,r,i,s,o,!1)},t.prototype.finallyClause=function(t,n){return new e.FinallyClauseSyntax(t,n,!1)},t.prototype.labeledStatement=function(t,n,r){return new e.LabeledStatementSyntax(t,n,r,!1)},t.prototype.doStatement=function(t,n,r,i,s,o,u){return new e.DoStatementSyntax(t,n,r,i,s,o,u,!1)},t.prototype.typeOfExpression=function(t,n){return new e.TypeOfExpressionSyntax(t,n,!1)},t.prototype.deleteExpression=function(t,n){return new e.DeleteExpressionSyntax(t,n,!1)},t.prototype.voidExpression=function(t,n){return new e.VoidExpressionSyntax(t,n,!1)},t.prototype.debuggerStatement=function(t,n){return new e.DebuggerStatementSyntax(t,n,!1)},t}();t.NormalModeFactory=n;var r=function(){function t(){}return t.prototype.sourceUnit=function(t,n){return new e.SourceUnitSyntax(t,n,!0)},t.prototype.externalModuleReference=function(t,n,r,i){return new e.ExternalModuleReferenceSyntax(t,n,r,i,!0)},t.prototype.moduleNameModuleReference=function(t){return new e.ModuleNameModuleReferenceSyntax(t,!0)},t.prototype.importDeclaration=function(t,n,r,i,s){return new e.ImportDeclarationSyntax(t,n,r,i,s,!0)},t.prototype.exportAssignment=function(t,n,r,i){return new e.ExportAssignmentSyntax(t,n,r,i,!0)},t.prototype.classDeclaration=function(t,n,r,i,s,o,u,a){return new e.ClassDeclarationSyntax(t,n,r,i,s,o,u,a,!0)},t.prototype.interfaceDeclaration=function(t,n,r,i,s,o){return new e.InterfaceDeclarationSyntax(t,n,r,i,s,o,!0)},t.prototype.heritageClause=function(t,n){return new e.HeritageClauseSyntax(t,n,!0)},t.prototype.moduleDeclaration=function(t,n,r,i,s,o,u){return new e.ModuleDeclarationSyntax(t,n,r,i,s,o,u,!0)},t.prototype.functionDeclaration=function(t,n,r,i,s,o){return new e.FunctionDeclarationSyntax(t,n,r,i,s,o,!0)},t.prototype.variableStatement=function(t,n,r){return new e.VariableStatementSyntax(t,n,r,!0)},t.prototype.variableDeclaration=function(t,n){return new e.VariableDeclarationSyntax(t,n,!0)},t.prototype.variableDeclarator=function(t,n,r){return new e.VariableDeclaratorSyntax(t,n,r,!0)},t.prototype.equalsValueClause=function(t,n){return new e.EqualsValueClauseSyntax(t,n,!0)},t.prototype.prefixUnaryExpression=function(t,n,r){return new e.PrefixUnaryExpressionSyntax(t,n,r,!0)},t.prototype.arrayLiteralExpression=function(t,n,r){return new e.ArrayLiteralExpressionSyntax(t,n,r,!0)},t.prototype.omittedExpression=function(){return new e.OmittedExpressionSyntax(!0)},t.prototype.parenthesizedExpression=function(t,n,r){return new e.ParenthesizedExpressionSyntax(t,n,r,!0)},t.prototype.simpleArrowFunctionExpression=function(t,n,r){return new e.SimpleArrowFunctionExpressionSyntax(t,n,r,!0)},t.prototype.parenthesizedArrowFunctionExpression=function(t,n,r){return new e.ParenthesizedArrowFunctionExpressionSyntax(t,n,r,!0)},t.prototype.qualifiedName=function(t,n,r){return new e.QualifiedNameSyntax(t,n,r,!0)},t.prototype.typeArgumentList=function(t,n,r){return new e.TypeArgumentListSyntax(t,n,r,!0)},t.prototype.constructorType=function(t,n,r,i,s){return new e.ConstructorTypeSyntax(t,n,r,i,s,!0)},t.prototype.functionType=function(t,n,r,i){return new e.FunctionTypeSyntax(t,n,r,i,!0)},t.prototype.objectType=function(t,n,r){return new e.ObjectTypeSyntax(t,n,r,!0)},t.prototype.arrayType=function(t,n,r){return new e.ArrayTypeSyntax(t,n,r,!0)},t.prototype.genericType=function(t,n){return new e.GenericTypeSyntax(t,n,!0)},t.prototype.typeAnnotation=function(t,n){return new e.TypeAnnotationSyntax(t,n,!0)},t.prototype.block=function(t,n,r){return new e.BlockSyntax(t,n,r,!0)},t.prototype.parameter=function(t,n,r,i,s,o){return new e.ParameterSyntax(t,n,r,i,s,o,!0)},t.prototype.memberAccessExpression=function(t,n,r){return new e.MemberAccessExpressionSyntax(t,n,r,!0)},t.prototype.postfixUnaryExpression=function(t,n,r){return new e.PostfixUnaryExpressionSyntax(t,n,r,!0)},t.prototype.elementAccessExpression=function(t,n,r,i){return new e.ElementAccessExpressionSyntax(t,n,r,i,!0)},t.prototype.invocationExpression=function(t,n){return new e.InvocationExpressionSyntax(t,n,!0)},t.prototype.argumentList=function(t,n,r,i){return new e.ArgumentListSyntax(t,n,r,i,!0)},t.prototype.binaryExpression=function(t,n,r,i){return new e.BinaryExpressionSyntax(t,n,r,i,!0)},t.prototype.conditionalExpression=function(t,n,r,i,s){return new e.ConditionalExpressionSyntax(t,n,r,i,s,!0)},t.prototype.constructSignature=function(t,n){return new e.ConstructSignatureSyntax(t,n,!0)},t.prototype.methodSignature=function(t,n,r){return new e.MethodSignatureSyntax(t,n,r,!0)},t.prototype.indexSignature=function(t,n,r,i){return new e.IndexSignatureSyntax(t,n,r,i,!0)},t.prototype.propertySignature=function(t,n,r){return new e.PropertySignatureSyntax(t,n,r,!0)},t.prototype.callSignature=function(t,n,r){return new e.CallSignatureSyntax(t,n,r,!0)},t.prototype.parameterList=function(t,n,r){return new e.ParameterListSyntax(t,n,r,!0)},t.prototype.typeParameterList=function(t,n,r){return new e.TypeParameterListSyntax(t,n,r,!0)},t.prototype.typeParameter=function(t,n){return new e.TypeParameterSyntax(t,n,!0)},t.prototype.constraint=function(t,n){return new e.ConstraintSyntax(t,n,!0)},t.prototype.elseClause=function(t,n){return new e.ElseClauseSyntax(t,n,!0)},t.prototype.ifStatement=function(t,n,r,i,s,o){return new e.IfStatementSyntax(t,n,r,i,s,o,!0)},t.prototype.expressionStatement=function(t,n){return new e.ExpressionStatementSyntax(t,n,!0)},t.prototype.constructorDeclaration=function(t,n,r,i){return new e.ConstructorDeclarationSyntax(t,n,r,i,!0)},t.prototype.memberFunctionDeclaration=function(t,n,r,i,s){return new e.MemberFunctionDeclarationSyntax(t,n,r,i,s,!0)},t.prototype.getMemberAccessorDeclaration=function(t,n,r,i,s,o){return new e.GetMemberAccessorDeclarationSyntax(t,n,r,i,s,o,!0)},t.prototype.setMemberAccessorDeclaration=function(t,n,r,i,s){return new e.SetMemberAccessorDeclarationSyntax(t,n,r,i,s,!0)},t.prototype.memberVariableDeclaration=function(t,n,r){return new e.MemberVariableDeclarationSyntax(t,n,r,!0)},t.prototype.throwStatement=function(t,n,r){return new e.ThrowStatementSyntax(t,n,r,!0)},t.prototype.returnStatement=function(t,n,r){return new e.ReturnStatementSyntax(t,n,r,!0)},t.prototype.objectCreationExpression=function(t,n,r){return new e.ObjectCreationExpressionSyntax(t,n,r,!0)},t.prototype.switchStatement=function(t,n,r,i,s,o,u){return new e.SwitchStatementSyntax(t,n,r,i,s,o,u,!0)},t.prototype.caseSwitchClause=function(t,n,r,i){return new e.CaseSwitchClauseSyntax(t,n,r,i,!0)},t.prototype.defaultSwitchClause=function(t,n,r){return new e.DefaultSwitchClauseSyntax(t,n,r,!0)},t.prototype.breakStatement=function(t,n,r){return new e.BreakStatementSyntax(t,n,r,!0)},t.prototype.continueStatement=function(t,n,r){return new e.ContinueStatementSyntax(t,n,r,!0)},t.prototype.forStatement=function(t,n,r,i,s,o,u,a,f,l){return new e.ForStatementSyntax(t,n,r,i,s,o,u,a,f,l,!0)},t.prototype.forInStatement=function(t,n,r,i,s,o,u,a){return new e.ForInStatementSyntax(t,n,r,i,s,o,u,a,!0)},t.prototype.whileStatement=function(t,n,r,i,s){return new e.WhileStatementSyntax(t,n,r,i,s,!0)},t.prototype.withStatement=function(t,n,r,i,s){return new e.WithStatementSyntax(t,n,r,i,s,!0)},t.prototype.enumDeclaration=function(t,n,r,i,s,o){return new e.EnumDeclarationSyntax(t,n,r,i,s,o,!0)},t.prototype.enumElement=function(t,n){return new e.EnumElementSyntax(t,n,!0)},t.prototype.castExpression=function(t,n,r,i){return new e.CastExpressionSyntax(t,n,r,i,!0)},t.prototype.objectLiteralExpression=function(t,n,r){return new e.ObjectLiteralExpressionSyntax(t,n,r,!0)},t.prototype.simplePropertyAssignment=function(t,n,r){return new e.SimplePropertyAssignmentSyntax(t,n,r,!0)},t.prototype.functionPropertyAssignment=function(t,n,r){return new e.FunctionPropertyAssignmentSyntax(t,n,r,!0)},t.prototype.getAccessorPropertyAssignment=function(t,n,r,i,s,o){return new e.GetAccessorPropertyAssignmentSyntax(t,n,r,i,s,o,!0)},t.prototype.setAccessorPropertyAssignment=function(t,n,r,i,s,o){return new e.SetAccessorPropertyAssignmentSyntax(t,n,r,i,s,o,!0)},t.prototype.functionExpression=function(t,n,r,i){return new e.FunctionExpressionSyntax(t,n,r,i,!0)},t.prototype.emptyStatement=function(t){return new e.EmptyStatementSyntax(t,!0)},t.prototype.tryStatement=function(t,n,r,i){return new e.TryStatementSyntax(t,n,r,i,!0)},t.prototype.catchClause=function(t,n,r,i,s,o){return new e.CatchClauseSyntax(t,n,r,i,s,o,!0)},t.prototype.finallyClause=function(t,n){return new e.FinallyClauseSyntax(t,n,!0)},t.prototype.labeledStatement=function(t,n,r){return new e.LabeledStatementSyntax(t,n,r,!0)},t.prototype.doStatement=function(t,n,r,i,s,o,u){return new e.DoStatementSyntax(t,n,r,i,s,o,u,!0)},t.prototype.typeOfExpression=function(t,n){return new e.TypeOfExpressionSyntax(t,n,!0)},t.prototype.deleteExpression=function(t,n){return new e.DeleteExpressionSyntax(t,n,!0)},t.prototype.voidExpression=function(t,n){return new e.VoidExpressionSyntax(t,n,!0)},t.prototype.debuggerStatement=function(t,n){return new e.DebuggerStatementSyntax(t,n,!0)},t}();t.StrictModeFactory=r,t.normalModeFactory=new n,t.strictModeFactory=new r})(e.Syntax||(e.Syntax={}));var t=e.Syntax})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){e[e.None=0]="None",e[e.List=1]="List",e[e.SeparatedList=2]="SeparatedList",e[e.TriviaList=3]="TriviaList",e[e.WhitespaceTrivia=4]="WhitespaceTrivia",e[e.NewLineTrivia=5]="NewLineTrivia",e[e.MultiLineCommentTrivia=6]="MultiLineCommentTrivia",e[e.SingleLineCommentTrivia=7]="SingleLineCommentTrivia",e[e.SkippedTokenTrivia=8]="SkippedTokenTrivia",e[e.ErrorToken=9]="ErrorToken",e[e.EndOfFileToken=10]="EndOfFileToken",e[e.IdentifierName=11]="IdentifierName",e[e.RegularExpressionLiteral=12]="RegularExpressionLiteral",e[e.NumericLiteral=13]="NumericLiteral",e[e.StringLiteral=14]="StringLiteral",e[e.BreakKeyword=15]="BreakKeyword",e[e.CaseKeyword=16]="CaseKeyword",e[e.CatchKeyword=17]="CatchKeyword",e[e.ContinueKeyword=18]="ContinueKeyword",e[e.DebuggerKeyword=19]="DebuggerKeyword",e[e.DefaultKeyword=20]="DefaultKeyword",e[e.DeleteKeyword=21]="DeleteKeyword",e[e.DoKeyword=22]="DoKeyword",e[e.ElseKeyword=23]="ElseKeyword",e[e.FalseKeyword=24]="FalseKeyword",e[e.FinallyKeyword=25]="FinallyKeyword",e[e.ForKeyword=26]="ForKeyword",e[e.FunctionKeyword=27]="FunctionKeyword",e[e.IfKeyword=28]="IfKeyword",e[e.InKeyword=29]="InKeyword",e[e.InstanceOfKeyword=30]="InstanceOfKeyword",e[e.NewKeyword=31]="NewKeyword",e[e.NullKeyword=32]="NullKeyword",e[e.ReturnKeyword=33]="ReturnKeyword",e[e.SwitchKeyword=34]="SwitchKeyword",e[e.ThisKeyword=35]="ThisKeyword",e[e.ThrowKeyword=36]="ThrowKeyword",e[e.TrueKeyword=37]="TrueKeyword",e[e.TryKeyword=38]="TryKeyword",e[e.TypeOfKeyword=39]="TypeOfKeyword",e[e.VarKeyword=40]="VarKeyword",e[e.VoidKeyword=41]="VoidKeyword",e[e.WhileKeyword=42]="WhileKeyword",e[e.WithKeyword=43]="WithKeyword",e[e.ClassKeyword=44]="ClassKeyword",e[e.ConstKeyword=45]="ConstKeyword",e[e.EnumKeyword=46]="EnumKeyword",e[e.ExportKeyword=47]="ExportKeyword",e[e.ExtendsKeyword=48]="ExtendsKeyword",e[e.ImportKeyword=49]="ImportKeyword",e[e.SuperKeyword=50]="SuperKeyword",e[e.ImplementsKeyword=51]="ImplementsKeyword",e[e.InterfaceKeyword=52]="InterfaceKeyword",e[e.LetKeyword=53]="LetKeyword",e[e.PackageKeyword=54]="PackageKeyword",e[e.PrivateKeyword=55]="PrivateKeyword",e[e.ProtectedKeyword=56]="ProtectedKeyword",e[e.PublicKeyword=57]="PublicKeyword",e[e.StaticKeyword=58]="StaticKeyword",e[e.YieldKeyword=59]="YieldKeyword",e[e.AnyKeyword=60]="AnyKeyword",e[e.BooleanKeyword=61]="BooleanKeyword",e[e.BoolKeyword=62]="BoolKeyword",e[e.ConstructorKeyword=63]="ConstructorKeyword",e[e.DeclareKeyword=64]="DeclareKeyword",e[e.GetKeyword=65]="GetKeyword",e[e.ModuleKeyword=66]="ModuleKeyword",e[e.RequireKeyword=67]="RequireKeyword",e[e.NumberKeyword=68]="NumberKeyword",e[e.SetKeyword=69]="SetKeyword",e[e.StringKeyword=70]="StringKeyword",e[e.OpenBraceToken=71]="OpenBraceToken",e[e.CloseBraceToken=72]="CloseBraceToken",e[e.OpenParenToken=73]="OpenParenToken",e[e.CloseParenToken=74]="CloseParenToken",e[e.OpenBracketToken=75]="OpenBracketToken",e[e.CloseBracketToken=76]="CloseBracketToken",e[e.DotToken=77]="DotToken",e[e.DotDotDotToken=78]="DotDotDotToken",e[e.SemicolonToken=79]="SemicolonToken",e[e.CommaToken=80]="CommaToken",e[e.LessThanToken=81]="LessThanToken",e[e.GreaterThanToken=82]="GreaterThanToken",e[e.LessThanEqualsToken=83]="LessThanEqualsToken",e[e.GreaterThanEqualsToken=84]="GreaterThanEqualsToken",e[e.EqualsEqualsToken=85]="EqualsEqualsToken",e[e.EqualsGreaterThanToken=86]="EqualsGreaterThanToken",e[e.ExclamationEqualsToken=87]="ExclamationEqualsToken",e[e.EqualsEqualsEqualsToken=88]="EqualsEqualsEqualsToken",e[e.ExclamationEqualsEqualsToken=89]="ExclamationEqualsEqualsToken",e[e.PlusToken=90]="PlusToken",e[e.MinusToken=91]="MinusToken",e[e.AsteriskToken=92]="AsteriskToken",e[e.PercentToken=93]="PercentToken",e[e.PlusPlusToken=94]="PlusPlusToken",e[e.MinusMinusToken=95]="MinusMinusToken",e[e.LessThanLessThanToken=96]="LessThanLessThanToken",e[e.GreaterThanGreaterThanToken=97]="GreaterThanGreaterThanToken",e[e.GreaterThanGreaterThanGreaterThanToken=98]="GreaterThanGreaterThanGreaterThanToken",e[e.AmpersandToken=99]="AmpersandToken",e[e.BarToken=100]="BarToken",e[e.CaretToken=101]="CaretToken",e[e.ExclamationToken=102]="ExclamationToken",e[e.TildeToken=103]="TildeToken",e[e.AmpersandAmpersandToken=104]="AmpersandAmpersandToken",e[e.BarBarToken=105]="BarBarToken",e[e.QuestionToken=106]="QuestionToken",e[e.ColonToken=107]="ColonToken",e[e.EqualsToken=108]="EqualsToken",e[e.PlusEqualsToken=109]="PlusEqualsToken",e[e.MinusEqualsToken=110]="MinusEqualsToken",e[e.AsteriskEqualsToken=111]="AsteriskEqualsToken",e[e.PercentEqualsToken=112]="PercentEqualsToken",e[e.LessThanLessThanEqualsToken=113]="LessThanLessThanEqualsToken",e[e.GreaterThanGreaterThanEqualsToken=114]="GreaterThanGreaterThanEqualsToken",e[e.GreaterThanGreaterThanGreaterThanEqualsToken=115]="GreaterThanGreaterThanGreaterThanEqualsToken",e[e.AmpersandEqualsToken=116]="AmpersandEqualsToken",e[e.BarEqualsToken=117]="BarEqualsToken",e[e.CaretEqualsToken=118]="CaretEqualsToken",e[e.SlashToken=119]="SlashToken",e[e.SlashEqualsToken=120]="SlashEqualsToken",e[e.SourceUnit=121]="SourceUnit",e[e.QualifiedName=122]="QualifiedName",e[e.ObjectType=123]="ObjectType",e[e.FunctionType=124]="FunctionType",e[e.ArrayType=125]="ArrayType",e[e.ConstructorType=126]="ConstructorType",e[e.GenericType=127]="GenericType",e[e.InterfaceDeclaration=128]="InterfaceDeclaration",e[e.FunctionDeclaration=129]="FunctionDeclaration",e[e.ModuleDeclaration=130]="ModuleDeclaration",e[e.ClassDeclaration=131]="ClassDeclaration",e[e.EnumDeclaration=132]="EnumDeclaration",e[e.ImportDeclaration=133]="ImportDeclaration",e[e.ExportAssignment=134]="ExportAssignment",e[e.MemberFunctionDeclaration=135]="MemberFunctionDeclaration",e[e.MemberVariableDeclaration=136]="MemberVariableDeclaration",e[e.ConstructorDeclaration=137]="ConstructorDeclaration",e[e.GetMemberAccessorDeclaration=138]="GetMemberAccessorDeclaration",e[e.SetMemberAccessorDeclaration=139]="SetMemberAccessorDeclaration",e[e.PropertySignature=140]="PropertySignature",e[e.CallSignature=141]="CallSignature",e[e.ConstructSignature=142]="ConstructSignature",e[e.IndexSignature=143]="IndexSignature",e[e.MethodSignature=144]="MethodSignature",e[e.Block=145]="Block",e[e.IfStatement=146]="IfStatement",e[e.VariableStatement=147]="VariableStatement",e[e.ExpressionStatement=148]="ExpressionStatement",e[e.ReturnStatement=149]="ReturnStatement",e[e.SwitchStatement=150]="SwitchStatement",e[e.BreakStatement=151]="BreakStatement",e[e.ContinueStatement=152]="ContinueStatement",e[e.ForStatement=153]="ForStatement",e[e.ForInStatement=154]="ForInStatement",e[e.EmptyStatement=155]="EmptyStatement",e[e.ThrowStatement=156]="ThrowStatement",e[e.WhileStatement=157]="WhileStatement",e[e.TryStatement=158]="TryStatement",e[e.LabeledStatement=159]="LabeledStatement",e[e.DoStatement=160]="DoStatement",e[e.DebuggerStatement=161]="DebuggerStatement",e[e.WithStatement=162]="WithStatement",e[e.PlusExpression=163]="PlusExpression",e[e.NegateExpression=164]="NegateExpression",e[e.BitwiseNotExpression=165]="BitwiseNotExpression",e[e.LogicalNotExpression=166]="LogicalNotExpression",e[e.PreIncrementExpression=167]="PreIncrementExpression",e[e.PreDecrementExpression=168]="PreDecrementExpression",e[e.DeleteExpression=169]="DeleteExpression",e[e.TypeOfExpression=170]="TypeOfExpression",e[e.VoidExpression=171]="VoidExpression",e[e.CommaExpression=172]="CommaExpression",e[e.AssignmentExpression=173]="AssignmentExpression",e[e.AddAssignmentExpression=174]="AddAssignmentExpression",e[e.SubtractAssignmentExpression=175]="SubtractAssignmentExpression",e[e.MultiplyAssignmentExpression=176]="MultiplyAssignmentExpression",e[e.DivideAssignmentExpression=177]="DivideAssignmentExpression",e[e.ModuloAssignmentExpression=178]="ModuloAssignmentExpression",e[e.AndAssignmentExpression=179]="AndAssignmentExpression",e[e.ExclusiveOrAssignmentExpression=180]="ExclusiveOrAssignmentExpression",e[e.OrAssignmentExpression=181]="OrAssignmentExpression",e[e.LeftShiftAssignmentExpression=182]="LeftShiftAssignmentExpression",e[e.SignedRightShiftAssignmentExpression=183]="SignedRightShiftAssignmentExpression",e[e.UnsignedRightShiftAssignmentExpression=184]="UnsignedRightShiftAssignmentExpression",e[e.ConditionalExpression=185]="ConditionalExpression",e[e.LogicalOrExpression=186]="LogicalOrExpression",e[e.LogicalAndExpression=187]="LogicalAndExpression",e[e.BitwiseOrExpression=188]="BitwiseOrExpression",e[e.BitwiseExclusiveOrExpression=189]="BitwiseExclusiveOrExpression",e[e.BitwiseAndExpression=190]="BitwiseAndExpression",e[e.EqualsWithTypeConversionExpression=191]="EqualsWithTypeConversionExpression",e[e.NotEqualsWithTypeConversionExpression=192]="NotEqualsWithTypeConversionExpression",e[e.EqualsExpression=193]="EqualsExpression",e[e.NotEqualsExpression=194]="NotEqualsExpression",e[e.LessThanExpression=195]="LessThanExpression",e[e.GreaterThanExpression=196]="GreaterThanExpression",e[e.LessThanOrEqualExpression=197]="LessThanOrEqualExpression",e[e.GreaterThanOrEqualExpression=198]="GreaterThanOrEqualExpression",e[e.InstanceOfExpression=199]="InstanceOfExpression",e[e.InExpression=200]="InExpression",e[e.LeftShiftExpression=201]="LeftShiftExpression",e[e.SignedRightShiftExpression=202]="SignedRightShiftExpression",e[e.UnsignedRightShiftExpression=203]="UnsignedRightShiftExpression",e[e.MultiplyExpression=204]="MultiplyExpression",e[e.DivideExpression=205]="DivideExpression",e[e.ModuloExpression=206]="ModuloExpression",e[e.AddExpression=207]="AddExpression",e[e.SubtractExpression=208]="SubtractExpression",e[e.PostIncrementExpression=209]="PostIncrementExpression",e[e.PostDecrementExpression=210]="PostDecrementExpression",e[e.MemberAccessExpression=211]="MemberAccessExpression",e[e.InvocationExpression=212]="InvocationExpression",e[e.ArrayLiteralExpression=213]="ArrayLiteralExpression",e[e.ObjectLiteralExpression=214]="ObjectLiteralExpression",e[e.ObjectCreationExpression=215]="ObjectCreationExpression",e[e.ParenthesizedExpression=216]="ParenthesizedExpression",e[e.ParenthesizedArrowFunctionExpression=217]="ParenthesizedArrowFunctionExpression",e[e.SimpleArrowFunctionExpression=218]="SimpleArrowFunctionExpression",e[e.CastExpression=219]="CastExpression",e[e.ElementAccessExpression=220]="ElementAccessExpression",e[e.FunctionExpression=221]="FunctionExpression",e[e.OmittedExpression=222]="OmittedExpression",e[e.VariableDeclaration=223]="VariableDeclaration",e[e.VariableDeclarator=224]="VariableDeclarator",e[e.ArgumentList=225]="ArgumentList",e[e.ParameterList=226]="ParameterList",e[e.TypeArgumentList=227]="TypeArgumentList",e[e.TypeParameterList=228]="TypeParameterList",e[e.HeritageClause=229]="HeritageClause",e[e.EqualsValueClause=230]="EqualsValueClause",e[e.CaseSwitchClause=231]="CaseSwitchClause",e[e.DefaultSwitchClause=232]="DefaultSwitchClause",e[e.ElseClause=233]="ElseClause",e[e.CatchClause=234]="CatchClause",e[e.FinallyClause=235]="FinallyClause",e[e.TypeParameter=236]="TypeParameter",e[e.Constraint=237]="Constraint",e[e.SimplePropertyAssignment=238]="SimplePropertyAssignment",e[e.GetAccessorPropertyAssignment=239]="GetAccessorPropertyAssignment",e[e.SetAccessorPropertyAssignment=240]="SetAccessorPropertyAssignment",e[e.FunctionPropertyAssignment=241]="FunctionPropertyAssignment",e[e.Parameter=242]="Parameter",e[e.EnumElement=243]="EnumElement",e[e.TypeAnnotation=244]="TypeAnnotation",e[e.ExternalModuleReference=245]="ExternalModuleReference",e[e.ModuleNameModuleReference=246]="ModuleNameModuleReference",e[e.FirstStandardKeyword=e.BreakKeyword]="FirstStandardKeyword",e[e.LastStandardKeyword=e.WithKeyword]="LastStandardKeyword",e[e.FirstFutureReservedKeyword=e.ClassKeyword]="FirstFutureReservedKeyword",e[e.LastFutureReservedKeyword=e.SuperKeyword]="LastFutureReservedKeyword",e[e.FirstFutureReservedStrictKeyword=e.ImplementsKeyword]="FirstFutureReservedStrictKeyword",e[e.LastFutureReservedStrictKeyword=e.YieldKeyword]="LastFutureReservedStrictKeyword",e[e.FirstTypeScriptKeyword=e.AnyKeyword]="FirstTypeScriptKeyword",e[e.LastTypeScriptKeyword=e.StringKeyword]="LastTypeScriptKeyword",e[e.FirstKeyword=e.FirstStandardKeyword]="FirstKeyword",e[e.LastKeyword=e.LastTypeScriptKeyword]="LastKeyword",e[e.FirstToken=e.ErrorToken]="FirstToken",e[e.LastToken=e.SlashEqualsToken]="LastToken",e[e.FirstPunctuation=e.OpenBraceToken]="FirstPunctuation",e[e.LastPunctuation=e.SlashEqualsToken]="LastPunctuation",e[e.FirstFixedWidth=e.FirstKeyword]="FirstFixedWidth",e[e.LastFixedWidth=e.LastPunctuation]="LastFixedWidth"})(e.SyntaxKind||(e.SyntaxKind={}));var t=e.SyntaxKind})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function s(e){return n.hasOwnProperty(e)?n[e]:0}function o(e){var t=r[e];return t!==undefined?t:null}function u(e){return e>=9&&e<=120}function a(t){return t>=e.SyntaxKind.FirstKeyword&&t<=e.SyntaxKind.LastKeyword}function f(e){return e>=15&&e<=43}function l(e){return e>=44&&e<=50}function c(e){return e>=51&&e<=59}function h(e){return e>=71&&e<=120}function p(e){return v(e)!==0}function d(e){return g(e)!==0}function v(e){switch(e){case 90:return 163;case 91:return 164;case 103:return 165;case 102:return 166;case 94:return 167;case 95:return 168;default:return 0}}function m(e){switch(e){case 94:return 209;case 95:return 210;default:return 0}}function g(e){switch(e){case 92:return 204;case 119:return 205;case 93:return 206;case 90:return 207;case 91:return 208;case 96:return 201;case 97:return 202;case 98:return 203;case 81:return 195;case 82:return 196;case 83:return 197;case 84:return 198;case 30:return 199;case 29:return 200;case 85:return 191;case 87:return 192;case 88:return 193;case 89:return 194;case 99:return 190;case 101:return 189;case 100:return 188;case 104:return 187;case 105:return 186;case 117:return 181;case 116:return 179;case 118:return 180;case 113:return 182;case 114:return 183;case 115:return 184;case 109:return 174;case 110:return 175;case 111:return 176;case 120:return 177;case 112:return 178;case 108:return 173;case 80:return 172;default:return 0}}function y(e){switch(e){case 119:case 120:return!0;default:return!1}}function b(e){switch(e){case 119:case 120:case 12:return!0;default:return!1}}function w(e){switch(e){case 97:case 98:case 84:case 114:case 115:return!0;default:return!1}}function E(e){switch(e){case 172:case 173:case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:case 186:case 187:case 188:case 189:case 190:case 191:case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:case 208:return!0}return!1}var n={any:60,bool:62,"boolean":61,"break":15,"case":16,"catch":17,"class":44,"continue":18,"const":45,constructor:63,"debugger":19,declare:64,"default":20,"delete":21,"do":22,"else":23,"enum":46,"export":47,"extends":48,"false":24,"finally":25,"for":26,"function":27,get:65,"if":28,"implements":51,"import":49,"in":29,"instanceof":30,"interface":52,let:53,module:66,"new":31,"null":32,number:68,"package":54,"private":55,"protected":56,"public":57,require:67,"return":33,set:69,"static":58,string:70,"super":50,"switch":34,"this":35,"throw":36,"true":37,"try":38,"typeof":39,"var":40,"void":41,"while":42,"with":43,yield:59,"{":71,"}":72,"(":73,")":74,"[":75,"]":76,".":77,"...":78,";":79,",":80,"<":81,">":82,"<=":83,">=":84,"==":85,"=>":86,"!=":87,"===":88,"!==":89,"+":90,"-":91,"*":92,"%":93,"++":94,"--":95,"<<":96,">>":97,">>>":98,"&":99,"|":100,"^":101,"!":102,"~":103,"&&":104,"||":105,"?":106,":":107,"=":108,"+=":109,"-=":110,"*=":111,"%=":112,"<<=":113,">>=":114,">>>=":115,"&=":116,"|=":117,"^=":118,"/":119,"/=":120},r=[];for(var i in n)n.hasOwnProperty(i)&&(r[n[i]]=i);r[63]="constructor",t.getTokenKind=s,t.getText=o,t.isTokenKind=u,t.isAnyKeyword=a,t.isStandardKeyword=f,t.isFutureReservedKeyword=l,t.isFutureReservedStrictKeyword=c,t.isAnyPunctuation=h,t.isPrefixUnaryExpressionOperatorToken=p,t.isBinaryExpressionOperatorToken=d,t.getPrefixUnaryExpressionFromOperatorToken=v,t.getPostfixUnaryExpressionFromOperatorToken=m,t.getBinaryExpressionFromOperatorToken=g,t.isAnyDivideToken=y,t.isAnyDivideOrRegularExpressionToken=b,t.isParserGenerated=w,t.isAnyBinaryExpression=E})(e.SyntaxFacts||(e.SyntaxFacts={}));var t=e.SyntaxFacts})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function n(e){if(e.kind()===148){var t=e,n=t.expression;if(n.kind()===14)return!0}return!1}function r(e){var t=e,n=t.expression,r=n.text();return r==='"use strict"'||r==="'use strict'"}function i(t){var n=t.tokenKind;return n===11||e.SyntaxFacts.isAnyKeyword(n)}t.isDirectivePrologueElement=n,t.isUseStrictDirective=r,t.isIdentifierNameOrAnyKeyword=i})(e.SyntaxFacts||(e.SyntaxFacts={}));var t=e.SyntaxFacts})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function s(e){if(e===undefined||e===null||e.length===0)return t.emptyList;if(e.length===1){var n=e[0];return new r(n)}return new i(e)}var n=function(){function t(){}return t.prototype.kind=function(){return 1},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(e){return[]},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},t.prototype.toArray=function(){return[]},t.prototype.collectTextElements=function(e){},t.prototype.firstToken=function(){return null},t.prototype.lastToken=function(){return null},t.prototype.fullWidth=function(){return 0},t.prototype.width=function(){return 0},t.prototype.leadingTrivia=function(){return e.Syntax.emptyTriviaList},t.prototype.trailingTrivia=function(){return e.Syntax.emptyTriviaList},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.fullText=function(){return""},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!1},t.prototype.findTokenInternal=function(t,n,r){throw e.Errors.invalidOperation()},t.prototype.insertChildrenInto=function(e,t){},t}();t.EmptySyntaxList=n,t.emptyList=new n;var r=function(){function t(e){this.item=e}return t.prototype.kind=function(){return 1},t.prototype.isToken=function(){return!1},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(e){return[this.item]},t.prototype.childCount=function(){return 1},t.prototype.childAt=function(t){if(t!==0)throw e.Errors.argumentOutOfRange("index");return this.item},t.prototype.toArray=function(){return[this.item]},t.prototype.collectTextElements=function(e){this.item.collectTextElements(e)},t.prototype.firstToken=function(){return this.item.firstToken()},t.prototype.lastToken=function(){return this.item.lastToken()},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.width=function(){return this.item.width()},t.prototype.leadingTrivia=function(){return this.item.leadingTrivia()},t.prototype
.trailingTrivia=function(){return this.item.trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.item.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.item.trailingTriviaWidth()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.isTypeScriptSpecific=function(){return this.item.isTypeScriptSpecific()},t.prototype.isIncrementallyUnusable=function(){return this.item.isIncrementallyUnusable()},t.prototype.findTokenInternal=function(t,n,r){return this.item.findTokenInternal(new e.PositionedList(t,this,r),n,r)},t.prototype.insertChildrenInto=function(e,t){e.splice(t,0,this.item)},t}(),i=function(){function t(e){this._data=0,this.nodeOrTokens=e}return t.prototype.kind=function(){return 1},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(e){return this.nodeOrTokens},t.prototype.childCount=function(){return this.nodeOrTokens.length},t.prototype.childAt=function(t){if(t<0||t>=this.nodeOrTokens.length)throw e.Errors.argumentOutOfRange("index");return this.nodeOrTokens[t]},t.prototype.toArray=function(){return this.nodeOrTokens.slice(0)},t.prototype.collectTextElements=function(e){for(var t=0,n=this.nodeOrTokens.length;t<n;t++){var r=this.nodeOrTokens[t];r.collectTextElements(e)}},t.prototype.firstToken=function(){for(var e=0,t=this.nodeOrTokens.length;e<t;e++){var n=this.nodeOrTokens[e].firstToken();if(n!==null)return n}return null},t.prototype.lastToken=function(){for(var e=this.nodeOrTokens.length-1;e>=0;e--){var t=this.nodeOrTokens[e].lastToken();if(t!==null)return t}return null},t.prototype.fullText=function(){var e=[];return this.collectTextElements(e),e.join("")},t.prototype.isTypeScriptSpecific=function(){for(var e=0,t=this.nodeOrTokens.length;e<t;e++)if(this.nodeOrTokens[e].isTypeScriptSpecific())return!0;return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!==0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.width=function(){var e=this.fullWidth();return e-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTrivia=function(){return this.firstToken().leadingTrivia()},t.prototype.trailingTrivia=function(){return this.lastToken().trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.firstToken().leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.lastToken().trailingTriviaWidth()},t.prototype.computeData=function(){var e=0,t=!1;for(var n=0,r=this.nodeOrTokens.length;n<r;n++){var i=this.nodeOrTokens[n];e+=i.fullWidth(),t=t||i.isIncrementallyUnusable()}return e<<3|(t?2:0)|1},t.prototype.data=function(){return(this._data&1)===0&&(this._data=this.computeData()),this._data},t.prototype.findTokenInternal=function(t,n,r){t=new e.PositionedList(t,this,r);for(var i=0,s=this.nodeOrTokens.length;i<s;i++){var o=this.nodeOrTokens[i],u=o.fullWidth();if(n<u)return o.findTokenInternal(t,n,r);n-=u,r+=u}throw e.Errors.invalidOperation()},t.prototype.insertChildrenInto=function(e,t){t===0?e.unshift.apply(e,this.nodeOrTokens):e.splice.apply(e,[t,0].concat(this.nodeOrTokens))},t}();t.list=s})(e.Syntax||(e.Syntax={}));var t=e.Syntax})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(e){this._data=e?4:0}return t.prototype.isNode=function(){return!0},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){throw e.Errors.abstract()},t.prototype.childCount=function(){throw e.Errors.abstract()},t.prototype.childAt=function(t){throw e.Errors.abstract()},t.prototype.firstToken=function(){for(var e=0,t=this.childCount();e<t;e++){var n=this.childAt(e);if(n!==null)if(n.fullWidth()>0||n.kind()===10)return n.firstToken()}return null},t.prototype.lastToken=function(){for(var e=this.childCount()-1;e>=0;e--){var t=this.childAt(e);if(t!==null)if(t.fullWidth()>0||t.kind()===10)return t.lastToken()}return null},t.prototype.insertChildrenInto=function(t,n){for(var r=this.childCount()-1;r>=0;r--){var i=this.childAt(r);if(i!==null)if(i.isNode()||i.isToken())t.splice(n,0,i);else if(i.isList())i.insertChildrenInto(t,n);else{if(!i.isSeparatedList())throw e.Errors.invalidOperation();i.insertChildrenInto(t,n)}}},t.prototype.leadingTrivia=function(){return this.firstToken().leadingTrivia()},t.prototype.trailingTrivia=function(){return this.lastToken().trailingTrivia()},t.prototype.toJSON=function(t){var n={kind:e.SyntaxKind[this.kind()],fullWidth:this.fullWidth()};this.isIncrementallyUnusable()&&(n.isIncrementallyUnusable=!0),this.parsedInStrictMode()&&(n.parsedInStrictMode=!0);for(var r=0,i=this.childCount();r<i;r++){var s=this.childAt(r);if(s)for(var o in this)if(s===this[o]){n[o]=s;break}}return n},t.prototype.accept=function(t){throw e.Errors.abstract()},t.prototype.fullText=function(){var e=[];return this.collectTextElements(e),e.join("")},t.prototype.collectTextElements=function(e){for(var t=0,n=this.childCount();t<n;t++){var r=this.childAt(t);r!==null&&r.collectTextElements(e)}},t.prototype.replaceToken=function(t,n){return t===n?this:this.accept(new e.SyntaxTokenReplacer(t,n))},t.prototype.withLeadingTrivia=function(e){return this.replaceToken(this.firstToken(),this.firstToken().withLeadingTrivia(e))},t.prototype.withTrailingTrivia=function(e){return this.replaceToken(this.lastToken(),this.lastToken().withTrailingTrivia(e))},t.prototype.hasLeadingTrivia=function(){return this.lastToken().hasLeadingTrivia()},t.prototype.hasTrailingTrivia=function(){return this.lastToken().hasTrailingTrivia()},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!==0},t.prototype.parsedInStrictMode=function(){return(this.data()&4)!==0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.computeData=function(){var e=this.childCount(),t=0,n=0,r=(this._data&2)!==0||e===0;for(var i=0,s=e;i<s;i++){var o=this.childAt(i);o!==null&&(n=o.fullWidth(),t+=n,r||(r=o.isIncrementallyUnusable()))}return t<<3|(r?2:0)|1},t.prototype.data=function(){return(this._data&1)===0&&(this._data|=this.computeData()),this._data},t.prototype.findToken=function(t,n){typeof n=="undefined"&&(n=!1);var r=this.tryGetEndOfFileAt(t);if(r!==null)return r;if(t<0||t>=this.fullWidth())throw e.Errors.argumentOutOfRange("position");var i=this.findTokenInternal(null,t,0);return n?e.Syntax.findSkippedTokenInPositionedToken(i,t)||i:i},t.prototype.tryGetEndOfFileAt=function(t){if(this.kind()===121&&t===this.fullWidth()){var n=this;return new e.PositionedToken(new e.PositionedNode(null,n,0),n.endOfFileToken,n.moduleElements.fullWidth())}return null},t.prototype.findTokenInternal=function(t,n,r){t=new e.PositionedNode(t,this,r);for(var i=0,s=this.childCount();i<s;i++){var o=this.childAt(i);if(o!==null){var u=o.fullWidth();if(n<u)return o.findTokenInternal(t,n,r);n-=u,r+=u}}throw e.Errors.invalidOperation()},t.prototype.findTokenOnLeft=function(e,t){typeof t=="undefined"&&(t=!1);var n=this.findToken(e,t),r=n.start();return e>r?n:n.fullStart()===0?null:n.previousToken(t)},t.prototype.findCompleteTokenOnLeft=function(e,t){typeof t=="undefined"&&(t=!1);var n=this.findToken(e,t);return n.token().width()>0&&e>=n.end()?n:n.previousToken(t)},t.prototype.isModuleElement=function(){return!1},t.prototype.isClassElement=function(){return!1},t.prototype.isTypeMember=function(){return!1},t.prototype.isStatement=function(){return!1},t.prototype.isSwitchClause=function(){return!1},t.prototype.structuralEquals=function(t){if(this===t)return!0;if(t===null)return!1;if(this.kind()!==t.kind())return!1;for(var n=0,r=this.childCount();n<r;n++){var i=this.childAt(n),s=t.childAt(n);if(!e.Syntax.elementStructuralEquals(i,s))return!1}return!0},t.prototype.width=function(){return this.fullWidth()-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTriviaWidth=function(){var e=this.firstToken();return e===null?0:e.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){var e=this.lastToken();return e===null?0:e.trailingTriviaWidth()},t}();e.SyntaxNode=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(t){function n(e,n,r){t.call(this,r),this.moduleElements=e,this.endOfFileToken=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitSourceUnit(this)},n.prototype.kind=function(){return 121},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.moduleElements;case 1:return this.endOfFileToken;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t){return this.moduleElements===e&&this.endOfFileToken===t?this:new n(e,t,this.parsedInStrictMode())},n.create=function(t){return new n(e.Syntax.emptyList,t,!1)},n.create1=function(t){return new n(e.Syntax.emptyList,t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModuleElements=function(e){return this.update(e,this.endOfFileToken)},n.prototype.withModuleElement=function(t){return this.withModuleElements(e.Syntax.list([t]))},n.prototype.withEndOfFileToken=function(e){return this.update(this.moduleElements,e)},n.prototype.isTypeScriptSpecific=function(){return this.moduleElements.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.SourceUnitSyntax=t;var n=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.isModuleReference=function(){return!0},t.prototype.withLeadingTrivia=function(t){return e.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return e.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!0},t}(e.SyntaxNode);e.ModuleReferenceSyntax=n;var r=function(t){function n(e,n,r,i,s){t.call(this,s),this.moduleOrRequireKeyword=e,this.openParenToken=n,this.stringLiteral=r,this.closeParenToken=i}return __extends(n,t),n.prototype.accept=function(e){return e.visitExternalModuleReference(this)},n.prototype.kind=function(){return 245},n.prototype.childCount=function(){return 4},n.prototype.childAt=function(t){switch(t){case 0:return this.moduleOrRequireKeyword;case 1:return this.openParenToken;case 2:return this.stringLiteral;case 3:return this.closeParenToken;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i){return this.moduleOrRequireKeyword===e&&this.openParenToken===t&&this.stringLiteral===r&&this.closeParenToken===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.create1=function(t,r){return new n(t,e.Syntax.token(73),r,e.Syntax.token(74),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModuleOrRequireKeyword=function(e){return this.update(e,this.openParenToken,this.stringLiteral,this.closeParenToken)},n.prototype.withOpenParenToken=function(e){return this.update(this.moduleOrRequireKeyword,e,this.stringLiteral,this.closeParenToken)},n.prototype.withStringLiteral=function(e){return this.update(this.moduleOrRequireKeyword,this.openParenToken,e,this.closeParenToken)},n.prototype.withCloseParenToken=function(e){return this.update(this.moduleOrRequireKeyword,this.openParenToken,this.stringLiteral,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(n);e.ExternalModuleReferenceSyntax=r;var i=function(t){function n(e,n){t.call(this,n),this.moduleName=e}return __extends(n,t),n.prototype.accept=function(e){return e.visitModuleNameModuleReference(this)},n.prototype.kind=function(){return 246},n.prototype.childCount=function(){return 1},n.prototype.childAt=function(t){switch(t){case 0:return this.moduleName;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e){return this.moduleName===e?this:new n(e,this.parsedInStrictMode())},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModuleName=function(e){return this.update(e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(n);e.ModuleNameModuleReferenceSyntax=i;var s=function(t){function n(e,n,r,i,s,o){t.call(this,o),this.importKeyword=e,this.identifier=n,this.equalsToken=r,this.moduleReference=i,this.semicolonToken=s}return __extends(n,t),n.prototype.accept=function(e){return e.visitImportDeclaration(this)},n.prototype.kind=function(){return 133},n.prototype.childCount=function(){return 5},n.prototype.childAt=function(t){switch(t){case 0:return this.importKeyword;case 1:return this.identifier;case 2:return this.equalsToken;case 3:return this.moduleReference;case 4:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r,i,s){return this.importKeyword===e&&this.identifier===t&&this.equalsToken===r&&this.moduleReference===i&&this.semicolonToken===s?this:new n(e,t,r,i,s,this.parsedInStrictMode())},n.create1=function(t,r){return new n(e.Syntax.token(49),t,e.Syntax.token(108),r,e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withImportKeyword=function(e){return this.update(e,this.identifier,this.equalsToken,this.moduleReference,this.semicolonToken)},n.prototype.withIdentifier=function(e){return this.update(this.importKeyword,e,this.equalsToken,this.moduleReference,this.semicolonToken)},n.prototype.withEqualsToken=function(e){return this.update(this.importKeyword,this.identifier,e,this.moduleReference,this.semicolonToken)},n.prototype.withModuleReference=function(e){return this.update(this.importKeyword,this.identifier,this.equalsToken,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.importKeyword,this.identifier,this.equalsToken,this.moduleReference,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.ImportDeclarationSyntax=s;var o=function(t){function n(e,n,r,i,s){t.call(this,s),this.exportKeyword=e,this.equalsToken=n,this.identifier=r,this.semicolonToken=i}return __extends(n,t),n.prototype.accept=function(e){return e.visitExportAssignment(this)},n.prototype.kind=function(){return 134},n.prototype.childCount=function(){return 4},n.prototype.childAt=function(t){switch(t){case 0:return this.exportKeyword;case 1:return this.equalsToken;case 2:return this.identifier;case 3:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r,i){return this.exportKeyword===e&&this.equalsToken===t&&this.identifier===r&&this.semicolonToken===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.create1=function(t){return new n(e.Syntax.token(47),e.Syntax.token(108),t,e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withExportKeyword=function(e){return this.update(e,this.equalsToken,this.identifier,this.semicolonToken)},n.prototype.withEqualsToken=function(e){return this.update(this.exportKeyword,e,this.identifier,this.semicolonToken)},n.prototype.withIdentifier=function(e){return this.update(this.exportKeyword,this.equalsToken,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.exportKeyword,this.equalsToken,this.identifier,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.ExportAssignmentSyntax=o;var u=function(t){function n(e,n,r,i,s,o,u,a,f){t.call(this,f),this.modifiers=e,this.classKeyword=n,this.identifier=r,this.typeParameterList=i,this.heritageClauses=s,this.openBraceToken=o,this.classElements=u,this.closeBraceToken=a}return __extends(n,t),n.prototype.accept=function(e){return e.visitClassDeclaration(this)},n.prototype.kind=function(){return 131},n.prototype.childCount=function(){return 8},n.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.classKeyword;case 2:return this.identifier;case 3:return this.typeParameterList;case 4:return this.heritageClauses;case 5:return this.openBraceToken;case 6:return this.classElements;case 7:return this.closeBraceToken;default:throw e.Errors.invalidOperation()}},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r,i,s,o,u,a){return this.modifiers===e&&this.classKeyword===t&&this.identifier===r&&this.typeParameterList===i&&this.heritageClauses===s&&this.openBraceToken===o&&this.classElements===u&&this.closeBraceToken===a?this:new n(e,t,r,i,s,o,u,a,this.parsedInStrictMode())},n.create=function(t,r,i,s){return new n(e.Syntax.emptyList,t,r,null,e.Syntax.emptyList,i,e.Syntax.emptyList,s,!1)},n.create1=function(t){return new n(e.Syntax.emptyList,e.Syntax.token(44),t,null,e.Syntax.emptyList,e.Syntax.token(71),e.Syntax.emptyList,e.Syntax.token(72),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModifiers=function(e){return this.update(e,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},n.prototype.withModifier=function(t){return this.withModifiers(e.Syntax.list([t]))},n.prototype.withClassKeyword=function(e){return this.update(this.modifiers,e,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},n.prototype.withIdentifier=function(e){return this.update(this.modifiers,this.classKeyword,e,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},n.prototype.withTypeParameterList=function(e){return this.update(this.modifiers,this.classKeyword,this.identifier,e,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},n.prototype.withHeritageClauses=function(e){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,e,this.openBraceToken,this.classElements,this.closeBraceToken)},n.prototype.withHeritageClause=function(t){return this.withHeritageClauses(e.Syntax.list([t]))},n.prototype.withOpenBraceToken=function(e){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,e,this.classElements,this.closeBraceToken)},n.prototype.withClassElements=function(e){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,e,this.closeBraceToken)},n.prototype.withClassElement=function(t){return this.withClassElements(e.Syntax.list([t]))},n.prototype.withCloseBraceToken=function(e){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.ClassDeclarationSyntax=u;var a=function(t){function n(e,n,r,i,s,o,u){t.call(this,u),this.modifiers=e,this.interfaceKeyword=n,this.identifier=r,this.typeParameterList=i,this.heritageClauses=s,this.body=o}return __extends(n,t),n.prototype.accept=function(e){return e.visitInterfaceDeclaration(this)},n.prototype.kind=function(){return 128},n.prototype.childCount=function(){return 6},n.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.interfaceKeyword;case 2:return this.identifier;case 3:return this.typeParameterList;case 4:return this.heritageClauses;case 5:return this.body;default:throw e.Errors.invalidOperation()}},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r,i,s,o){return this.modifiers===e&&this.interfaceKeyword===t&&this.identifier===r&&this.typeParameterList===i&&this.heritageClauses===s&&this.body===o?this:new n(e,t,r,i,s,o,this.parsedInStrictMode())},n.create=function(t,r,i){return new n(e.Syntax.emptyList,t,r,null,e.Syntax.emptyList,i,!1)},n.create1=function(t){return new n(e.Syntax.emptyList,e.Syntax.token(52),t,null,e.Syntax.emptyList,k.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModifiers=function(e){return this.update(e,this.interfaceKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.body)},n.prototype.withModifier=function(t){return this.withModifiers(e.Syntax.list([t]))},n.prototype.withInterfaceKeyword=function(e){return this.update(this.modifiers,e,this.identifier,this.typeParameterList,this.heritageClauses,this.body)},n.prototype.withIdentifier=function(e){return this.update(this.modifiers,this.interfaceKeyword,e,this.typeParameterList,this.heritageClauses,this.body)},n.prototype.withTypeParameterList=function(e){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,e,this.heritageClauses,this.body)},n.prototype.withHeritageClauses=function(e){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,this.typeParameterList,e,this.body)},n.prototype.withHeritageClause=function(t){return this.withHeritageClauses(e.Syntax.list([t]))},n.prototype.withBody=function(e){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,this.typeParameterList,this.heritageClauses,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.InterfaceDeclarationSyntax=a;var f=function(t){function n(e,n,r){t.call(this,r),this.extendsOrImplementsKeyword=e,this.typeNames=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitHeritageClause(this)},n.prototype.kind=function(){return 229},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.extendsOrImplementsKeyword;case 1:return this.typeNames;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t){return this.extendsOrImplementsKeyword===e&&this.typeNames===t?this:new n(e,t,this.parsedInStrictMode())},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withExtendsOrImplementsKeyword=function(e){return this.update(e,this.typeNames)},n.prototype.withTypeNames=function(e){return this.update(this.extendsOrImplementsKeyword,e)},n.prototype.withTypeName=function(t){return this.withTypeNames(e.Syntax.separatedList([t]))},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.HeritageClauseSyntax=f;var l=function(t){function n(e,n,r,i,s,o,u,a){t.call(this,a),this.modifiers=e,this.moduleKeyword=n,this.moduleName=r,this.stringLiteral=i,this.openBraceToken=s,this.moduleElements=o,this.closeBraceToken=u}return __extends(n,t),n.prototype.accept=function(e){return e.visitModuleDeclaration(this)},n.prototype.kind=function(){return 130},n.prototype.childCount=function(){return 7},n.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.moduleKeyword;case 2:return this.moduleName;case 3:return this.stringLiteral;case 4:return this.openBraceToken;case 5:return this.moduleElements;case 6:return this.closeBraceToken;default:throw e.Errors.invalidOperation()}},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r,i,s,o,u){return this.modifiers===e&&this.moduleKeyword===t&&this.moduleName===r&&this.stringLiteral===i&&this.openBraceToken===s&&this.moduleElements===o&&this.closeBraceToken===u?this:new n(e,t,r,i,s,o,u,this.parsedInStrictMode())},n.create=function(t,r,i){return new n(e.Syntax.emptyList,t,null,null,r,e.Syntax.emptyList,i,!1)},n.create1=function(){return new n(e.Syntax.emptyList,e.Syntax.token(66),null,null,e.Syntax.token(71),e.Syntax.emptyList,e.Syntax.token(72),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModifiers=function(e){return this.update(e,this.moduleKeyword,this.moduleName,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},n.prototype.withModifier=function(t){return this.withModifiers(e.Syntax.list([t]))},n.prototype.withModuleKeyword=function(e){return this.update(this.modifiers,e,this.moduleName,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},n.prototype.withModuleName=function(e){return this.update(this.modifiers,this.moduleKeyword,e,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},n.prototype.withStringLiteral=function(e){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,e,this.openBraceToken,this.moduleElements,this.closeBraceToken)},n.prototype.withOpenBraceToken=function(e){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,this.stringLiteral,e,this.moduleElements,this.closeBraceToken)},n.prototype.withModuleElements=function(e){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,this.stringLiteral,this.openBraceToken,e,this.closeBraceToken)},n.prototype.withModuleElement=function(t){return this.withModuleElements(e.Syntax.list([t]))},n.prototype.withCloseBraceToken=function(e){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,this.stringLiteral,this.openBraceToken,this.moduleElements,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.ModuleDeclarationSyntax=l;var c=function(t){function n(e,n,r,i,s,o,u){t.call(this,u),this.modifiers=e,this.functionKeyword=n,this.identifier=r,this.callSignature=i,this.block=s,this.semicolonToken=o}return __extends(n,t),n.prototype.accept=function(e){return e.visitFunctionDeclaration(this)},n.prototype.kind=function(){return 129},n.prototype.childCount=function(){return 6},n.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.functionKeyword;case 2:return this.identifier;case 3:return this.callSignature;case 4:return this.block;case 5:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r,i,s,o){return this.modifiers===e&&this.functionKeyword===t&&this.identifier===r&&this.callSignature===i&&this.block===s&&this.semicolonToken===o?this:new n(e,t,r,i,s,o,this.parsedInStrictMode())},n.create=function(t,r,i){return new n(e.Syntax.emptyList,t,r,i,null,null,!1)},n.create1=function(t){return new n(e.Syntax.emptyList,e.Syntax.token(27),t,W.create1(),null,null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModifiers=function(e){return this.update(e,this.functionKeyword,this.identifier,this.callSignature,this.block,this.semicolonToken)},n.prototype.withModifier=function(t){return this.withModifiers(e.Syntax.list([t]))},n.prototype.withFunctionKeyword=function(e){return this.update(this.modifiers,e,this.identifier,this.callSignature,this.block,this.semicolonToken)},n.prototype.withIdentifier=function(e){return this.update(this.modifiers,this.functionKeyword,e,this.callSignature,this.block,this.semicolonToken)},n.prototype.withCallSignature=function(e){return this.update(this.modifiers,this.functionKeyword,this.identifier,e,this.block,this.semicolonToken)},n.prototype.withBlock=function(e){return this.update(this.modifiers,this.functionKeyword,this.identifier,this.callSignature,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.modifiers,this.functionKeyword,this.identifier,this.callSignature,this.block,e)},n.prototype.isTypeScriptSpecific=function(){return this.modifiers.isTypeScriptSpecific()?!0:this.callSignature.isTypeScriptSpecific()?!0:this.block!==null&&this.block.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.FunctionDeclarationSyntax=c;var h=function(t){function n(e,n,r,i){t.call(this,i),this.modifiers=e,this.variableDeclaration=n,this.semicolonToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitVariableStatement(this)},n.prototype.kind=function(){return 147},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.variableDeclaration;case 2:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r){return this.modifiers===e&&this.variableDeclaration===t&&this.semicolonToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(t,r){return new n(e.Syntax.emptyList,t,r,!1)},n.create1=function(t){return new n(e.Syntax.emptyList,t,e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModifiers=function(e){return this.update(e,this.variableDeclaration,this.semicolonToken)},n.prototype.withModifier=function(t){return this.withModifiers(e.Syntax.list([t]))},n.prototype.withVariableDeclaration=function(e){return this.update(this.modifiers,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.modifiers,this.variableDeclaration,e)},n.prototype.isTypeScriptSpecific=function(){return this.modifiers.isTypeScriptSpecific()?!0:this.variableDeclaration.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.VariableStatementSyntax=h;var p=function(t){function n(e,n,r){t.call(this,r),this.varKeyword=e,this.variableDeclarators=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitVariableDeclaration(this)},n.prototype.kind=function(){return 223},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.varKeyword;case 1:return this.variableDeclarators;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t){return this.varKeyword===e&&this.variableDeclarators===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(t){return new n(e.Syntax.token(40),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withVarKeyword=function(e){return this.update(e,this.variableDeclarators)},n.prototype.withVariableDeclarators=function(e){return this.update(this.varKeyword,e)},n.prototype.withVariableDeclarator=function(t){return this.withVariableDeclarators(e.Syntax.separatedList([t]))},n.prototype.isTypeScriptSpecific=function(){return this.variableDeclarators.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.VariableDeclarationSyntax=p;var d=function(t){function n(e,n,r,i){t.call(this,i),this.identifier=e,this.typeAnnotation=n,this.equalsValueClause=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitVariableDeclarator(this)},n.prototype.kind=function(){return 224},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.typeAnnotation;case 2:return this.equalsValueClause;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r){return this.identifier===e&&this.typeAnnotation===t&&this.equalsValueClause===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(e){return new n(e,null,null,!1)},n.create1=function(e){return new n(e,null,null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withIdentifier=function(e){return this.update(e,this.typeAnnotation,this.equalsValueClause)},n.prototype.withTypeAnnotation=function(e){return this.update(this.identifier,e,this.equalsValueClause)},n.prototype.withEqualsValueClause=function(e){return this
.update(this.identifier,this.typeAnnotation,e)},n.prototype.isTypeScriptSpecific=function(){return this.typeAnnotation!==null?!0:this.equalsValueClause!==null&&this.equalsValueClause.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.VariableDeclaratorSyntax=d;var v=function(t){function n(e,n,r){t.call(this,r),this.equalsToken=e,this.value=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitEqualsValueClause(this)},n.prototype.kind=function(){return 230},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.equalsToken;case 1:return this.value;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t){return this.equalsToken===e&&this.value===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(t){return new n(e.Syntax.token(108),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withEqualsToken=function(e){return this.update(e,this.value)},n.prototype.withValue=function(e){return this.update(this.equalsToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.value.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.EqualsValueClauseSyntax=v;var m=function(t){function n(e,n,r,i){t.call(this,i),this.operatorToken=n,this.operand=r,this._kind=e}return __extends(n,t),n.prototype.accept=function(e){return e.visitPrefixUnaryExpression(this)},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.operatorToken;case 1:return this.operand;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.kind=function(){return this._kind},n.prototype.update=function(e,t,r){return this._kind===e&&this.operatorToken===t&&this.operand===r?this:new n(e,t,r,this.parsedInStrictMode())},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withKind=function(e){return this.update(e,this.operatorToken,this.operand)},n.prototype.withOperatorToken=function(e){return this.update(this._kind,e,this.operand)},n.prototype.withOperand=function(e){return this.update(this._kind,this.operatorToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.operand.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.PrefixUnaryExpressionSyntax=m;var g=function(t){function n(e,n,r,i){t.call(this,i),this.openBracketToken=e,this.expressions=n,this.closeBracketToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitArrayLiteralExpression(this)},n.prototype.kind=function(){return 213},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.openBracketToken;case 1:return this.expressions;case 2:return this.closeBracketToken;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r){return this.openBracketToken===e&&this.expressions===t&&this.closeBracketToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(t,r){return new n(t,e.Syntax.emptySeparatedList,r,!1)},n.create1=function(){return new n(e.Syntax.token(75),e.Syntax.emptySeparatedList,e.Syntax.token(76),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withOpenBracketToken=function(e){return this.update(e,this.expressions,this.closeBracketToken)},n.prototype.withExpressions=function(e){return this.update(this.openBracketToken,e,this.closeBracketToken)},n.prototype.withExpression=function(t){return this.withExpressions(e.Syntax.separatedList([t]))},n.prototype.withCloseBracketToken=function(e){return this.update(this.openBracketToken,this.expressions,e)},n.prototype.isTypeScriptSpecific=function(){return this.expressions.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ArrayLiteralExpressionSyntax=g;var y=function(t){function n(e){t.call(this,e)}return __extends(n,t),n.prototype.accept=function(e){return e.visitOmittedExpression(this)},n.prototype.kind=function(){return 222},n.prototype.childCount=function(){return 0},n.prototype.childAt=function(t){throw e.Errors.invalidOperation()},n.prototype.isExpression=function(){return!0},n.prototype.update=function(){return this},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.isTypeScriptSpecific=function(){return!1},n}(e.SyntaxNode);e.OmittedExpressionSyntax=y;var b=function(t){function n(e,n,r,i){t.call(this,i),this.openParenToken=e,this.expression=n,this.closeParenToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitParenthesizedExpression(this)},n.prototype.kind=function(){return 216},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.openParenToken;case 1:return this.expression;case 2:return this.closeParenToken;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r){return this.openParenToken===e&&this.expression===t&&this.closeParenToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create1=function(t){return new n(e.Syntax.token(73),t,e.Syntax.token(74),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withOpenParenToken=function(e){return this.update(e,this.expression,this.closeParenToken)},n.prototype.withExpression=function(e){return this.update(this.openParenToken,e,this.closeParenToken)},n.prototype.withCloseParenToken=function(e){return this.update(this.openParenToken,this.expression,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ParenthesizedExpressionSyntax=b;var w=function(e){function t(t,n,r){e.call(this,r),this.equalsGreaterThanToken=t,this.body=n}return __extends(t,e),t.prototype.isUnaryExpression=function(){return!0},t.prototype.isExpression=function(){return!0},t.prototype.withLeadingTrivia=function(t){return e.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return e.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!0},t}(e.SyntaxNode);e.ArrowFunctionExpressionSyntax=w;var E=function(t){function n(e,n,r,i){t.call(this,n,r,i),this.identifier=e}return __extends(n,t),n.prototype.accept=function(e){return e.visitSimpleArrowFunctionExpression(this)},n.prototype.kind=function(){return 218},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.equalsGreaterThanToken;case 2:return this.body;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r){return this.identifier===e&&this.equalsGreaterThanToken===t&&this.body===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create1=function(t,r){return new n(t,e.Syntax.token(86),r,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withIdentifier=function(e){return this.update(e,this.equalsGreaterThanToken,this.body)},n.prototype.withEqualsGreaterThanToken=function(e){return this.update(this.identifier,e,this.body)},n.prototype.withBody=function(e){return this.update(this.identifier,this.equalsGreaterThanToken,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(w);e.SimpleArrowFunctionExpressionSyntax=E;var S=function(t){function n(e,n,r,i){t.call(this,n,r,i),this.callSignature=e}return __extends(n,t),n.prototype.accept=function(e){return e.visitParenthesizedArrowFunctionExpression(this)},n.prototype.kind=function(){return 217},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.callSignature;case 1:return this.equalsGreaterThanToken;case 2:return this.body;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r){return this.callSignature===e&&this.equalsGreaterThanToken===t&&this.body===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create1=function(t){return new n(W.create1(),e.Syntax.token(86),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withCallSignature=function(e){return this.update(e,this.equalsGreaterThanToken,this.body)},n.prototype.withEqualsGreaterThanToken=function(e){return this.update(this.callSignature,e,this.body)},n.prototype.withBody=function(e){return this.update(this.callSignature,this.equalsGreaterThanToken,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(w);e.ParenthesizedArrowFunctionExpressionSyntax=S;var x=function(t){function n(e,n,r,i){t.call(this,i),this.left=e,this.dotToken=n,this.right=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitQualifiedName(this)},n.prototype.kind=function(){return 122},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.left;case 1:return this.dotToken;case 2:return this.right;default:throw e.Errors.invalidOperation()}},n.prototype.isName=function(){return!0},n.prototype.isType=function(){return!0},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r){return this.left===e&&this.dotToken===t&&this.right===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create1=function(t,r){return new n(t,e.Syntax.token(77),r,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withLeft=function(e){return this.update(e,this.dotToken,this.right)},n.prototype.withDotToken=function(e){return this.update(this.left,e,this.right)},n.prototype.withRight=function(e){return this.update(this.left,this.dotToken,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.QualifiedNameSyntax=x;var T=function(t){function n(e,n,r,i){t.call(this,i),this.lessThanToken=e,this.typeArguments=n,this.greaterThanToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitTypeArgumentList(this)},n.prototype.kind=function(){return 227},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.typeArguments;case 2:return this.greaterThanToken;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r){return this.lessThanToken===e&&this.typeArguments===t&&this.greaterThanToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(t,r){return new n(t,e.Syntax.emptySeparatedList,r,!1)},n.create1=function(){return new n(e.Syntax.token(81),e.Syntax.emptySeparatedList,e.Syntax.token(82),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withLessThanToken=function(e){return this.update(e,this.typeArguments,this.greaterThanToken)},n.prototype.withTypeArguments=function(e){return this.update(this.lessThanToken,e,this.greaterThanToken)},n.prototype.withTypeArgument=function(t){return this.withTypeArguments(e.Syntax.separatedList([t]))},n.prototype.withGreaterThanToken=function(e){return this.update(this.lessThanToken,this.typeArguments,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.TypeArgumentListSyntax=T;var N=function(t){function n(e,n,r,i,s,o){t.call(this,o),this.newKeyword=e,this.typeParameterList=n,this.parameterList=r,this.equalsGreaterThanToken=i,this.type=s}return __extends(n,t),n.prototype.accept=function(e){return e.visitConstructorType(this)},n.prototype.kind=function(){return 126},n.prototype.childCount=function(){return 5},n.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.typeParameterList;case 2:return this.parameterList;case 3:return this.equalsGreaterThanToken;case 4:return this.type;default:throw e.Errors.invalidOperation()}},n.prototype.isType=function(){return!0},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r,i,s){return this.newKeyword===e&&this.typeParameterList===t&&this.parameterList===r&&this.equalsGreaterThanToken===i&&this.type===s?this:new n(e,t,r,i,s,this.parsedInStrictMode())},n.create=function(e,t,r,i){return new n(e,null,t,r,i,!1)},n.create1=function(t){return new n(e.Syntax.token(31),null,X.create1(),e.Syntax.token(86),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withNewKeyword=function(e){return this.update(e,this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,this.type)},n.prototype.withTypeParameterList=function(e){return this.update(this.newKeyword,e,this.parameterList,this.equalsGreaterThanToken,this.type)},n.prototype.withParameterList=function(e){return this.update(this.newKeyword,this.typeParameterList,e,this.equalsGreaterThanToken,this.type)},n.prototype.withEqualsGreaterThanToken=function(e){return this.update(this.newKeyword,this.typeParameterList,this.parameterList,e,this.type)},n.prototype.withType=function(e){return this.update(this.newKeyword,this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.ConstructorTypeSyntax=N;var C=function(t){function n(e,n,r,i,s){t.call(this,s),this.typeParameterList=e,this.parameterList=n,this.equalsGreaterThanToken=r,this.type=i}return __extends(n,t),n.prototype.accept=function(e){return e.visitFunctionType(this)},n.prototype.kind=function(){return 124},n.prototype.childCount=function(){return 4},n.prototype.childAt=function(t){switch(t){case 0:return this.typeParameterList;case 1:return this.parameterList;case 2:return this.equalsGreaterThanToken;case 3:return this.type;default:throw e.Errors.invalidOperation()}},n.prototype.isType=function(){return!0},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r,i){return this.typeParameterList===e&&this.parameterList===t&&this.equalsGreaterThanToken===r&&this.type===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.create=function(e,t,r){return new n(null,e,t,r,!1)},n.create1=function(t){return new n(null,X.create1(),e.Syntax.token(86),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withTypeParameterList=function(e){return this.update(e,this.parameterList,this.equalsGreaterThanToken,this.type)},n.prototype.withParameterList=function(e){return this.update(this.typeParameterList,e,this.equalsGreaterThanToken,this.type)},n.prototype.withEqualsGreaterThanToken=function(e){return this.update(this.typeParameterList,this.parameterList,e,this.type)},n.prototype.withType=function(e){return this.update(this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.FunctionTypeSyntax=C;var k=function(t){function n(e,n,r,i){t.call(this,i),this.openBraceToken=e,this.typeMembers=n,this.closeBraceToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitObjectType(this)},n.prototype.kind=function(){return 123},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.typeMembers;case 2:return this.closeBraceToken;default:throw e.Errors.invalidOperation()}},n.prototype.isType=function(){return!0},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r){return this.openBraceToken===e&&this.typeMembers===t&&this.closeBraceToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(t,r){return new n(t,e.Syntax.emptySeparatedList,r,!1)},n.create1=function(){return new n(e.Syntax.token(71),e.Syntax.emptySeparatedList,e.Syntax.token(72),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withOpenBraceToken=function(e){return this.update(e,this.typeMembers,this.closeBraceToken)},n.prototype.withTypeMembers=function(e){return this.update(this.openBraceToken,e,this.closeBraceToken)},n.prototype.withTypeMember=function(t){return this.withTypeMembers(e.Syntax.separatedList([t]))},n.prototype.withCloseBraceToken=function(e){return this.update(this.openBraceToken,this.typeMembers,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.ObjectTypeSyntax=k;var L=function(t){function n(e,n,r,i){t.call(this,i),this.type=e,this.openBracketToken=n,this.closeBracketToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitArrayType(this)},n.prototype.kind=function(){return 125},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.type;case 1:return this.openBracketToken;case 2:return this.closeBracketToken;default:throw e.Errors.invalidOperation()}},n.prototype.isType=function(){return!0},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r){return this.type===e&&this.openBracketToken===t&&this.closeBracketToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create1=function(t){return new n(t,e.Syntax.token(75),e.Syntax.token(76),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withType=function(e){return this.update(e,this.openBracketToken,this.closeBracketToken)},n.prototype.withOpenBracketToken=function(e){return this.update(this.type,e,this.closeBracketToken)},n.prototype.withCloseBracketToken=function(e){return this.update(this.type,this.openBracketToken,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.ArrayTypeSyntax=L;var A=function(t){function n(e,n,r){t.call(this,r),this.name=e,this.typeArgumentList=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitGenericType(this)},n.prototype.kind=function(){return 127},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.name;case 1:return this.typeArgumentList;default:throw e.Errors.invalidOperation()}},n.prototype.isType=function(){return!0},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t){return this.name===e&&this.typeArgumentList===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(e){return new n(e,T.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withName=function(e){return this.update(e,this.typeArgumentList)},n.prototype.withTypeArgumentList=function(e){return this.update(this.name,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.GenericTypeSyntax=A;var O=function(t){function n(e,n,r){t.call(this,r),this.colonToken=e,this.type=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitTypeAnnotation(this)},n.prototype.kind=function(){return 244},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.colonToken;case 1:return this.type;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t){return this.colonToken===e&&this.type===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(t){return new n(e.Syntax.token(107),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withColonToken=function(e){return this.update(e,this.type)},n.prototype.withType=function(e){return this.update(this.colonToken,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.TypeAnnotationSyntax=O;var M=function(t){function n(e,n,r,i){t.call(this,i),this.openBraceToken=e,this.statements=n,this.closeBraceToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitBlock(this)},n.prototype.kind=function(){return 145},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.statements;case 2:return this.closeBraceToken;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r){return this.openBraceToken===e&&this.statements===t&&this.closeBraceToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(t,r){return new n(t,e.Syntax.emptyList,r,!1)},n.create1=function(){return new n(e.Syntax.token(71),e.Syntax.emptyList,e.Syntax.token(72),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withOpenBraceToken=function(e){return this.update(e,this.statements,this.closeBraceToken)},n.prototype.withStatements=function(e){return this.update(this.openBraceToken,e,this.closeBraceToken)},n.prototype.withStatement=function(t){return this.withStatements(e.Syntax.list([t]))},n.prototype.withCloseBraceToken=function(e){return this.update(this.openBraceToken,this.statements,e)},n.prototype.isTypeScriptSpecific=function(){return this.statements.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.BlockSyntax=M;var _=function(t){function n(e,n,r,i,s,o,u){t.call(this,u),this.dotDotDotToken=e,this.publicOrPrivateKeyword=n,this.identifier=r,this.questionToken=i,this.typeAnnotation=s,this.equalsValueClause=o}return __extends(n,t),n.prototype.accept=function(e){return e.visitParameter(this)},n.prototype.kind=function(){return 242},n.prototype.childCount=function(){return 6},n.prototype.childAt=function(t){switch(t){case 0:return this.dotDotDotToken;case 1:return this.publicOrPrivateKeyword;case 2:return this.identifier;case 3:return this.questionToken;case 4:return this.typeAnnotation;case 5:return this.equalsValueClause;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i,s,o){return this.dotDotDotToken===e&&this.publicOrPrivateKeyword===t&&this.identifier===r&&this.questionToken===i&&this.typeAnnotation===s&&this.equalsValueClause===o?this:new n(e,t,r,i,s,o,this.parsedInStrictMode())},n.create=function(e){return new n(null,null,e,null,null,null,!1)},n.create1=function(e){return new n(null,null,e,null,null,null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withDotDotDotToken=function(e){return this.update(e,this.publicOrPrivateKeyword,this.identifier,this.questionToken,this.typeAnnotation,this.equalsValueClause)},n.prototype.withPublicOrPrivateKeyword=function(e){return this.update(this.dotDotDotToken,e,this.identifier,this.questionToken,this.typeAnnotation,this.equalsValueClause)},n.prototype.withIdentifier=function(e){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,e,this.questionToken,this.typeAnnotation,this.equalsValueClause)},n.prototype.withQuestionToken=function(e){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,this.identifier,e,this.typeAnnotation,this.equalsValueClause)},n.prototype.withTypeAnnotation=function(e){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,this.identifier,this.questionToken,e,this.equalsValueClause)},n.prototype.withEqualsValueClause=function(e){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,this.identifier,this.questionToken,this.typeAnnotation,e)},n.prototype.isTypeScriptSpecific=function(){return this.dotDotDotToken!==null?!0:this.publicOrPrivateKeyword!==null?!0:this.questionToken!==null?!0:this.typeAnnotation!==null?!0:this.equalsValueClause!==null?!0:!1},n}(e.SyntaxNode);e.ParameterSyntax=_;var D=function(t){function n(e,n,r,i){t.call(this,i),this.expression=e,this.dotToken=n,this.name=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitMemberAccessExpression(this)},n.prototype.kind=function(){return 211},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.dotToken;case 2:return this.name;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r){return this.expression===e&&this.dotToken===t&&this.name===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create1=function(t,r){return new n(t,e.Syntax.token(77),r,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withExpression=function(e){return this.update(e,this.dotToken,this.name)},n.prototype.withDotToken=function(e){return this.update(this.expression,e,this.name)},n.prototype.withName=function(e){return this.update(this.expression,this.dotToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.MemberAccessExpressionSyntax=D;var P=function(t){function n(e,n,r,i){t.call(this,i),this.operand=n,this.operatorToken=r,this._kind=e}return __extends(n,t),n.prototype.accept=function(e){return e.visitPostfixUnaryExpression(this)},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.operand;case 1:return this.operatorToken;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.kind=function(){return this._kind},n.prototype.update=function(e,t,r){return this._kind===e&&this.operand===t&&this.operatorToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withKind=function(e){return this.update(e,this.operand,this.operatorToken)},n.prototype.withOperand=function(e){return this.update(this._kind,e,this.operatorToken)},n.prototype.withOperatorToken=function(e){return this.update(this._kind,this.operand,e)},n.prototype.isTypeScriptSpecific=function(){return this.operand.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.PostfixUnaryExpressionSyntax=P;var H=function(t){function n(e,n,r,i,s){t.call(this,s),this.expression=e,this.openBracketToken=n,this.argumentExpression=r,this.closeBracketToken=i}return __extends(n,t),n.prototype.accept=function(e){return e.visitElementAccessExpression(this)},n.prototype.kind=function(){return 220},n.prototype.childCount=function(){return 4},n.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.openBracketToken;case 2:return this.argumentExpression;case 3:return this.closeBracketToken;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r,i){return this.expression===e&&this.openBracketToken===t&&this.argumentExpression===r&&this.closeBracketToken===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.create1=function(t,r){return new n(t,e.Syntax.token(75),r,e.Syntax.token(76),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withExpression=function(e){return this.update(e,this.openBracketToken,this.argumentExpression,this.closeBracketToken)},n.prototype.withOpenBracketToken=function(e){return this.update(this.expression,e,this.argumentExpression,this.closeBracketToken)},n.prototype.withArgumentExpression=function(e){return this.update(this.expression,this.openBracketToken,e,this.closeBracketToken)},n.prototype.withCloseBracketToken=function(e){return this.update(this.expression,this.openBracketToken,this.argumentExpression,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentExpression.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ElementAccessExpressionSyntax=H;var B=function(t){function n(e,n,r){t.call(this,r),this.expression=e,this.argumentList=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitInvocationExpression(this)},n.prototype.kind=function(){return 212},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.argumentList;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t){return this.expression===e&&this.argumentList===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(e){return new n(e,j.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withExpression=function(e){return this.update(e,this.argumentList)},n.prototype.withArgumentList=function(e){return this.update(this.expression,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentList.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.InvocationExpressionSyntax=B;var j=function(t){function n(e,n,r,i,s){t.call(this,s),this.typeArgumentList=e,this.openParenToken=n,this.arguments=r,this.closeParenToken=i}return __extends(n,t),n.prototype.accept=function(e){return e.visitArgumentList(this)},n.prototype.kind=function(){return 225},n.prototype.childCount=function(){return 4},n.prototype.childAt=function(t){switch(t){case 0:return this.typeArgumentList;case 1:return this.openParenToken;case 2:return this.arguments;case 3:return this.closeParenToken;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i){return this.typeArgumentList===e&&this.openParenToken===t&&this.arguments===r&&this.closeParenToken===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.create=function(t,r){return new n(null,t,e.Syntax.emptySeparatedList,r,!1)},n.create1=function(){return new n(null,e.Syntax.token(73),e.Syntax.emptySeparatedList,e.Syntax.token(74),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withTypeArgumentList=function(e){return this.update(e,this.openParenToken,this.arguments,this.closeParenToken)},n.prototype.withOpenParenToken=function(e){return this.update(this.typeArgumentList,e,this.arguments,this.closeParenToken)},n.prototype.withArguments=function(e){return this.update(this.typeArgumentList,this.openParenToken,e,this.closeParenToken)},n.prototype.withArgument=function(t){return this.withArguments(e.Syntax.separatedList([t]))},n.prototype
.withCloseParenToken=function(e){return this.update(this.typeArgumentList,this.openParenToken,this.arguments,e)},n.prototype.isTypeScriptSpecific=function(){return this.typeArgumentList!==null&&this.typeArgumentList.isTypeScriptSpecific()?!0:this.arguments.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ArgumentListSyntax=j;var F=function(t){function n(e,n,r,i,s){t.call(this,s),this.left=n,this.operatorToken=r,this.right=i,this._kind=e}return __extends(n,t),n.prototype.accept=function(e){return e.visitBinaryExpression(this)},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.left;case 1:return this.operatorToken;case 2:return this.right;default:throw e.Errors.invalidOperation()}},n.prototype.isExpression=function(){return!0},n.prototype.kind=function(){return this._kind},n.prototype.update=function(e,t,r,i){return this._kind===e&&this.left===t&&this.operatorToken===r&&this.right===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withKind=function(e){return this.update(e,this.left,this.operatorToken,this.right)},n.prototype.withLeft=function(e){return this.update(this._kind,e,this.operatorToken,this.right)},n.prototype.withOperatorToken=function(e){return this.update(this._kind,this.left,e,this.right)},n.prototype.withRight=function(e){return this.update(this._kind,this.left,this.operatorToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.left.isTypeScriptSpecific()?!0:this.right.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.BinaryExpressionSyntax=F;var I=function(t){function n(e,n,r,i,s,o){t.call(this,o),this.condition=e,this.questionToken=n,this.whenTrue=r,this.colonToken=i,this.whenFalse=s}return __extends(n,t),n.prototype.accept=function(e){return e.visitConditionalExpression(this)},n.prototype.kind=function(){return 185},n.prototype.childCount=function(){return 5},n.prototype.childAt=function(t){switch(t){case 0:return this.condition;case 1:return this.questionToken;case 2:return this.whenTrue;case 3:return this.colonToken;case 4:return this.whenFalse;default:throw e.Errors.invalidOperation()}},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r,i,s){return this.condition===e&&this.questionToken===t&&this.whenTrue===r&&this.colonToken===i&&this.whenFalse===s?this:new n(e,t,r,i,s,this.parsedInStrictMode())},n.create1=function(t,r,i){return new n(t,e.Syntax.token(106),r,e.Syntax.token(107),i,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withCondition=function(e){return this.update(e,this.questionToken,this.whenTrue,this.colonToken,this.whenFalse)},n.prototype.withQuestionToken=function(e){return this.update(this.condition,e,this.whenTrue,this.colonToken,this.whenFalse)},n.prototype.withWhenTrue=function(e){return this.update(this.condition,this.questionToken,e,this.colonToken,this.whenFalse)},n.prototype.withColonToken=function(e){return this.update(this.condition,this.questionToken,this.whenTrue,e,this.whenFalse)},n.prototype.withWhenFalse=function(e){return this.update(this.condition,this.questionToken,this.whenTrue,this.colonToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.whenTrue.isTypeScriptSpecific()?!0:this.whenFalse.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ConditionalExpressionSyntax=I;var q=function(t){function n(e,n,r){t.call(this,r),this.newKeyword=e,this.callSignature=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitConstructSignature(this)},n.prototype.kind=function(){return 142},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.callSignature;default:throw e.Errors.invalidOperation()}},n.prototype.isTypeMember=function(){return!0},n.prototype.update=function(e,t){return this.newKeyword===e&&this.callSignature===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(){return new n(e.Syntax.token(31),W.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withNewKeyword=function(e){return this.update(e,this.callSignature)},n.prototype.withCallSignature=function(e){return this.update(this.newKeyword,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.ConstructSignatureSyntax=q;var R=function(t){function n(e,n,r,i){t.call(this,i),this.propertyName=e,this.questionToken=n,this.callSignature=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitMethodSignature(this)},n.prototype.kind=function(){return 144},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.questionToken;case 2:return this.callSignature;default:throw e.Errors.invalidOperation()}},n.prototype.isTypeMember=function(){return!0},n.prototype.update=function(e,t,r){return this.propertyName===e&&this.questionToken===t&&this.callSignature===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(e,t){return new n(e,null,t,!1)},n.create1=function(e){return new n(e,null,W.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withPropertyName=function(e){return this.update(e,this.questionToken,this.callSignature)},n.prototype.withQuestionToken=function(e){return this.update(this.propertyName,e,this.callSignature)},n.prototype.withCallSignature=function(e){return this.update(this.propertyName,this.questionToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.MethodSignatureSyntax=R;var U=function(t){function n(e,n,r,i,s){t.call(this,s),this.openBracketToken=e,this.parameter=n,this.closeBracketToken=r,this.typeAnnotation=i}return __extends(n,t),n.prototype.accept=function(e){return e.visitIndexSignature(this)},n.prototype.kind=function(){return 143},n.prototype.childCount=function(){return 4},n.prototype.childAt=function(t){switch(t){case 0:return this.openBracketToken;case 1:return this.parameter;case 2:return this.closeBracketToken;case 3:return this.typeAnnotation;default:throw e.Errors.invalidOperation()}},n.prototype.isTypeMember=function(){return!0},n.prototype.isClassElement=function(){return!0},n.prototype.update=function(e,t,r,i){return this.openBracketToken===e&&this.parameter===t&&this.closeBracketToken===r&&this.typeAnnotation===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.create=function(e,t,r){return new n(e,t,r,null,!1)},n.create1=function(t){return new n(e.Syntax.token(75),t,e.Syntax.token(76),null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withOpenBracketToken=function(e){return this.update(e,this.parameter,this.closeBracketToken,this.typeAnnotation)},n.prototype.withParameter=function(e){return this.update(this.openBracketToken,e,this.closeBracketToken,this.typeAnnotation)},n.prototype.withCloseBracketToken=function(e){return this.update(this.openBracketToken,this.parameter,e,this.typeAnnotation)},n.prototype.withTypeAnnotation=function(e){return this.update(this.openBracketToken,this.parameter,this.closeBracketToken,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.IndexSignatureSyntax=U;var z=function(t){function n(e,n,r,i){t.call(this,i),this.propertyName=e,this.questionToken=n,this.typeAnnotation=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitPropertySignature(this)},n.prototype.kind=function(){return 140},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.questionToken;case 2:return this.typeAnnotation;default:throw e.Errors.invalidOperation()}},n.prototype.isTypeMember=function(){return!0},n.prototype.update=function(e,t,r){return this.propertyName===e&&this.questionToken===t&&this.typeAnnotation===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(e){return new n(e,null,null,!1)},n.create1=function(e){return new n(e,null,null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withPropertyName=function(e){return this.update(e,this.questionToken,this.typeAnnotation)},n.prototype.withQuestionToken=function(e){return this.update(this.propertyName,e,this.typeAnnotation)},n.prototype.withTypeAnnotation=function(e){return this.update(this.propertyName,this.questionToken,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.PropertySignatureSyntax=z;var W=function(t){function n(e,n,r,i){t.call(this,i),this.typeParameterList=e,this.parameterList=n,this.typeAnnotation=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitCallSignature(this)},n.prototype.kind=function(){return 141},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.typeParameterList;case 1:return this.parameterList;case 2:return this.typeAnnotation;default:throw e.Errors.invalidOperation()}},n.prototype.isTypeMember=function(){return!0},n.prototype.update=function(e,t,r){return this.typeParameterList===e&&this.parameterList===t&&this.typeAnnotation===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(e){return new n(null,e,null,!1)},n.create1=function(){return new n(null,X.create1(),null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withTypeParameterList=function(e){return this.update(e,this.parameterList,this.typeAnnotation)},n.prototype.withParameterList=function(e){return this.update(this.typeParameterList,e,this.typeAnnotation)},n.prototype.withTypeAnnotation=function(e){return this.update(this.typeParameterList,this.parameterList,e)},n.prototype.isTypeScriptSpecific=function(){return this.typeParameterList!==null?!0:this.parameterList.isTypeScriptSpecific()?!0:this.typeAnnotation!==null?!0:!1},n}(e.SyntaxNode);e.CallSignatureSyntax=W;var X=function(t){function n(e,n,r,i){t.call(this,i),this.openParenToken=e,this.parameters=n,this.closeParenToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitParameterList(this)},n.prototype.kind=function(){return 226},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.openParenToken;case 1:return this.parameters;case 2:return this.closeParenToken;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r){return this.openParenToken===e&&this.parameters===t&&this.closeParenToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(t,r){return new n(t,e.Syntax.emptySeparatedList,r,!1)},n.create1=function(){return new n(e.Syntax.token(73),e.Syntax.emptySeparatedList,e.Syntax.token(74),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withOpenParenToken=function(e){return this.update(e,this.parameters,this.closeParenToken)},n.prototype.withParameters=function(e){return this.update(this.openParenToken,e,this.closeParenToken)},n.prototype.withParameter=function(t){return this.withParameters(e.Syntax.separatedList([t]))},n.prototype.withCloseParenToken=function(e){return this.update(this.openParenToken,this.parameters,e)},n.prototype.isTypeScriptSpecific=function(){return this.parameters.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ParameterListSyntax=X;var V=function(t){function n(e,n,r,i){t.call(this,i),this.lessThanToken=e,this.typeParameters=n,this.greaterThanToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitTypeParameterList(this)},n.prototype.kind=function(){return 228},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.typeParameters;case 2:return this.greaterThanToken;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r){return this.lessThanToken===e&&this.typeParameters===t&&this.greaterThanToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(t,r){return new n(t,e.Syntax.emptySeparatedList,r,!1)},n.create1=function(){return new n(e.Syntax.token(81),e.Syntax.emptySeparatedList,e.Syntax.token(82),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withLessThanToken=function(e){return this.update(e,this.typeParameters,this.greaterThanToken)},n.prototype.withTypeParameters=function(e){return this.update(this.lessThanToken,e,this.greaterThanToken)},n.prototype.withTypeParameter=function(t){return this.withTypeParameters(e.Syntax.separatedList([t]))},n.prototype.withGreaterThanToken=function(e){return this.update(this.lessThanToken,this.typeParameters,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.TypeParameterListSyntax=V;var $=function(t){function n(e,n,r){t.call(this,r),this.identifier=e,this.constraint=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitTypeParameter(this)},n.prototype.kind=function(){return 236},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.constraint;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t){return this.identifier===e&&this.constraint===t?this:new n(e,t,this.parsedInStrictMode())},n.create=function(e){return new n(e,null,!1)},n.create1=function(e){return new n(e,null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withIdentifier=function(e){return this.update(e,this.constraint)},n.prototype.withConstraint=function(e){return this.update(this.identifier,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.TypeParameterSyntax=$;var J=function(t){function n(e,n,r){t.call(this,r),this.extendsKeyword=e,this.type=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitConstraint(this)},n.prototype.kind=function(){return 237},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.extendsKeyword;case 1:return this.type;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t){return this.extendsKeyword===e&&this.type===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(t){return new n(e.Syntax.token(48),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withExtendsKeyword=function(e){return this.update(e,this.type)},n.prototype.withType=function(e){return this.update(this.extendsKeyword,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.ConstraintSyntax=J;var K=function(t){function n(e,n,r){t.call(this,r),this.elseKeyword=e,this.statement=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitElseClause(this)},n.prototype.kind=function(){return 233},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.elseKeyword;case 1:return this.statement;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t){return this.elseKeyword===e&&this.statement===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(t){return new n(e.Syntax.token(23),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withElseKeyword=function(e){return this.update(e,this.statement)},n.prototype.withStatement=function(e){return this.update(this.elseKeyword,e)},n.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ElseClauseSyntax=K;var Q=function(t){function n(e,n,r,i,s,o,u){t.call(this,u),this.ifKeyword=e,this.openParenToken=n,this.condition=r,this.closeParenToken=i,this.statement=s,this.elseClause=o}return __extends(n,t),n.prototype.accept=function(e){return e.visitIfStatement(this)},n.prototype.kind=function(){return 146},n.prototype.childCount=function(){return 6},n.prototype.childAt=function(t){switch(t){case 0:return this.ifKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;case 5:return this.elseClause;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r,i,s,o){return this.ifKeyword===e&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===i&&this.statement===s&&this.elseClause===o?this:new n(e,t,r,i,s,o,this.parsedInStrictMode())},n.create=function(e,t,r,i,s){return new n(e,t,r,i,s,null,!1)},n.create1=function(t,r){return new n(e.Syntax.token(28),e.Syntax.token(73),t,e.Syntax.token(74),r,null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withIfKeyword=function(e){return this.update(e,this.openParenToken,this.condition,this.closeParenToken,this.statement,this.elseClause)},n.prototype.withOpenParenToken=function(e){return this.update(this.ifKeyword,e,this.condition,this.closeParenToken,this.statement,this.elseClause)},n.prototype.withCondition=function(e){return this.update(this.ifKeyword,this.openParenToken,e,this.closeParenToken,this.statement,this.elseClause)},n.prototype.withCloseParenToken=function(e){return this.update(this.ifKeyword,this.openParenToken,this.condition,e,this.statement,this.elseClause)},n.prototype.withStatement=function(e){return this.update(this.ifKeyword,this.openParenToken,this.condition,this.closeParenToken,e,this.elseClause)},n.prototype.withElseClause=function(e){return this.update(this.ifKeyword,this.openParenToken,this.condition,this.closeParenToken,this.statement,e)},n.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:this.elseClause!==null&&this.elseClause.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.IfStatementSyntax=Q;var G=function(t){function n(e,n,r){t.call(this,r),this.expression=e,this.semicolonToken=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitExpressionStatement(this)},n.prototype.kind=function(){return 148},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t){return this.expression===e&&this.semicolonToken===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(t){return new n(t,e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withExpression=function(e){return this.update(e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.expression,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ExpressionStatementSyntax=G;var Y=function(t){function n(e,n,r,i,s){t.call(this,s),this.constructorKeyword=e,this.parameterList=n,this.block=r,this.semicolonToken=i}return __extends(n,t),n.prototype.accept=function(e){return e.visitConstructorDeclaration(this)},n.prototype.kind=function(){return 137},n.prototype.childCount=function(){return 4},n.prototype.childAt=function(t){switch(t){case 0:return this.constructorKeyword;case 1:return this.parameterList;case 2:return this.block;case 3:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isClassElement=function(){return!0},n.prototype.update=function(e,t,r,i){return this.constructorKeyword===e&&this.parameterList===t&&this.block===r&&this.semicolonToken===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.create=function(e,t){return new n(e,t,null,null,!1)},n.create1=function(){return new n(e.Syntax.token(63),X.create1(),null,null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withConstructorKeyword=function(e){return this.update(e,this.parameterList,this.block,this.semicolonToken)},n.prototype.withParameterList=function(e){return this.update(this.constructorKeyword,e,this.block,this.semicolonToken)},n.prototype.withBlock=function(e){return this.update(this.constructorKeyword,this.parameterList,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.constructorKeyword,this.parameterList,this.block,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.ConstructorDeclarationSyntax=Y;var Z=function(t){function n(e,n,r,i,s,o){t.call(this,o),this.modifiers=e,this.propertyName=n,this.callSignature=r,this.block=i,this.semicolonToken=s}return __extends(n,t),n.prototype.accept=function(e){return e.visitMemberFunctionDeclaration(this)},n.prototype.kind=function(){return 135},n.prototype.childCount=function(){return 5},n.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.propertyName;case 2:return this.callSignature;case 3:return this.block;case 4:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isMemberDeclaration=function(){return!0},n.prototype.isClassElement=function(){return!0},n.prototype.update=function(e,t,r,i,s){return this.modifiers===e&&this.propertyName===t&&this.callSignature===r&&this.block===i&&this.semicolonToken===s?this:new n(e,t,r,i,s,this.parsedInStrictMode())},n.create=function(t,r){return new n(e.Syntax.emptyList,t,r,null,null,!1)},n.create1=function(t){return new n(e.Syntax.emptyList,t,W.create1(),null,null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModifiers=function(e){return this.update(e,this.propertyName,this.callSignature,this.block,this.semicolonToken)},n.prototype.withModifier=function(t){return this.withModifiers(e.Syntax.list([t]))},n.prototype.withPropertyName=function(e){return this.update(this.modifiers,e,this.callSignature,this.block,this.semicolonToken)},n.prototype.withCallSignature=function(e){return this.update(this.modifiers,this.propertyName,e,this.block,this.semicolonToken)},n.prototype.withBlock=function(e){return this.update(this.modifiers,this.propertyName,this.callSignature,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.modifiers,this.propertyName,this.callSignature,this.block,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.MemberFunctionDeclarationSyntax=Z;var et=function(e){function t(t,n,r,i,s){e.call(this,s),this.modifiers=t,this.propertyName=n,this.parameterList=r,this.block=i}return __extends(t,e),t.prototype.isMemberDeclaration=function(){return!0},t.prototype.isClassElement=function(){return!0},t.prototype.withLeadingTrivia=function(t){return e.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return e.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!0},t}(e.SyntaxNode);e.MemberAccessorDeclarationSyntax=et;var tt=function(t){function n(e,n,r,i,s,o,u){t.call(this,e,r,i,o,u),this.getKeyword=n,this.typeAnnotation=s}return __extends(n,t),n.prototype.accept=function(e){return e.visitGetMemberAccessorDeclaration(this)},n.prototype.kind=function(){return 138},n.prototype.childCount=function(){return 6},n.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.getKeyword;case 2:return this.propertyName;case 3:return this.parameterList;case 4:return this.typeAnnotation;case 5:return this.block;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i,s,o){return this.modifiers===e&&this.getKeyword===t&&this.propertyName===r&&this.parameterList===i&&this.typeAnnotation===s&&this.block===o?this:new n(e,t,r,i,s,o,this.parsedInStrictMode())},n.create=function(t,r,i,s){return new n(e.Syntax.emptyList,t,r,i,null,s,!1)},n.create1=function(t){return new n(e.Syntax.emptyList,e.Syntax.token(65),t,X.create1(),null,M.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModifiers=function(e){return this.update(e,this.getKeyword,this.propertyName,this.parameterList,this.typeAnnotation,this.block)},n.prototype.withModifier=function(t){return this.withModifiers(e.Syntax.list([t]))},n.prototype.withGetKeyword=function(e){return this.update(this.modifiers,e,this.propertyName,this.parameterList,this.typeAnnotation,this.block)},n.prototype.withPropertyName=function(e){return this.update(this.modifiers,this.getKeyword,e,this.parameterList,this.typeAnnotation,this.block)},n.prototype.withParameterList=function(e){return this.update(this.modifiers,this.getKeyword,this.propertyName,e,this.typeAnnotation,this.block)},n.prototype.withTypeAnnotation=function(e){return this.update(this.modifiers,this.getKeyword,this.propertyName,this.parameterList,e,this.block)},n.prototype.withBlock=function(e){return this.update(this.modifiers,this.getKeyword,this.propertyName,this.parameterList,this.typeAnnotation,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(et);e.GetMemberAccessorDeclarationSyntax=tt;var nt=function(t){function n(e,n,r,i,s,o){t.call(this,e,r,i,s,o),this.setKeyword=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitSetMemberAccessorDeclaration(this)},n.prototype.kind=function(){return 139},n.prototype.childCount=function(){return 5},n.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.setKeyword;case 2:return this.propertyName;case 3:return this.parameterList;case 4:return this.block;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i,s){return this.modifiers===e&&this.setKeyword===t&&this.propertyName===r&&this.parameterList===i&&this.block===s?this:new n(e,t,r,i,s,this.parsedInStrictMode())},n.create=function(t,r,i,s){return new n(e.Syntax.emptyList,t,r,i,s,!1)},n.create1=function(t){return new n(e.Syntax.emptyList,e.Syntax.token(69),t,X.create1(),M.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModifiers=function(e){return this.update(e,this.setKeyword,this.propertyName,this.parameterList,this.block)},n.prototype.withModifier=function(t){return this.withModifiers(e.Syntax.list([t]))},n.prototype.withSetKeyword=function(e){return this.update(this.modifiers,e,this.propertyName,this.parameterList,this.block)},n.prototype.withPropertyName=function(e){return this.update(this.modifiers,this.setKeyword,e,this.parameterList,this.block)},n.prototype.withParameterList=function(e){return this.update(this.modifiers,this.setKeyword,this.propertyName,e,this.block)},n.prototype.withBlock=function(e){return this.update(this.modifiers,this.setKeyword,this.propertyName,this.parameterList,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(et);e.SetMemberAccessorDeclarationSyntax=nt;var rt=function(t){function n(e,n,r,i){t.call(this,i),this.modifiers=e,this.variableDeclarator=n,this.semicolonToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitMemberVariableDeclaration(this)},n.prototype.kind=function(){return 136},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.variableDeclarator;case 2:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isMemberDeclaration=function(){return!0},n.prototype.isClassElement=function(){return!0},n.prototype.update=function(e,t,r){return this.modifiers===e&&this.variableDeclarator===t&&this.semicolonToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(t,r){return new n(e.Syntax.emptyList,t,r,!1)},n.create1=function(t){return new n(e.Syntax.emptyList,t,e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModifiers=function(e){return this.update(e,this.variableDeclarator,this.semicolonToken)},n.prototype.withModifier=function(t){return this.withModifiers(e.Syntax.list([t]))},n.prototype.withVariableDeclarator=function(e){return this.update(this.modifiers,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.modifiers,this.variableDeclarator,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.MemberVariableDeclarationSyntax=rt;var it=function(t){function n(e,n,r,i){t.call(this,i),this.throwKeyword=e,this.expression=n,this.semicolonToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitThrowStatement(this)},n.prototype.kind=function(){return 156},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.throwKeyword;case 1:return this.expression;case 2:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r){return this.throwKeyword===e&&this.expression===t&&this.semicolonToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create1=function(t){return new n(e.Syntax.token(36),t,e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withThrowKeyword=function(e){return this.update(e,this.expression,this.semicolonToken)},n.prototype.withExpression=function(e){return this.update(this.throwKeyword,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.throwKeyword,this.expression,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ThrowStatementSyntax=it;var st=function(t){function n(e,n,r,i){t.call(this,i),this.returnKeyword=e,this.expression=n,this.semicolonToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitReturnStatement(this)},n.prototype.kind=function(){return 149},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.returnKeyword;case 1:return this.expression;case 2:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r){return this.returnKeyword===e&&this.expression===t&&this.semicolonToken===r?this
:new n(e,t,r,this.parsedInStrictMode())},n.create=function(e,t){return new n(e,null,t,!1)},n.create1=function(){return new n(e.Syntax.token(33),null,e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withReturnKeyword=function(e){return this.update(e,this.expression,this.semicolonToken)},n.prototype.withExpression=function(e){return this.update(this.returnKeyword,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.returnKeyword,this.expression,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression!==null&&this.expression.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ReturnStatementSyntax=st;var ot=function(t){function n(e,n,r,i){t.call(this,i),this.newKeyword=e,this.expression=n,this.argumentList=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitObjectCreationExpression(this)},n.prototype.kind=function(){return 215},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.expression;case 2:return this.argumentList;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r){return this.newKeyword===e&&this.expression===t&&this.argumentList===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(e,t){return new n(e,t,null,!1)},n.create1=function(t){return new n(e.Syntax.token(31),t,null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withNewKeyword=function(e){return this.update(e,this.expression,this.argumentList)},n.prototype.withExpression=function(e){return this.update(this.newKeyword,e,this.argumentList)},n.prototype.withArgumentList=function(e){return this.update(this.newKeyword,this.expression,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentList!==null&&this.argumentList.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ObjectCreationExpressionSyntax=ot;var ut=function(t){function n(e,n,r,i,s,o,u,a){t.call(this,a),this.switchKeyword=e,this.openParenToken=n,this.expression=r,this.closeParenToken=i,this.openBraceToken=s,this.switchClauses=o,this.closeBraceToken=u}return __extends(n,t),n.prototype.accept=function(e){return e.visitSwitchStatement(this)},n.prototype.kind=function(){return 150},n.prototype.childCount=function(){return 7},n.prototype.childAt=function(t){switch(t){case 0:return this.switchKeyword;case 1:return this.openParenToken;case 2:return this.expression;case 3:return this.closeParenToken;case 4:return this.openBraceToken;case 5:return this.switchClauses;case 6:return this.closeBraceToken;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r,i,s,o,u){return this.switchKeyword===e&&this.openParenToken===t&&this.expression===r&&this.closeParenToken===i&&this.openBraceToken===s&&this.switchClauses===o&&this.closeBraceToken===u?this:new n(e,t,r,i,s,o,u,this.parsedInStrictMode())},n.create=function(t,r,i,s,o,u){return new n(t,r,i,s,o,e.Syntax.emptyList,u,!1)},n.create1=function(t){return new n(e.Syntax.token(34),e.Syntax.token(73),t,e.Syntax.token(74),e.Syntax.token(71),e.Syntax.emptyList,e.Syntax.token(72),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withSwitchKeyword=function(e){return this.update(e,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},n.prototype.withOpenParenToken=function(e){return this.update(this.switchKeyword,e,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},n.prototype.withExpression=function(e){return this.update(this.switchKeyword,this.openParenToken,e,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},n.prototype.withCloseParenToken=function(e){return this.update(this.switchKeyword,this.openParenToken,this.expression,e,this.openBraceToken,this.switchClauses,this.closeBraceToken)},n.prototype.withOpenBraceToken=function(e){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,e,this.switchClauses,this.closeBraceToken)},n.prototype.withSwitchClauses=function(e){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,e,this.closeBraceToken)},n.prototype.withSwitchClause=function(t){return this.withSwitchClauses(e.Syntax.list([t]))},n.prototype.withCloseBraceToken=function(e){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.switchClauses.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.SwitchStatementSyntax=ut;var at=function(e){function t(t,n,r){e.call(this,r),this.colonToken=t,this.statements=n}return __extends(t,e),t.prototype.isSwitchClause=function(){return!0},t.prototype.withLeadingTrivia=function(t){return e.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return e.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(e.SyntaxNode);e.SwitchClauseSyntax=at;var ft=function(t){function n(e,n,r,i,s){t.call(this,r,i,s),this.caseKeyword=e,this.expression=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitCaseSwitchClause(this)},n.prototype.kind=function(){return 231},n.prototype.childCount=function(){return 4},n.prototype.childAt=function(t){switch(t){case 0:return this.caseKeyword;case 1:return this.expression;case 2:return this.colonToken;case 3:return this.statements;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i){return this.caseKeyword===e&&this.expression===t&&this.colonToken===r&&this.statements===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.create=function(t,r,i){return new n(t,r,i,e.Syntax.emptyList,!1)},n.create1=function(t){return new n(e.Syntax.token(16),t,e.Syntax.token(107),e.Syntax.emptyList,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withCaseKeyword=function(e){return this.update(e,this.expression,this.colonToken,this.statements)},n.prototype.withExpression=function(e){return this.update(this.caseKeyword,e,this.colonToken,this.statements)},n.prototype.withColonToken=function(e){return this.update(this.caseKeyword,this.expression,e,this.statements)},n.prototype.withStatements=function(e){return this.update(this.caseKeyword,this.expression,this.colonToken,e)},n.prototype.withStatement=function(t){return this.withStatements(e.Syntax.list([t]))},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.statements.isTypeScriptSpecific()?!0:!1},n}(at);e.CaseSwitchClauseSyntax=ft;var lt=function(t){function n(e,n,r,i){t.call(this,n,r,i),this.defaultKeyword=e}return __extends(n,t),n.prototype.accept=function(e){return e.visitDefaultSwitchClause(this)},n.prototype.kind=function(){return 232},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.defaultKeyword;case 1:return this.colonToken;case 2:return this.statements;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r){return this.defaultKeyword===e&&this.colonToken===t&&this.statements===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(t,r){return new n(t,r,e.Syntax.emptyList,!1)},n.create1=function(){return new n(e.Syntax.token(20),e.Syntax.token(107),e.Syntax.emptyList,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withDefaultKeyword=function(e){return this.update(e,this.colonToken,this.statements)},n.prototype.withColonToken=function(e){return this.update(this.defaultKeyword,e,this.statements)},n.prototype.withStatements=function(e){return this.update(this.defaultKeyword,this.colonToken,e)},n.prototype.withStatement=function(t){return this.withStatements(e.Syntax.list([t]))},n.prototype.isTypeScriptSpecific=function(){return this.statements.isTypeScriptSpecific()?!0:!1},n}(at);e.DefaultSwitchClauseSyntax=lt;var ct=function(t){function n(e,n,r,i){t.call(this,i),this.breakKeyword=e,this.identifier=n,this.semicolonToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitBreakStatement(this)},n.prototype.kind=function(){return 151},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.breakKeyword;case 1:return this.identifier;case 2:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r){return this.breakKeyword===e&&this.identifier===t&&this.semicolonToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(e,t){return new n(e,null,t,!1)},n.create1=function(){return new n(e.Syntax.token(15),null,e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withBreakKeyword=function(e){return this.update(e,this.identifier,this.semicolonToken)},n.prototype.withIdentifier=function(e){return this.update(this.breakKeyword,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.breakKeyword,this.identifier,e)},n.prototype.isTypeScriptSpecific=function(){return!1},n}(e.SyntaxNode);e.BreakStatementSyntax=ct;var ht=function(t){function n(e,n,r,i){t.call(this,i),this.continueKeyword=e,this.identifier=n,this.semicolonToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitContinueStatement(this)},n.prototype.kind=function(){return 152},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.continueKeyword;case 1:return this.identifier;case 2:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r){return this.continueKeyword===e&&this.identifier===t&&this.semicolonToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(e,t){return new n(e,null,t,!1)},n.create1=function(){return new n(e.Syntax.token(18),null,e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withContinueKeyword=function(e){return this.update(e,this.identifier,this.semicolonToken)},n.prototype.withIdentifier=function(e){return this.update(this.continueKeyword,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.continueKeyword,this.identifier,e)},n.prototype.isTypeScriptSpecific=function(){return!1},n}(e.SyntaxNode);e.ContinueStatementSyntax=ht;var pt=function(e){function t(t,n,r,i){e.call(this,i),this.openParenToken=t,this.closeParenToken=n,this.statement=r}return __extends(t,e),t.prototype.isStatement=function(){return!0},t.prototype.isModuleElement=function(){return!0},t.prototype.withLeadingTrivia=function(t){return e.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return e.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(e.SyntaxNode);e.IterationStatementSyntax=pt;var dt=function(e){function t(t,n,r,i,s,o){e.call(this,n,i,s,o),this.forKeyword=t,this.variableDeclaration=r}return __extends(t,e),t.prototype.withLeadingTrivia=function(t){return e.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return e.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(pt);e.BaseForStatementSyntax=dt;var vt=function(t){function n(e,n,r,i,s,o,u,a,f,l,c){t.call(this,e,n,r,f,l,c),this.initializer=i,this.firstSemicolonToken=s,this.condition=o,this.secondSemicolonToken=u,this.incrementor=a}return __extends(n,t),n.prototype.accept=function(e){return e.visitForStatement(this)},n.prototype.kind=function(){return 153},n.prototype.childCount=function(){return 10},n.prototype.childAt=function(t){switch(t){case 0:return this.forKeyword;case 1:return this.openParenToken;case 2:return this.variableDeclaration;case 3:return this.initializer;case 4:return this.firstSemicolonToken;case 5:return this.condition;case 6:return this.secondSemicolonToken;case 7:return this.incrementor;case 8:return this.closeParenToken;case 9:return this.statement;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i,s,o,u,a,f,l){return this.forKeyword===e&&this.openParenToken===t&&this.variableDeclaration===r&&this.initializer===i&&this.firstSemicolonToken===s&&this.condition===o&&this.secondSemicolonToken===u&&this.incrementor===a&&this.closeParenToken===f&&this.statement===l?this:new n(e,t,r,i,s,o,u,a,f,l,this.parsedInStrictMode())},n.create=function(e,t,r,i,s,o){return new n(e,t,null,null,r,null,i,null,s,o,!1)},n.create1=function(t){return new n(e.Syntax.token(26),e.Syntax.token(73),null,null,e.Syntax.token(79),null,e.Syntax.token(79),null,e.Syntax.token(74),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withForKeyword=function(e){return this.update(e,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},n.prototype.withOpenParenToken=function(e){return this.update(this.forKeyword,e,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},n.prototype.withVariableDeclaration=function(e){return this.update(this.forKeyword,this.openParenToken,e,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},n.prototype.withInitializer=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,e,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},n.prototype.withFirstSemicolonToken=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,e,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},n.prototype.withCondition=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,e,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},n.prototype.withSecondSemicolonToken=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,e,this.incrementor,this.closeParenToken,this.statement)},n.prototype.withIncrementor=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,e,this.closeParenToken,this.statement)},n.prototype.withCloseParenToken=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,e,this.statement)},n.prototype.withStatement=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.variableDeclaration!==null&&this.variableDeclaration.isTypeScriptSpecific()?!0:this.initializer!==null&&this.initializer.isTypeScriptSpecific()?!0:this.condition!==null&&this.condition.isTypeScriptSpecific()?!0:this.incrementor!==null&&this.incrementor.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},n}(dt);e.ForStatementSyntax=vt;var mt=function(t){function n(e,n,r,i,s,o,u,a,f){t.call(this,e,n,r,u,a,f),this.left=i,this.inKeyword=s,this.expression=o}return __extends(n,t),n.prototype.accept=function(e){return e.visitForInStatement(this)},n.prototype.kind=function(){return 154},n.prototype.childCount=function(){return 8},n.prototype.childAt=function(t){switch(t){case 0:return this.forKeyword;case 1:return this.openParenToken;case 2:return this.variableDeclaration;case 3:return this.left;case 4:return this.inKeyword;case 5:return this.expression;case 6:return this.closeParenToken;case 7:return this.statement;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i,s,o,u,a){return this.forKeyword===e&&this.openParenToken===t&&this.variableDeclaration===r&&this.left===i&&this.inKeyword===s&&this.expression===o&&this.closeParenToken===u&&this.statement===a?this:new n(e,t,r,i,s,o,u,a,this.parsedInStrictMode())},n.create=function(e,t,r,i,s,o){return new n(e,t,null,null,r,i,s,o,!1)},n.create1=function(t,r){return new n(e.Syntax.token(26),e.Syntax.token(73),null,null,e.Syntax.token(29),t,e.Syntax.token(74),r,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withForKeyword=function(e){return this.update(e,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},n.prototype.withOpenParenToken=function(e){return this.update(this.forKeyword,e,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},n.prototype.withVariableDeclaration=function(e){return this.update(this.forKeyword,this.openParenToken,e,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},n.prototype.withLeft=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,e,this.inKeyword,this.expression,this.closeParenToken,this.statement)},n.prototype.withInKeyword=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,e,this.expression,this.closeParenToken,this.statement)},n.prototype.withExpression=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,e,this.closeParenToken,this.statement)},n.prototype.withCloseParenToken=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,e,this.statement)},n.prototype.withStatement=function(e){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.variableDeclaration!==null&&this.variableDeclaration.isTypeScriptSpecific()?!0:this.left!==null&&this.left.isTypeScriptSpecific()?!0:this.expression.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},n}(dt);e.ForInStatementSyntax=mt;var gt=function(t){function n(e,n,r,i,s,o){t.call(this,n,i,s,o),this.whileKeyword=e,this.condition=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitWhileStatement(this)},n.prototype.kind=function(){return 157},n.prototype.childCount=function(){return 5},n.prototype.childAt=function(t){switch(t){case 0:return this.whileKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i,s){return this.whileKeyword===e&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===i&&this.statement===s?this:new n(e,t,r,i,s,this.parsedInStrictMode())},n.create1=function(t,r){return new n(e.Syntax.token(42),e.Syntax.token(73),t,e.Syntax.token(74),r,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withWhileKeyword=function(e){return this.update(e,this.openParenToken,this.condition,this.closeParenToken,this.statement)},n.prototype.withOpenParenToken=function(e){return this.update(this.whileKeyword,e,this.condition,this.closeParenToken,this.statement)},n.prototype.withCondition=function(e){return this.update(this.whileKeyword,this.openParenToken,e,this.closeParenToken,this.statement)},n.prototype.withCloseParenToken=function(e){return this.update(this.whileKeyword,this.openParenToken,this.condition,e,this.statement)},n.prototype.withStatement=function(e){return this.update(this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},n}(pt);e.WhileStatementSyntax=gt;var yt=function(t){function n(e,n,r,i,s,o){t.call(this,o),this.withKeyword=e,this.openParenToken=n,this.condition=r,this.closeParenToken=i,this.statement=s}return __extends(n,t),n.prototype.accept=function(e){return e.visitWithStatement(this)},n.prototype.kind=function(){return 162},n.prototype.childCount=function(){return 5},n.prototype.childAt=function(t){switch(t){case 0:return this.withKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r,i,s){return this.withKeyword===e&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===i&&this.statement===s?this:new n(e,t,r,i,s,this.parsedInStrictMode())},n.create1=function(t,r){return new n(e.Syntax.token(43),e.Syntax.token(73),t,e.Syntax.token(74),r,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withWithKeyword=function(e){return this.update(e,this.openParenToken,this.condition,this.closeParenToken,this.statement)},n.prototype.withOpenParenToken=function(e){return this.update(this.withKeyword,e,this.condition,this.closeParenToken,this.statement)},n.prototype.withCondition=function(e){return this.update(this.withKeyword,this.openParenToken,e,this.closeParenToken,this.statement)},n.prototype.withCloseParenToken=function(e){return this.update(this.withKeyword,this.openParenToken,this.condition,e,this.statement)},n.prototype.withStatement=function(e){return this.update(this.withKeyword,this.openParenToken,this.condition,this.closeParenToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.WithStatementSyntax=yt;var bt=function(t){function n(e,n,r,i,s,o,u){t.call(this,u),this.modifiers=e,this.enumKeyword=n,this.identifier=r,this.openBraceToken=i,this.enumElements=s,this.closeBraceToken=o}return __extends(n,t),n.prototype.accept=function(e){return e.visitEnumDeclaration(this)},n.prototype.kind=function(){return 132},n.prototype.childCount=function(){return 6},n.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.enumKeyword;case 2:return this.identifier;case 3:return this.openBraceToken;case 4:return this.enumElements;case 5:return this.closeBraceToken;default:throw e.Errors.invalidOperation()}},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r,i,s,o){return this.modifiers===e&&this.enumKeyword===t&&this.identifier===r&&this.openBraceToken===i&&this.enumElements===s&&this.closeBraceToken===o?this:new n(e,t,r,i,s,o,this.parsedInStrictMode())},n.create=function(t,r,i,s){return new n(e.Syntax.emptyList,t,r,i,e.Syntax.emptySeparatedList,s,!1)},n.create1=function(t){return new n(e.Syntax.emptyList,e.Syntax.token(46),t,e.Syntax.token(71),e.Syntax.emptySeparatedList,e.Syntax.token(72),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withModifiers=function(e){return this.update(e,this.enumKeyword,this.identifier,this.openBraceToken,this.enumElements,this.closeBraceToken)},n.prototype.withModifier=function(t){return this.withModifiers(e.Syntax.list([t]))},n.prototype.withEnumKeyword=function(e){return this.update(this.modifiers,e,this.identifier,this.openBraceToken,this.enumElements,this.closeBraceToken)},n.prototype.withIdentifier=function(e){return this.update(this.modifiers,this.enumKeyword,e,this.openBraceToken,this.enumElements,this.closeBraceToken)},n.prototype.withOpenBraceToken=function(e){return this.update(this.modifiers,this.enumKeyword,this.identifier,e,this.enumElements,this.closeBraceToken)},n.prototype.withEnumElements=function(e){return this.update(this.modifiers,this.enumKeyword,this.identifier,this.openBraceToken,e,this.closeBraceToken)},n.prototype.withEnumElement=function(t){return this.withEnumElements(e.Syntax.separatedList([t]))},n.prototype.withCloseBraceToken=function(e){return this.update(this.modifiers,this.enumKeyword,this.identifier,this.openBraceToken,this.enumElements,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.EnumDeclarationSyntax=bt;var wt=function(t){function n(e,n,r){t.call(this,r),this.propertyName=e,this.equalsValueClause=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitEnumElement(this)},n.prototype.kind=function(){return 243},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.equalsValueClause;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t){return this.propertyName===e&&this.equalsValueClause===t?this:new n(e,t,this.parsedInStrictMode())},n.create=function(e){return new n(e,null,!1)},n.create1=function(e){return new n(e,null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withPropertyName=function(e){return this.update(e,this.equalsValueClause)},n.prototype.withEqualsValueClause=function(e){return this.update(this.propertyName,e)},n.prototype.isTypeScriptSpecific=function(){return this.equalsValueClause!==null&&this.equalsValueClause.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.EnumElementSyntax=wt;var Et=function(t){function n(e,n,r,i,s){t.call(this,s),this.lessThanToken=e,this.type=n,this.greaterThanToken=r,this.expression=i}return __extends(n,t),n.prototype.accept=function(e){return e.visitCastExpression(this)},n.prototype.kind=function(){return 219},n.prototype.childCount=function(){return 4},n.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.type;case 2:return this.greaterThanToken;case 3:return this.expression;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r,i){return this.lessThanToken===e&&this.type===t&&this.greaterThanToken===r&&this.expression===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.create1=function(t,r){return new n(e.Syntax.token(81),t,e.Syntax.token(82),r,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withLessThanToken=function(e){return this.update(e,this.type,this.greaterThanToken,this.expression)},n.prototype.withType=function(e){return this.update(this.lessThanToken,e,this.greaterThanToken,this.expression)},n.prototype.withGreaterThanToken=function(e){return this.update(this.lessThanToken,this.type,e,this.expression)},n.prototype.withExpression=function(e){return this.update(this.lessThanToken,this.type,this.greaterThanToken,e)},n.prototype.isTypeScriptSpecific=function(){return!0},n}(e.SyntaxNode);e.CastExpressionSyntax=Et;var St=function(t){function n(e,n,r,i){t.call(this,i),this.openBraceToken=e,this.propertyAssignments=n,this.closeBraceToken=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitObjectLiteralExpression(this)},n.prototype.kind=function(){return 214},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.propertyAssignments;case 2:return this.closeBraceToken;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r){return this.openBraceToken===e&&this.propertyAssignments===t&&this.closeBraceToken===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create=function(t,r){return new n(t,e.Syntax.emptySeparatedList,r,!1)},n.create1=function(){return new n(e.Syntax.token(71),e.Syntax.emptySeparatedList,e.Syntax.token(72),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withOpenBraceToken=function(e){return this.update(e,this.propertyAssignments,this.closeBraceToken)},n.prototype.withPropertyAssignments=function(e){return this.update(this.openBraceToken,e,this.closeBraceToken)},n.prototype.withPropertyAssignment=function(t){return this.withPropertyAssignments(e.Syntax.separatedList([t]))},n.prototype.withCloseBraceToken=function(e){return this.update(this.openBraceToken,this.propertyAssignments,e)},n.prototype.isTypeScriptSpecific=function(){return this.propertyAssignments.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.ObjectLiteralExpressionSyntax=St;var xt=function(e){function t(t,n){e.call(this,n),this.propertyName=t}return __extends(t,e),t.prototype.withLeadingTrivia=function(t){return e.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return e.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(e.SyntaxNode);e.PropertyAssignmentSyntax=xt;var Tt=function(t){function n(e,n,r,i){t.call(this,e,i),this.colonToken=n,this.expression=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitSimplePropertyAssignment(this)},n.prototype.kind=function(){return 238},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.colonToken;case 2:return this.expression;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r){return this.propertyName===e&&this.colonToken===t&&this.expression===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create1=function(t,r){return new n(t,e.Syntax.token(107),r,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withPropertyName=function(e){return this.update(e,this.colonToken,this.expression)},n.prototype.withColonToken=function(e){return this.update(this.propertyName,e,this.expression)},n.prototype.withExpression=function(e){return this
.update(this.propertyName,this.colonToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},n}(xt);e.SimplePropertyAssignmentSyntax=Tt;var Nt=function(t){function n(e,n,r,i){t.call(this,e,i),this.callSignature=n,this.block=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitFunctionPropertyAssignment(this)},n.prototype.kind=function(){return 241},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.callSignature;case 2:return this.block;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r){return this.propertyName===e&&this.callSignature===t&&this.block===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create1=function(e){return new n(e,W.create1(),M.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withPropertyName=function(e){return this.update(e,this.callSignature,this.block)},n.prototype.withCallSignature=function(e){return this.update(this.propertyName,e,this.block)},n.prototype.withBlock=function(e){return this.update(this.propertyName,this.callSignature,e)},n.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},n}(xt);e.FunctionPropertyAssignmentSyntax=Nt;var Ct=function(e){function t(t,n,r,i,s){e.call(this,t,s),this.openParenToken=n,this.closeParenToken=r,this.block=i}return __extends(t,e),t.prototype.withLeadingTrivia=function(t){return e.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return e.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(xt);e.AccessorPropertyAssignmentSyntax=Ct;var kt=function(t){function n(e,n,r,i,s,o,u){t.call(this,n,r,i,o,u),this.getKeyword=e,this.typeAnnotation=s}return __extends(n,t),n.prototype.accept=function(e){return e.visitGetAccessorPropertyAssignment(this)},n.prototype.kind=function(){return 239},n.prototype.childCount=function(){return 6},n.prototype.childAt=function(t){switch(t){case 0:return this.getKeyword;case 1:return this.propertyName;case 2:return this.openParenToken;case 3:return this.closeParenToken;case 4:return this.typeAnnotation;case 5:return this.block;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i,s,o){return this.getKeyword===e&&this.propertyName===t&&this.openParenToken===r&&this.closeParenToken===i&&this.typeAnnotation===s&&this.block===o?this:new n(e,t,r,i,s,o,this.parsedInStrictMode())},n.create=function(e,t,r,i,s){return new n(e,t,r,i,null,s,!1)},n.create1=function(t){return new n(e.Syntax.token(65),t,e.Syntax.token(73),e.Syntax.token(74),null,M.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withGetKeyword=function(e){return this.update(e,this.propertyName,this.openParenToken,this.closeParenToken,this.typeAnnotation,this.block)},n.prototype.withPropertyName=function(e){return this.update(this.getKeyword,e,this.openParenToken,this.closeParenToken,this.typeAnnotation,this.block)},n.prototype.withOpenParenToken=function(e){return this.update(this.getKeyword,this.propertyName,e,this.closeParenToken,this.typeAnnotation,this.block)},n.prototype.withCloseParenToken=function(e){return this.update(this.getKeyword,this.propertyName,this.openParenToken,e,this.typeAnnotation,this.block)},n.prototype.withTypeAnnotation=function(e){return this.update(this.getKeyword,this.propertyName,this.openParenToken,this.closeParenToken,e,this.block)},n.prototype.withBlock=function(e){return this.update(this.getKeyword,this.propertyName,this.openParenToken,this.closeParenToken,this.typeAnnotation,e)},n.prototype.isTypeScriptSpecific=function(){return this.typeAnnotation!==null&&this.typeAnnotation.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},n}(Ct);e.GetAccessorPropertyAssignmentSyntax=kt;var Lt=function(t){function n(e,n,r,i,s,o,u){t.call(this,n,r,s,o,u),this.setKeyword=e,this.parameter=i}return __extends(n,t),n.prototype.accept=function(e){return e.visitSetAccessorPropertyAssignment(this)},n.prototype.kind=function(){return 240},n.prototype.childCount=function(){return 6},n.prototype.childAt=function(t){switch(t){case 0:return this.setKeyword;case 1:return this.propertyName;case 2:return this.openParenToken;case 3:return this.parameter;case 4:return this.closeParenToken;case 5:return this.block;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i,s,o){return this.setKeyword===e&&this.propertyName===t&&this.openParenToken===r&&this.parameter===i&&this.closeParenToken===s&&this.block===o?this:new n(e,t,r,i,s,o,this.parsedInStrictMode())},n.create1=function(t,r){return new n(e.Syntax.token(69),t,e.Syntax.token(73),r,e.Syntax.token(74),M.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withSetKeyword=function(e){return this.update(e,this.propertyName,this.openParenToken,this.parameter,this.closeParenToken,this.block)},n.prototype.withPropertyName=function(e){return this.update(this.setKeyword,e,this.openParenToken,this.parameter,this.closeParenToken,this.block)},n.prototype.withOpenParenToken=function(e){return this.update(this.setKeyword,this.propertyName,e,this.parameter,this.closeParenToken,this.block)},n.prototype.withParameter=function(e){return this.update(this.setKeyword,this.propertyName,this.openParenToken,e,this.closeParenToken,this.block)},n.prototype.withCloseParenToken=function(e){return this.update(this.setKeyword,this.propertyName,this.openParenToken,this.parameter,e,this.block)},n.prototype.withBlock=function(e){return this.update(this.setKeyword,this.propertyName,this.openParenToken,this.parameter,this.closeParenToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.parameter.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},n}(Ct);e.SetAccessorPropertyAssignmentSyntax=Lt;var At=function(t){function n(e,n,r,i,s){t.call(this,s),this.functionKeyword=e,this.identifier=n,this.callSignature=r,this.block=i}return __extends(n,t),n.prototype.accept=function(e){return e.visitFunctionExpression(this)},n.prototype.kind=function(){return 221},n.prototype.childCount=function(){return 4},n.prototype.childAt=function(t){switch(t){case 0:return this.functionKeyword;case 1:return this.identifier;case 2:return this.callSignature;case 3:return this.block;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t,r,i){return this.functionKeyword===e&&this.identifier===t&&this.callSignature===r&&this.block===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.create=function(e,t,r){return new n(e,null,t,r,!1)},n.create1=function(){return new n(e.Syntax.token(27),null,W.create1(),M.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withFunctionKeyword=function(e){return this.update(e,this.identifier,this.callSignature,this.block)},n.prototype.withIdentifier=function(e){return this.update(this.functionKeyword,e,this.callSignature,this.block)},n.prototype.withCallSignature=function(e){return this.update(this.functionKeyword,this.identifier,e,this.block)},n.prototype.withBlock=function(e){return this.update(this.functionKeyword,this.identifier,this.callSignature,e)},n.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.FunctionExpressionSyntax=At;var Ot=function(t){function n(e,n){t.call(this,n),this.semicolonToken=e}return __extends(n,t),n.prototype.accept=function(e){return e.visitEmptyStatement(this)},n.prototype.kind=function(){return 155},n.prototype.childCount=function(){return 1},n.prototype.childAt=function(t){switch(t){case 0:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e){return this.semicolonToken===e?this:new n(e,this.parsedInStrictMode())},n.create1=function(){return new n(e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withSemicolonToken=function(e){return this.update(e)},n.prototype.isTypeScriptSpecific=function(){return!1},n}(e.SyntaxNode);e.EmptyStatementSyntax=Ot;var Mt=function(t){function n(e,n,r,i,s){t.call(this,s),this.tryKeyword=e,this.block=n,this.catchClause=r,this.finallyClause=i}return __extends(n,t),n.prototype.accept=function(e){return e.visitTryStatement(this)},n.prototype.kind=function(){return 158},n.prototype.childCount=function(){return 4},n.prototype.childAt=function(t){switch(t){case 0:return this.tryKeyword;case 1:return this.block;case 2:return this.catchClause;case 3:return this.finallyClause;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r,i){return this.tryKeyword===e&&this.block===t&&this.catchClause===r&&this.finallyClause===i?this:new n(e,t,r,i,this.parsedInStrictMode())},n.create=function(e,t){return new n(e,t,null,null,!1)},n.create1=function(){return new n(e.Syntax.token(38),M.create1(),null,null,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withTryKeyword=function(e){return this.update(e,this.block,this.catchClause,this.finallyClause)},n.prototype.withBlock=function(e){return this.update(this.tryKeyword,e,this.catchClause,this.finallyClause)},n.prototype.withCatchClause=function(e){return this.update(this.tryKeyword,this.block,e,this.finallyClause)},n.prototype.withFinallyClause=function(e){return this.update(this.tryKeyword,this.block,this.catchClause,e)},n.prototype.isTypeScriptSpecific=function(){return this.block.isTypeScriptSpecific()?!0:this.catchClause!==null&&this.catchClause.isTypeScriptSpecific()?!0:this.finallyClause!==null&&this.finallyClause.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.TryStatementSyntax=Mt;var _t=function(t){function n(e,n,r,i,s,o,u){t.call(this,u),this.catchKeyword=e,this.openParenToken=n,this.identifier=r,this.typeAnnotation=i,this.closeParenToken=s,this.block=o}return __extends(n,t),n.prototype.accept=function(e){return e.visitCatchClause(this)},n.prototype.kind=function(){return 234},n.prototype.childCount=function(){return 6},n.prototype.childAt=function(t){switch(t){case 0:return this.catchKeyword;case 1:return this.openParenToken;case 2:return this.identifier;case 3:return this.typeAnnotation;case 4:return this.closeParenToken;case 5:return this.block;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i,s,o){return this.catchKeyword===e&&this.openParenToken===t&&this.identifier===r&&this.typeAnnotation===i&&this.closeParenToken===s&&this.block===o?this:new n(e,t,r,i,s,o,this.parsedInStrictMode())},n.create=function(e,t,r,i,s){return new n(e,t,r,null,i,s,!1)},n.create1=function(t){return new n(e.Syntax.token(17),e.Syntax.token(73),t,null,e.Syntax.token(74),M.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withCatchKeyword=function(e){return this.update(e,this.openParenToken,this.identifier,this.typeAnnotation,this.closeParenToken,this.block)},n.prototype.withOpenParenToken=function(e){return this.update(this.catchKeyword,e,this.identifier,this.typeAnnotation,this.closeParenToken,this.block)},n.prototype.withIdentifier=function(e){return this.update(this.catchKeyword,this.openParenToken,e,this.typeAnnotation,this.closeParenToken,this.block)},n.prototype.withTypeAnnotation=function(e){return this.update(this.catchKeyword,this.openParenToken,this.identifier,e,this.closeParenToken,this.block)},n.prototype.withCloseParenToken=function(e){return this.update(this.catchKeyword,this.openParenToken,this.identifier,this.typeAnnotation,e,this.block)},n.prototype.withBlock=function(e){return this.update(this.catchKeyword,this.openParenToken,this.identifier,this.typeAnnotation,this.closeParenToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.typeAnnotation!==null&&this.typeAnnotation.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.CatchClauseSyntax=_t;var Dt=function(t){function n(e,n,r){t.call(this,r),this.finallyKeyword=e,this.block=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitFinallyClause(this)},n.prototype.kind=function(){return 235},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.finallyKeyword;case 1:return this.block;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t){return this.finallyKeyword===e&&this.block===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(){return new n(e.Syntax.token(25),M.create1(),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withFinallyKeyword=function(e){return this.update(e,this.block)},n.prototype.withBlock=function(e){return this.update(this.finallyKeyword,e)},n.prototype.isTypeScriptSpecific=function(){return this.block.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.FinallyClauseSyntax=Dt;var Pt=function(t){function n(e,n,r,i){t.call(this,i),this.identifier=e,this.colonToken=n,this.statement=r}return __extends(n,t),n.prototype.accept=function(e){return e.visitLabeledStatement(this)},n.prototype.kind=function(){return 159},n.prototype.childCount=function(){return 3},n.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.colonToken;case 2:return this.statement;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t,r){return this.identifier===e&&this.colonToken===t&&this.statement===r?this:new n(e,t,r,this.parsedInStrictMode())},n.create1=function(t,r){return new n(t,e.Syntax.token(107),r,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withIdentifier=function(e){return this.update(e,this.colonToken,this.statement)},n.prototype.withColonToken=function(e){return this.update(this.identifier,e,this.statement)},n.prototype.withStatement=function(e){return this.update(this.identifier,this.colonToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.LabeledStatementSyntax=Pt;var Ht=function(t){function n(e,n,r,i,s,o,u,a){t.call(this,i,o,n,a),this.doKeyword=e,this.whileKeyword=r,this.condition=s,this.semicolonToken=u}return __extends(n,t),n.prototype.accept=function(e){return e.visitDoStatement(this)},n.prototype.kind=function(){return 160},n.prototype.childCount=function(){return 7},n.prototype.childAt=function(t){switch(t){case 0:return this.doKeyword;case 1:return this.statement;case 2:return this.whileKeyword;case 3:return this.openParenToken;case 4:return this.condition;case 5:return this.closeParenToken;case 6:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.update=function(e,t,r,i,s,o,u){return this.doKeyword===e&&this.statement===t&&this.whileKeyword===r&&this.openParenToken===i&&this.condition===s&&this.closeParenToken===o&&this.semicolonToken===u?this:new n(e,t,r,i,s,o,u,this.parsedInStrictMode())},n.create1=function(t,r){return new n(e.Syntax.token(22),t,e.Syntax.token(42),e.Syntax.token(73),r,e.Syntax.token(74),e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withDoKeyword=function(e){return this.update(e,this.statement,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},n.prototype.withStatement=function(e){return this.update(this.doKeyword,e,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},n.prototype.withWhileKeyword=function(e){return this.update(this.doKeyword,this.statement,e,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},n.prototype.withOpenParenToken=function(e){return this.update(this.doKeyword,this.statement,this.whileKeyword,e,this.condition,this.closeParenToken,this.semicolonToken)},n.prototype.withCondition=function(e){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,e,this.closeParenToken,this.semicolonToken)},n.prototype.withCloseParenToken=function(e){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,this.condition,e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,e)},n.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:this.condition.isTypeScriptSpecific()?!0:!1},n}(pt);e.DoStatementSyntax=Ht;var Bt=function(t){function n(e,n,r){t.call(this,r),this.typeOfKeyword=e,this.expression=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitTypeOfExpression(this)},n.prototype.kind=function(){return 170},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.typeOfKeyword;case 1:return this.expression;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t){return this.typeOfKeyword===e&&this.expression===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(t){return new n(e.Syntax.token(39),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withTypeOfKeyword=function(e){return this.update(e,this.expression)},n.prototype.withExpression=function(e){return this.update(this.typeOfKeyword,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.TypeOfExpressionSyntax=Bt;var jt=function(t){function n(e,n,r){t.call(this,r),this.deleteKeyword=e,this.expression=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitDeleteExpression(this)},n.prototype.kind=function(){return 169},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.deleteKeyword;case 1:return this.expression;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t){return this.deleteKeyword===e&&this.expression===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(t){return new n(e.Syntax.token(21),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withDeleteKeyword=function(e){return this.update(e,this.expression)},n.prototype.withExpression=function(e){return this.update(this.deleteKeyword,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.DeleteExpressionSyntax=jt;var Ft=function(t){function n(e,n,r){t.call(this,r),this.voidKeyword=e,this.expression=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitVoidExpression(this)},n.prototype.kind=function(){return 171},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.voidKeyword;case 1:return this.expression;default:throw e.Errors.invalidOperation()}},n.prototype.isUnaryExpression=function(){return!0},n.prototype.isExpression=function(){return!0},n.prototype.update=function(e,t){return this.voidKeyword===e&&this.expression===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(t){return new n(e.Syntax.token(41),t,!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withVoidKeyword=function(e){return this.update(e,this.expression)},n.prototype.withExpression=function(e){return this.update(this.voidKeyword,e)},n.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},n}(e.SyntaxNode);e.VoidExpressionSyntax=Ft;var It=function(t){function n(e,n,r){t.call(this,r),this.debuggerKeyword=e,this.semicolonToken=n}return __extends(n,t),n.prototype.accept=function(e){return e.visitDebuggerStatement(this)},n.prototype.kind=function(){return 161},n.prototype.childCount=function(){return 2},n.prototype.childAt=function(t){switch(t){case 0:return this.debuggerKeyword;case 1:return this.semicolonToken;default:throw e.Errors.invalidOperation()}},n.prototype.isStatement=function(){return!0},n.prototype.isModuleElement=function(){return!0},n.prototype.update=function(e,t){return this.debuggerKeyword===e&&this.semicolonToken===t?this:new n(e,t,this.parsedInStrictMode())},n.create1=function(){return new n(e.Syntax.token(19),e.Syntax.token(79),!1)},n.prototype.withLeadingTrivia=function(e){return t.prototype.withLeadingTrivia.call(this,e)},n.prototype.withTrailingTrivia=function(e){return t.prototype.withTrailingTrivia.call(this,e)},n.prototype.withDebuggerKeyword=function(e){return this.update(e,this.semicolonToken)},n.prototype.withSemicolonToken=function(e){return this.update(this.debuggerKeyword,e)},n.prototype.isTypeScriptSpecific=function(){return!1},n}(e.SyntaxNode);e.DebuggerStatementSyntax=It})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(){}return t.prototype.visitToken=function(e){return e},t.prototype.visitNode=function(e){return e.accept(this)},t.prototype.visitNodeOrToken=function(e){return e.isToken()?this.visitToken(e):this.visitNode(e)},t.prototype.visitList=function(t){var n=null;for(var r=0,i=t.childCount();r<i;r++){var s=t.childAt(r),o=this.visitNodeOrToken(s);if(s!==o&&n===null){n=[];for(var u=0;u<r;u++)n.push(t.childAt(u))}n&&n.push(o)}return n===null?t:e.Syntax.list(n)},t.prototype.visitSeparatedList=function(t){var n=null;for(var r=0,i=t.childCount();r<i;r++){var s=t.childAt(r),o=s.isToken()?this.visitToken(s):this.visitNode(s);if(s!==o&&n===null){n=[];for(var u=0;u<r;u++)n.push(t.childAt(u))}n&&n.push(o)}return n===null?t:e.Syntax.separatedList(n)},t.prototype.visitSourceUnit=function(e){return e.update(this.visitList(e.moduleElements),this.visitToken(e.endOfFileToken))},t.prototype.visitExternalModuleReference=function(e){return e.update(this.visitToken(e.moduleOrRequireKeyword),this.visitToken(e.openParenToken),this.visitToken(e.stringLiteral),this.visitToken(e.closeParenToken))},t.prototype.visitModuleNameModuleReference=function(e){return e.update(this.visitNodeOrToken(e.moduleName))},t.prototype.visitImportDeclaration=function(e){return e.update(this.visitToken(e.importKeyword),this.visitToken(e.identifier),this.visitToken(e.equalsToken),this.visitNode(e.moduleReference),this.visitToken(e.semicolonToken))},t.prototype.visitExportAssignment=function(e){return e.update(this.visitToken(e.exportKeyword),this.visitToken(e.equalsToken),this.visitToken(e.identifier),this.visitToken(e.semicolonToken))},t.prototype.visitClassDeclaration=function(e){return e.update(this.visitList(e.modifiers),this.visitToken(e.classKeyword),this.visitToken(e.identifier),e.typeParameterList===null?null:this.visitNode(e.typeParameterList),this.visitList(e.heritageClauses),this.visitToken(e.openBraceToken),this.visitList(e.classElements),this.visitToken(e.closeBraceToken))},t.prototype.visitInterfaceDeclaration=function(e){return e.update(this.visitList(e.modifiers),this.visitToken(e.interfaceKeyword),this.visitToken(e.identifier),e.typeParameterList===null?null:this.visitNode(e.typeParameterList),this.visitList(e.heritageClauses),this.visitNode(e.body))},t.prototype.visitHeritageClause=function(e){return e.update(this.visitToken(e.extendsOrImplementsKeyword),this.visitSeparatedList(e.typeNames))},t.prototype.visitModuleDeclaration=function(e){return e.update(this.visitList(e.modifiers),this.visitToken(e.moduleKeyword),e.moduleName===null?null:this.visitNodeOrToken(e.moduleName),e.stringLiteral===null?null:this.visitToken(e.stringLiteral),this.visitToken(e.openBraceToken),this.visitList(e.moduleElements),this.visitToken(e.closeBraceToken))},t.prototype.visitFunctionDeclaration=function(e){return e.update(this.visitList(e.modifiers),this.visitToken(e.functionKeyword),this.visitToken(e.identifier),this.visitNode(e.callSignature),e.block===null?null:this.visitNode(e.block),e.semicolonToken===null?null:this.visitToken(e.semicolonToken))},t.prototype.visitVariableStatement=function(e){return e.update(this.visitList(e.modifiers),this.visitNode(e.variableDeclaration),this.visitToken(e.semicolonToken))},t.prototype.visitVariableDeclaration=function(e){return e.update(this.visitToken(e.varKeyword),this.visitSeparatedList(e.variableDeclarators))},t.prototype.visitVariableDeclarator=function(e){return e.update(this.visitToken(e.identifier),e.typeAnnotation===null?null:this.visitNode(e.typeAnnotation),e.equalsValueClause===null?null:this.visitNode(e.equalsValueClause))},t.prototype.visitEqualsValueClause=function(e){return e.update(this.visitToken(e.equalsToken),this.visitNodeOrToken(e.value))},t.prototype.visitPrefixUnaryExpression=function(e){return e.update(e.kind(),this.visitToken(e.operatorToken),this.visitNodeOrToken(e.operand))},t.prototype.visitArrayLiteralExpression=function(e){return e.update(this.visitToken(e.openBracketToken),this.visitSeparatedList(e.expressions),this.visitToken(e.closeBracketToken))},t.prototype.visitOmittedExpression=function(e){return e},t.prototype.visitParenthesizedExpression=function(e){return e.update(this.visitToken(e.openParenToken),this.visitNodeOrToken(e.expression),this.visitToken(e.closeParenToken))},t.prototype.visitSimpleArrowFunctionExpression=function(e){return e.update(this.visitToken(e.identifier),this.visitToken(e.equalsGreaterThanToken),this.visitNodeOrToken(e.body))},t.prototype.visitParenthesizedArrowFunctionExpression=function(e){return e.update(this.visitNode(e.callSignature),this.visitToken(e.equalsGreaterThanToken),this.visitNodeOrToken(e.body))},t.prototype.visitQualifiedName=function(e){return e.update(this.visitNodeOrToken(e.left),this.visitToken(e.dotToken),this.visitToken(e.right))},t.prototype.visitTypeArgumentList=function(e){return e.update(this.visitToken(e.lessThanToken),this.visitSeparatedList(e.typeArguments),this.visitToken(e.greaterThanToken))},t.prototype.visitConstructorType=function(e){return e.update(this.visitToken(e.newKeyword),e.typeParameterList===null?null:this.visitNode(e.typeParameterList),this.visitNode(e.parameterList),this.visitToken(e.equalsGreaterThanToken),this.visitNodeOrToken(e.type))},t.prototype.visitFunctionType=function(e){return e.update(e.typeParameterList===null?null:this.visitNode(e.typeParameterList),this.visitNode(e.parameterList),this.visitToken(e.equalsGreaterThanToken),this.visitNodeOrToken(e.type))},t.prototype.visitObjectType=function(e){return e.update(this.visitToken(e.openBraceToken),this.visitSeparatedList(e.typeMembers),this.visitToken(e.closeBraceToken))},t.prototype.visitArrayType=function(e){return e.update(this.visitNodeOrToken(e.type),this.visitToken(e.openBracketToken),this.visitToken(e.closeBracketToken))},t.prototype.visitGenericType=function(e){return e.update(this.visitNodeOrToken(e.name),this.visitNode(e.typeArgumentList))},t.prototype.visitTypeAnnotation=function(e){return e.update(this.visitToken(e.colonToken),this.visitNodeOrToken(e.type))},t.prototype.visitBlock=function(e){return e.update(this.visitToken(e.openBraceToken),this.visitList(e.statements),this.visitToken(e.closeBraceToken))},t.prototype.visitParameter=function(e){return e.update(e.dotDotDotToken===null?null:this.visitToken(e.dotDotDotToken),e.publicOrPrivateKeyword===null?null:this.visitToken(e.publicOrPrivateKeyword),this.visitToken(e.identifier),e.questionToken===null?null:this.visitToken(e.questionToken),e.typeAnnotation===null?null:this.visitNode(e.typeAnnotation),e.equalsValueClause===null?null:this.visitNode(e.equalsValueClause))},t.prototype.visitMemberAccessExpression=function(e){return e.update(this.visitNodeOrToken(e.expression),this.visitToken(e.dotToken),this.visitToken(e.name))},t.prototype.visitPostfixUnaryExpression=function(e){return e.update(e.kind(),this.visitNodeOrToken(e.operand),this.visitToken(e.operatorToken))},t.prototype.visitElementAccessExpression=function(e){return e.update(this.visitNodeOrToken(e.expression),this.visitToken(e.openBracketToken),this.visitNodeOrToken(e.argumentExpression),this.visitToken(e.closeBracketToken))},t.prototype.visitInvocationExpression=function(e){return e.update(this.visitNodeOrToken(e.expression),this.visitNode(e.argumentList))},t.prototype.visitArgumentList=function(e){return e.update(e.typeArgumentList===null?null:this.visitNode(e.typeArgumentList),this.visitToken(e.openParenToken),this.visitSeparatedList(e.arguments),this.visitToken(e.closeParenToken))},t.prototype.visitBinaryExpression=function(e){return e.update(e.kind(),this.visitNodeOrToken(e.left),this.visitToken(e.operatorToken),this.visitNodeOrToken(e.right))},t.prototype.visitConditionalExpression=function(e){return e.update(this.visitNodeOrToken(e.condition),this.visitToken(e.questionToken),this.visitNodeOrToken(e.whenTrue),this.visitToken(e.colonToken),this.visitNodeOrToken(e.whenFalse))},t.prototype.visitConstructSignature=function(e){return e.update(this.visitToken(e.newKeyword),this.visitNode(e.callSignature))},t.prototype.visitMethodSignature=function(e){return e.update(this.visitToken(e.propertyName),e.questionToken===null?null:this.visitToken(e.questionToken),this.visitNode(e.callSignature))},t.prototype.visitIndexSignature=function(e){return e.update(this.visitToken(e.openBracketToken),this.visitNode(e.parameter),this.visitToken(e.closeBracketToken),e.typeAnnotation===null?null:this.visitNode(e.typeAnnotation))},t.prototype.visitPropertySignature=function(e){return e.update(this.visitToken(e.propertyName),e.questionToken===null?null:this.visitToken(e.questionToken),e.typeAnnotation===null?null:this.visitNode(e.typeAnnotation))},t.prototype.visitCallSignature=function(e){return e.update(e.typeParameterList===null?null:this.visitNode(e.typeParameterList),this.visitNode(e.parameterList),e.typeAnnotation===null?null:this.visitNode(e.typeAnnotation))},t.prototype.visitParameterList=function(e){return e.update(this.visitToken(e.openParenToken),this.visitSeparatedList(e.parameters),this.visitToken(e.closeParenToken))},t.prototype.visitTypeParameterList=function(e){return e.update(this.visitToken(e.lessThanToken),this.visitSeparatedList(e.typeParameters),this.visitToken(e.greaterThanToken))},t.prototype.visitTypeParameter=function(e){return e.update(this.visitToken(e.identifier),e.constraint===null?null:this.visitNode(e.constraint))},t.prototype.visitConstraint=function(e){return e.update(this.visitToken(e.extendsKeyword),this.visitNodeOrToken(e.type))},t.prototype.visitElseClause=function(e){return e.update(this.visitToken(e.elseKeyword),this.visitNodeOrToken(e.statement))},t.prototype.visitIfStatement=function(e){return e
.update(this.visitToken(e.ifKeyword),this.visitToken(e.openParenToken),this.visitNodeOrToken(e.condition),this.visitToken(e.closeParenToken),this.visitNodeOrToken(e.statement),e.elseClause===null?null:this.visitNode(e.elseClause))},t.prototype.visitExpressionStatement=function(e){return e.update(this.visitNodeOrToken(e.expression),this.visitToken(e.semicolonToken))},t.prototype.visitConstructorDeclaration=function(e){return e.update(this.visitToken(e.constructorKeyword),this.visitNode(e.parameterList),e.block===null?null:this.visitNode(e.block),e.semicolonToken===null?null:this.visitToken(e.semicolonToken))},t.prototype.visitMemberFunctionDeclaration=function(e){return e.update(this.visitList(e.modifiers),this.visitToken(e.propertyName),this.visitNode(e.callSignature),e.block===null?null:this.visitNode(e.block),e.semicolonToken===null?null:this.visitToken(e.semicolonToken))},t.prototype.visitGetMemberAccessorDeclaration=function(e){return e.update(this.visitList(e.modifiers),this.visitToken(e.getKeyword),this.visitToken(e.propertyName),this.visitNode(e.parameterList),e.typeAnnotation===null?null:this.visitNode(e.typeAnnotation),this.visitNode(e.block))},t.prototype.visitSetMemberAccessorDeclaration=function(e){return e.update(this.visitList(e.modifiers),this.visitToken(e.setKeyword),this.visitToken(e.propertyName),this.visitNode(e.parameterList),this.visitNode(e.block))},t.prototype.visitMemberVariableDeclaration=function(e){return e.update(this.visitList(e.modifiers),this.visitNode(e.variableDeclarator),this.visitToken(e.semicolonToken))},t.prototype.visitThrowStatement=function(e){return e.update(this.visitToken(e.throwKeyword),this.visitNodeOrToken(e.expression),this.visitToken(e.semicolonToken))},t.prototype.visitReturnStatement=function(e){return e.update(this.visitToken(e.returnKeyword),e.expression===null?null:this.visitNodeOrToken(e.expression),this.visitToken(e.semicolonToken))},t.prototype.visitObjectCreationExpression=function(e){return e.update(this.visitToken(e.newKeyword),this.visitNodeOrToken(e.expression),e.argumentList===null?null:this.visitNode(e.argumentList))},t.prototype.visitSwitchStatement=function(e){return e.update(this.visitToken(e.switchKeyword),this.visitToken(e.openParenToken),this.visitNodeOrToken(e.expression),this.visitToken(e.closeParenToken),this.visitToken(e.openBraceToken),this.visitList(e.switchClauses),this.visitToken(e.closeBraceToken))},t.prototype.visitCaseSwitchClause=function(e){return e.update(this.visitToken(e.caseKeyword),this.visitNodeOrToken(e.expression),this.visitToken(e.colonToken),this.visitList(e.statements))},t.prototype.visitDefaultSwitchClause=function(e){return e.update(this.visitToken(e.defaultKeyword),this.visitToken(e.colonToken),this.visitList(e.statements))},t.prototype.visitBreakStatement=function(e){return e.update(this.visitToken(e.breakKeyword),e.identifier===null?null:this.visitToken(e.identifier),this.visitToken(e.semicolonToken))},t.prototype.visitContinueStatement=function(e){return e.update(this.visitToken(e.continueKeyword),e.identifier===null?null:this.visitToken(e.identifier),this.visitToken(e.semicolonToken))},t.prototype.visitForStatement=function(e){return e.update(this.visitToken(e.forKeyword),this.visitToken(e.openParenToken),e.variableDeclaration===null?null:this.visitNode(e.variableDeclaration),e.initializer===null?null:this.visitNodeOrToken(e.initializer),this.visitToken(e.firstSemicolonToken),e.condition===null?null:this.visitNodeOrToken(e.condition),this.visitToken(e.secondSemicolonToken),e.incrementor===null?null:this.visitNodeOrToken(e.incrementor),this.visitToken(e.closeParenToken),this.visitNodeOrToken(e.statement))},t.prototype.visitForInStatement=function(e){return e.update(this.visitToken(e.forKeyword),this.visitToken(e.openParenToken),e.variableDeclaration===null?null:this.visitNode(e.variableDeclaration),e.left===null?null:this.visitNodeOrToken(e.left),this.visitToken(e.inKeyword),this.visitNodeOrToken(e.expression),this.visitToken(e.closeParenToken),this.visitNodeOrToken(e.statement))},t.prototype.visitWhileStatement=function(e){return e.update(this.visitToken(e.whileKeyword),this.visitToken(e.openParenToken),this.visitNodeOrToken(e.condition),this.visitToken(e.closeParenToken),this.visitNodeOrToken(e.statement))},t.prototype.visitWithStatement=function(e){return e.update(this.visitToken(e.withKeyword),this.visitToken(e.openParenToken),this.visitNodeOrToken(e.condition),this.visitToken(e.closeParenToken),this.visitNodeOrToken(e.statement))},t.prototype.visitEnumDeclaration=function(e){return e.update(this.visitList(e.modifiers),this.visitToken(e.enumKeyword),this.visitToken(e.identifier),this.visitToken(e.openBraceToken),this.visitSeparatedList(e.enumElements),this.visitToken(e.closeBraceToken))},t.prototype.visitEnumElement=function(e){return e.update(this.visitToken(e.propertyName),e.equalsValueClause===null?null:this.visitNode(e.equalsValueClause))},t.prototype.visitCastExpression=function(e){return e.update(this.visitToken(e.lessThanToken),this.visitNodeOrToken(e.type),this.visitToken(e.greaterThanToken),this.visitNodeOrToken(e.expression))},t.prototype.visitObjectLiteralExpression=function(e){return e.update(this.visitToken(e.openBraceToken),this.visitSeparatedList(e.propertyAssignments),this.visitToken(e.closeBraceToken))},t.prototype.visitSimplePropertyAssignment=function(e){return e.update(this.visitToken(e.propertyName),this.visitToken(e.colonToken),this.visitNodeOrToken(e.expression))},t.prototype.visitFunctionPropertyAssignment=function(e){return e.update(this.visitToken(e.propertyName),this.visitNode(e.callSignature),this.visitNode(e.block))},t.prototype.visitGetAccessorPropertyAssignment=function(e){return e.update(this.visitToken(e.getKeyword),this.visitToken(e.propertyName),this.visitToken(e.openParenToken),this.visitToken(e.closeParenToken),e.typeAnnotation===null?null:this.visitNode(e.typeAnnotation),this.visitNode(e.block))},t.prototype.visitSetAccessorPropertyAssignment=function(e){return e.update(this.visitToken(e.setKeyword),this.visitToken(e.propertyName),this.visitToken(e.openParenToken),this.visitNode(e.parameter),this.visitToken(e.closeParenToken),this.visitNode(e.block))},t.prototype.visitFunctionExpression=function(e){return e.update(this.visitToken(e.functionKeyword),e.identifier===null?null:this.visitToken(e.identifier),this.visitNode(e.callSignature),this.visitNode(e.block))},t.prototype.visitEmptyStatement=function(e){return e.update(this.visitToken(e.semicolonToken))},t.prototype.visitTryStatement=function(e){return e.update(this.visitToken(e.tryKeyword),this.visitNode(e.block),e.catchClause===null?null:this.visitNode(e.catchClause),e.finallyClause===null?null:this.visitNode(e.finallyClause))},t.prototype.visitCatchClause=function(e){return e.update(this.visitToken(e.catchKeyword),this.visitToken(e.openParenToken),this.visitToken(e.identifier),e.typeAnnotation===null?null:this.visitNode(e.typeAnnotation),this.visitToken(e.closeParenToken),this.visitNode(e.block))},t.prototype.visitFinallyClause=function(e){return e.update(this.visitToken(e.finallyKeyword),this.visitNode(e.block))},t.prototype.visitLabeledStatement=function(e){return e.update(this.visitToken(e.identifier),this.visitToken(e.colonToken),this.visitNodeOrToken(e.statement))},t.prototype.visitDoStatement=function(e){return e.update(this.visitToken(e.doKeyword),this.visitNodeOrToken(e.statement),this.visitToken(e.whileKeyword),this.visitToken(e.openParenToken),this.visitNodeOrToken(e.condition),this.visitToken(e.closeParenToken),this.visitToken(e.semicolonToken))},t.prototype.visitTypeOfExpression=function(e){return e.update(this.visitToken(e.typeOfKeyword),this.visitNodeOrToken(e.expression))},t.prototype.visitDeleteExpression=function(e){return e.update(this.visitToken(e.deleteKeyword),this.visitNodeOrToken(e.expression))},t.prototype.visitVoidExpression=function(e){return e.update(this.visitToken(e.voidKeyword),this.visitNodeOrToken(e.expression))},t.prototype.visitDebuggerStatement=function(e){return e.update(this.visitToken(e.debuggerKeyword),this.visitToken(e.semicolonToken))},t}();e.SyntaxRewriter=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(t){function n(e,n,r,i){t.call(this),this.dedentationAmount=n,this.minimumIndent=r,this.options=i,this.lastTriviaWasNewLine=e}return __extends(n,t),n.prototype.abort=function(){this.lastTriviaWasNewLine=!1,this.dedentationAmount=0},n.prototype.isAborted=function(){return this.dedentationAmount===0},n.prototype.visitToken=function(e){if(e.width()===0)return e;var t=e;return this.lastTriviaWasNewLine&&(t=e.withLeadingTrivia(this.dedentTriviaList(e.leadingTrivia()))),this.isAborted()?e:(this.lastTriviaWasNewLine=e.hasTrailingNewLine(),t)},n.prototype.dedentTriviaList=function(t){var n=[],r=!0;for(var i=0,s=t.count();i<s&&!this.isAborted();i++){var o=t.syntaxTriviaAt(i),u=r;r=!1;if(u){if(o.kind()===4){var a=i<t.count()-1&&t.syntaxTriviaAt(i+1).kind()===5;n.push(this.dedentWhitespace(o,a));continue}if(o.kind()!==5){this.abort();break}}if(o.kind()===6){n.push(this.dedentMultiLineComment(o));continue}n.push(o),o.kind()===5&&(r=!0)}return r&&this.abort(),this.isAborted()?t:e.Syntax.triviaList(n)},n.prototype.dedentSegment=function(t,n){var r=e.Indentation.firstNonWhitespacePosition(t);if(r===t.length){if(n)return""}else if(e.CharacterInfo.isLineTerminator(t.charCodeAt(r)))return t.substring(r);var i=e.Indentation.columnForPositionInString(t,r,this.options),s=e.MathPrototype.min(i,e.MathPrototype.max(i-this.dedentationAmount,this.minimumIndent));if(s===i)return this.abort(),t;this.dedentationAmount=i-s,e.Debug.assert(this.dedentationAmount>=0);var o=e.Indentation.indentationString(s,this.options);return o+t.substring(r)},n.prototype.dedentWhitespace=function(t,n){var r=this.dedentSegment(t.fullText(),n);return e.Syntax.whitespace(r)},n.prototype.dedentMultiLineComment=function(t){var n=e.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(t);if(n.length===1)return t;for(var r=1;r<n.length;r++){var i=n[r];n[r]=this.dedentSegment(i,!1)}var s=n.join("");return e.Syntax.multiLineComment(s)},n.dedentNode=function(e,t,r,i,s){var o=new n(t,r,i,s),u=e.accept(o);return o.isAborted()?e:u},n}(e.SyntaxRewriter);e.SyntaxDedenter=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(t){function n(n,r,i){t.call(this),this.indentationAmount=r,this.options=i,this.lastTriviaWasNewLine=n,this.indentationTrivia=e.Indentation.indentationTrivia(this.indentationAmount,this.options)}return __extends(n,t),n.prototype.visitToken=function(e){if(e.width()===0)return e;var t=e;return this.lastTriviaWasNewLine&&(t=e.withLeadingTrivia(this.indentTriviaList(e.leadingTrivia()))),this.lastTriviaWasNewLine=e.hasTrailingNewLine(),t},n.prototype.indentTriviaList=function(t){var n=[],r=!0;for(var i=0,s=t.count();i<s;i++){var o=t.syntaxTriviaAt(i),u=r;r=!1;switch(o.kind()){case 6:this.indentMultiLineComment(o,u,n);continue;case 7:case 8:this.indentSingleLineOrSkippedText(o,u,n);continue;case 4:this.indentWhitespace(o,u,n);continue;case 5:n.push(o),r=!0;continue;default:throw e.Errors.invalidOperation()}}return r&&n.push(this.indentationTrivia),e.Syntax.triviaList(n)},n.prototype.indentSegment=function(t){var n=e.Indentation.firstNonWhitespacePosition(t);if(n<t.length&&e.CharacterInfo.isLineTerminator(t.charCodeAt(n)))return t;var r=e.Indentation.columnForPositionInString(t,n,this.options),i=r+this.indentationAmount,s=e.Indentation.indentationString(i,this.options);return s+t.substring(n)},n.prototype.indentWhitespace=function(t,n,r){if(!n){r.push(t);return}var i=this.indentSegment(t.fullText());r.push(e.Syntax.whitespace(i))},n.prototype.indentSingleLineOrSkippedText=function(e,t,n){t&&n.push(this.indentationTrivia),n.push(e)},n.prototype.indentMultiLineComment=function(t,n,r){n&&r.push(this.indentationTrivia);var i=e.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(t);for(var s=1;s<i.length;s++)i[s]=this.indentSegment(i[s]);var o=i.join("");r.push(e.Syntax.multiLineComment(o))},n.indentNode=function(e,t,r,i){var s=new n(t,r,i);return e.accept(s)},n.indentNodes=function(t,r,i,s){var o=new n(r,i,s),u=e.ArrayUtilities.select(t,function(e){return e.accept(o)});return u},n}(e.SyntaxRewriter);e.SyntaxIndenter=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function l(e,t){e.leadingTrivia().collectTextElements(t),t.push(e.text()),e.trailingTrivia().collectTextElements(t)}function c(e,t,n,r,i){return r===0?i===0?new o(n):new a(e,t,n,i):i===0?new u(e,t,n,r):new f(e,t,n,r,i)}function h(e,t,o,u,a,f){return u===0?f===0?new n(e,t,o,a):new i(e,t,o,a,f):f===0?new r(e,t,o,u,a):new s(e,t,o,u,a,f)}function p(e){return e>>>2}function d(e){return(e&2)!==0}function v(e){return(e&1)!==0}var n=function(){function n(e,t,n,r){this._sourceText=e,this._fullStart=t,this.tokenKind=n,this._textOrWidth=r}return n.prototype.clone=function(){return new n(this._sourceText,this._fullStart,this.tokenKind,this._textOrWidth)},n.prototype.isNode=function(){return!1},n.prototype.isToken=function(){return!0},n.prototype.isList=function(){return!1},n.prototype.isSeparatedList=function(){return!1},n.prototype.kind=function(){return this.tokenKind},n.prototype.childCount=function(){return 0},n.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},n.prototype.fullWidth=function(){return this.width()},n.prototype.start=function(){return this._fullStart},n.prototype.end=function(){return this.start()+this.width()},n.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},n.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},n.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},n.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},n.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},n.prototype.hasLeadingTrivia=function(){return!1},n.prototype.hasLeadingComment=function(){return!1},n.prototype.hasLeadingNewLine=function(){return!1},n.prototype.hasLeadingSkippedText=function(){return!1},n.prototype.leadingTriviaWidth=function(){return 0},n.prototype.leadingTrivia=function(){return e.Syntax.emptyTriviaList},n.prototype.hasTrailingTrivia=function(){return!1},n.prototype.hasTrailingComment=function(){return!1},n.prototype.hasTrailingNewLine=function(){return!1},n.prototype.hasTrailingSkippedText=function(){return!1},n.prototype.trailingTriviaWidth=function(){return 0},n.prototype.trailingTrivia=function(){return e.Syntax.emptyTriviaList},n.prototype.hasSkippedToken=function(){return!1},n.prototype.toJSON=function(e){return t.tokenToJSON(this)},n.prototype.firstToken=function(){return this},n.prototype.lastToken=function(){return this},n.prototype.isTypeScriptSpecific=function(){return!1},n.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||e.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},n.prototype.accept=function(e){return e.visitToken(this)},n.prototype.realize=function(){return t.realizeToken(this)},n.prototype.collectTextElements=function(e){l(this,e)},n.prototype.findTokenInternal=function(t,n,r){return new e.PositionedToken(t,this,r)},n.prototype.withLeadingTrivia=function(e){return this.realize().withLeadingTrivia(e)},n.prototype.withTrailingTrivia=function(e){return this.realize().withTrailingTrivia(e)},n}();t.VariableWidthTokenWithNoTrivia=n;var r=function(){function n(e,t,n,r,i){this._sourceText=e,this._fullStart=t,this.tokenKind=n,this._leadingTriviaInfo=r,this._textOrWidth=i}return n.prototype.clone=function(){return new n(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo,this._textOrWidth)},n.prototype.isNode=function(){return!1},n.prototype.isToken=function(){return!0},n.prototype.isList=function(){return!1},n.prototype.isSeparatedList=function(){return!1},n.prototype.kind=function(){return this.tokenKind},n.prototype.childCount=function(){return 0},n.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},n.prototype.fullWidth=function(){return p(this._leadingTriviaInfo)+this.width()},n.prototype.start=function(){return this._fullStart+p(this._leadingTriviaInfo)},n.prototype.end=function(){return this.start()+this.width()},n.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},n.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},n.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},n.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},n.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},n.prototype.hasLeadingTrivia=function(){return!0},n.prototype.hasLeadingComment=function(){return d(this._leadingTriviaInfo)},n.prototype.hasLeadingNewLine=function(){return v(this._leadingTriviaInfo)},n.prototype.hasLeadingSkippedText=function(){return!1},n.prototype.leadingTriviaWidth=function(){return p(this._leadingTriviaInfo)},n.prototype.leadingTrivia=function(){return e.Scanner.scanTrivia(this._sourceText,this._fullStart,p(this._leadingTriviaInfo),!1)},n.prototype.hasTrailingTrivia=function(){return!1},n.prototype.hasTrailingComment=function(){return!1},n.prototype.hasTrailingNewLine=function(){return!1},n.prototype.hasTrailingSkippedText=function(){return!1},n.prototype.trailingTriviaWidth=function(){return 0},n.prototype.trailingTrivia=function(){return e.Syntax.emptyTriviaList},n.prototype.hasSkippedToken=function(){return!1},n.prototype.toJSON=function(e){return t.tokenToJSON(this)},n.prototype.firstToken=function(){return this},n.prototype.lastToken=function(){return this},n.prototype.isTypeScriptSpecific=function(){return!1},n.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||e.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},n.prototype.accept=function(e){return e.visitToken(this)},n.prototype.realize=function(){return t.realizeToken(this)},n.prototype.collectTextElements=function(e){l(this,e)},n.prototype.findTokenInternal=function(t,n,r){return new e.PositionedToken(t,this,r)},n.prototype.withLeadingTrivia=function(e){return this.realize().withLeadingTrivia(e)},n.prototype.withTrailingTrivia=function(e){return this.realize().withTrailingTrivia(e)},n}();t.VariableWidthTokenWithLeadingTrivia=r;var i=function(){function n(e,t,n,r,i){this._sourceText=e,this._fullStart=t,this.tokenKind=n,this._textOrWidth=r,this._trailingTriviaInfo=i}return n.prototype.clone=function(){return new n(this._sourceText,this._fullStart,this.tokenKind,this._textOrWidth,this._trailingTriviaInfo)},n.prototype.isNode=function(){return!1},n.prototype.isToken=function(){return!0},n.prototype.isList=function(){return!1},n.prototype.isSeparatedList=function(){return!1},n.prototype.kind=function(){return this.tokenKind},n.prototype.childCount=function(){return 0},n.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},n.prototype.fullWidth=function(){return this.width()+p(this._trailingTriviaInfo)},n.prototype.start=function(){return this._fullStart},n.prototype.end=function(){return this.start()+this.width()},n.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},n.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},n.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},n.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},n.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},n.prototype.hasLeadingTrivia=function(){return!1},n.prototype.hasLeadingComment=function(){return!1},n.prototype.hasLeadingNewLine=function(){return!1},n.prototype.hasLeadingSkippedText=function(){return!1},n.prototype.leadingTriviaWidth=function(){return 0},n.prototype.leadingTrivia=function(){return e.Syntax.emptyTriviaList},n.prototype.hasTrailingTrivia=function(){return!0},n.prototype.hasTrailingComment=function(){return d(this._trailingTriviaInfo)},n.prototype.hasTrailingNewLine=function(){return v(this._trailingTriviaInfo)},n.prototype.hasTrailingSkippedText=function(){return!1},n.prototype.trailingTriviaWidth=function(){return p(this._trailingTriviaInfo)},n.prototype.trailingTrivia=function(){return e.Scanner.scanTrivia(this._sourceText,this.end(),p(this._trailingTriviaInfo),!0)},n.prototype.hasSkippedToken=function(){return!1},n.prototype.toJSON=function(e){return t.tokenToJSON(this)},n.prototype.firstToken=function(){return this},n.prototype.lastToken=function(){return this},n.prototype.isTypeScriptSpecific=function(){return!1},n.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||e.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},n.prototype.accept=function(e){return e.visitToken(this)},n.prototype.realize=function(){return t.realizeToken(this)},n.prototype.collectTextElements=function(e){l(this,e)},n.prototype.findTokenInternal=function(t,n,r){return new e.PositionedToken(t,this,r)},n.prototype.withLeadingTrivia=function(e){return this.realize().withLeadingTrivia(e)},n.prototype.withTrailingTrivia=function(e){return this.realize().withTrailingTrivia(e)},n}();t.VariableWidthTokenWithTrailingTrivia=i;var s=function(){function n(e,t,n,r,i,s){this._sourceText=e,this._fullStart=t,this.tokenKind=n,this._leadingTriviaInfo=r,this._textOrWidth=i,this._trailingTriviaInfo=s}return n.prototype.clone=function(){return new n(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo,this._textOrWidth,this._trailingTriviaInfo)},n.prototype.isNode=function(){return!1},n.prototype.isToken=function(){return!0},n.prototype.isList=function(){return!1},n.prototype.isSeparatedList=function(){return!1},n.prototype.kind=function(){return this.tokenKind},n.prototype.childCount=function(){return 0},n.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},n.prototype.fullWidth=function(){return p(this._leadingTriviaInfo)+this.width()+p(this._trailingTriviaInfo)},n.prototype.start=function(){return this._fullStart+p(this._leadingTriviaInfo)},n.prototype.end=function(){return this.start()+this.width()},n.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},n.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},n.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},n.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},n.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},n.prototype.hasLeadingTrivia=function(){return!0},n.prototype.hasLeadingComment=function(){return d(this._leadingTriviaInfo)},n.prototype.hasLeadingNewLine=function(){return v(this._leadingTriviaInfo)},n.prototype.hasLeadingSkippedText=function(){return!1},n.prototype.leadingTriviaWidth=function(){return p(this._leadingTriviaInfo)},n.prototype.leadingTrivia=function(){return e.Scanner.scanTrivia(this._sourceText,this._fullStart,p(this._leadingTriviaInfo),!1)},n.prototype.hasTrailingTrivia=function(){return!0},n.prototype.hasTrailingComment=function(){return d(this._trailingTriviaInfo)},n.prototype.hasTrailingNewLine=function(){return v(this._trailingTriviaInfo)},n.prototype.hasTrailingSkippedText=function(){return!1},n.prototype.trailingTriviaWidth=function(){return p(this._trailingTriviaInfo)},n.prototype.trailingTrivia=function(){return e.Scanner.scanTrivia(this._sourceText,this.end(),p(this._trailingTriviaInfo),!0)},n.prototype.hasSkippedToken=function(){return!1},n.prototype.toJSON=function(e){return t.tokenToJSON(this)},n.prototype.firstToken=function(){return this},n.prototype.lastToken=function(){return this},n.prototype.isTypeScriptSpecific=function(){return!1},n.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||e.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},n.prototype.accept=function(e){return e.visitToken(this)},n.prototype.realize=function(){return t.realizeToken(this)},n.prototype.collectTextElements=function(e){l(this,e)},n.prototype.findTokenInternal=function(t,n,r){return new e.PositionedToken(t,this,r)},n.prototype.withLeadingTrivia=function(e){return this.realize().withLeadingTrivia(e)},n.prototype.withTrailingTrivia=function(e){return this.realize().withTrailingTrivia(e)},n}();t.VariableWidthTokenWithLeadingAndTrailingTrivia=s;var o=function(){function n(e){this.tokenKind=e}return n.prototype.clone=function(){return new n(this.tokenKind)},n.prototype.isNode=function(){return!1},n.prototype.isToken=function(){return!0},n.prototype.isList=function(){return!1},n.prototype.isSeparatedList=function(){return!1},n.prototype.kind=function(){return this.tokenKind},n.prototype.childCount=function(){return 0},n.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},n.prototype.fullWidth=function(){return this.width()},n.prototype.width=function(){return this.text().length},n.prototype.text=function(){return e.SyntaxFacts.getText(this.tokenKind)},n.prototype.fullText=function(){return this.text()},n.prototype.value=function(){return t.value(this)},n.prototype.valueText=function(){return t.valueText(this)},n.prototype.hasLeadingTrivia=function(){return!1},n.prototype.hasLeadingComment=function(){return!1},n.prototype.hasLeadingNewLine=function(){return!1},n.prototype.hasLeadingSkippedText=function(){return!1},n.prototype.leadingTriviaWidth=function(){return 0},n.prototype.leadingTrivia=function(){return e.Syntax.emptyTriviaList},n.prototype.hasTrailingTrivia=function(){return!1},n.prototype.hasTrailingComment=function(){return!1},n.prototype.hasTrailingNewLine=function(){return!1},n.prototype.hasTrailingSkippedText=function(){return!1},n.prototype.trailingTriviaWidth=function(){return 0},n.prototype.trailingTrivia=function(){return e.Syntax.emptyTriviaList},n.prototype.hasSkippedToken=function(){return!1},n.prototype.toJSON=function(e){return t.tokenToJSON(this)},n.prototype.firstToken=function(){return this},n.prototype.lastToken=function(){return this},n.prototype.isTypeScriptSpecific=function(){return!1},n.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||e.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},n.prototype.accept=function(e){return e.visitToken(this)},n.prototype.realize=function(){return t.realizeToken(this)},n.prototype.collectTextElements=function(e){l(this,e)},n.prototype.findTokenInternal=function(t,n,r){return new e.PositionedToken(t,this,r)},n.prototype.withLeadingTrivia=function(e){return this.realize().withLeadingTrivia(e)},n.prototype.withTrailingTrivia=function(e){return this.realize().withTrailingTrivia(e)},n}();t.FixedWidthTokenWithNoTrivia=o;var u=function(){function n(e,t,n,r){this._sourceText=e,this._fullStart=t,this.tokenKind=n,this._leadingTriviaInfo=r}return n.prototype.clone=function(){return new n(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo)},n.prototype.isNode=function(){return!1},n.prototype.isToken=function(){return!0},n.prototype.isList=function(){return!1},n.prototype.isSeparatedList=function(){return!1},n.prototype.kind=function(){return this.tokenKind},n.prototype.childCount=function(){return 0},n.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},n.prototype.fullWidth=function(){return p(this._leadingTriviaInfo)+this.width()},n.prototype.start=function(){return this._fullStart+p(this._leadingTriviaInfo)},n.prototype.end=function(){return this.start()+this.width()},n.prototype.width=function(){return this.text().length},n.prototype.text=function(){return e.SyntaxFacts.getText(this.tokenKind)},n.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},n.prototype.value=function(){return t.value(this)},n.prototype.valueText=function(){return t.valueText(this)},n.prototype.hasLeadingTrivia=function(){return!0},n.prototype.hasLeadingComment=function(){return d(this._leadingTriviaInfo)},n.prototype.hasLeadingNewLine=function(){return v(this._leadingTriviaInfo)},n.prototype.hasLeadingSkippedText=function(){return!1},n.prototype.leadingTriviaWidth=function(){return p(this._leadingTriviaInfo)},n.prototype.leadingTrivia=function(){return e.Scanner.scanTrivia(this._sourceText,this._fullStart,p(this._leadingTriviaInfo),!1)},n.prototype.hasTrailingTrivia=function(){return!1},n.prototype.hasTrailingComment=function(){return!1},n.prototype.hasTrailingNewLine=function(){return!1},n.prototype.hasTrailingSkippedText=function(){return!1},n.prototype.trailingTriviaWidth=function(){return 0},n.prototype.trailingTrivia=function(){return e.Syntax.emptyTriviaList},n.prototype.hasSkippedToken=function(){return!1},n.prototype.toJSON=function(e){return t.tokenToJSON(this)},n.prototype.firstToken=function(){return this},n.prototype.lastToken=function(){return this},n.prototype.isTypeScriptSpecific=function(){return!1},n.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||e.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},n.prototype.accept=function(e){return e.visitToken(this)},n.prototype.realize=function(){return t.realizeToken(this)},n.prototype.collectTextElements=function(e){l(this,e)},n.prototype.findTokenInternal=function(t,n,r){return new e.PositionedToken(t,this,r)},n.prototype.withLeadingTrivia=function(e){return this.realize().withLeadingTrivia(e)},n.prototype.withTrailingTrivia=function(e){return this.realize().withTrailingTrivia(e)},n}();t.FixedWidthTokenWithLeadingTrivia=u;var a=function(){function n(e,t,n,r){this._sourceText=e,this._fullStart=t,this.tokenKind=n,this._trailingTriviaInfo=r}return n.prototype.clone=function(){return new n(this._sourceText,this._fullStart,this.tokenKind,this._trailingTriviaInfo)},n.prototype.isNode=function(){return!1},n.prototype.isToken=function(){return!0},n.prototype.isList=function(){return!1},n.prototype.isSeparatedList=function(){return!1},n.prototype.kind=function(){return this.tokenKind},n.prototype.childCount=function(){return 0},n.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},n.prototype.fullWidth=function(){return this.width()+p(this._trailingTriviaInfo)},n.prototype.start=function(){return this._fullStart},n.prototype.end=function(){return this.start()+this.width()},n.prototype.width=function(){return this.text().length},n.prototype.text=function(){return e.SyntaxFacts.getText(this.tokenKind)},n.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},n.prototype.value=function(){return t.value(this)},n.prototype.valueText=function(){return t.valueText(this)},n.prototype.hasLeadingTrivia=function(){return!1},n.prototype.hasLeadingComment=function(){return!1},n.prototype.hasLeadingNewLine=function(){return!1},n.prototype.hasLeadingSkippedText=function(){return!1},n.prototype.leadingTriviaWidth=function(){return 0},n.prototype.leadingTrivia=function(){return e.Syntax.emptyTriviaList},n.prototype.hasTrailingTrivia=function(){return!0},n.prototype.hasTrailingComment=function(){return d(this._trailingTriviaInfo)},n.prototype.hasTrailingNewLine=function(){return v(this._trailingTriviaInfo)},n.prototype.hasTrailingSkippedText=function(){return!1},n.prototype.trailingTriviaWidth=function(){return p(this._trailingTriviaInfo)},n.prototype.trailingTrivia=function(){return e.Scanner.scanTrivia(this._sourceText,this.end(),p(this._trailingTriviaInfo),!0)},n.prototype.hasSkippedToken=function(){return!1},n.prototype.toJSON=function(e){return t.tokenToJSON(this)},n.prototype.firstToken=function(){return this},n.prototype.lastToken=function(){return this},n.prototype.isTypeScriptSpecific=function(){return!1},n.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||e.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)}
,n.prototype.accept=function(e){return e.visitToken(this)},n.prototype.realize=function(){return t.realizeToken(this)},n.prototype.collectTextElements=function(e){l(this,e)},n.prototype.findTokenInternal=function(t,n,r){return new e.PositionedToken(t,this,r)},n.prototype.withLeadingTrivia=function(e){return this.realize().withLeadingTrivia(e)},n.prototype.withTrailingTrivia=function(e){return this.realize().withTrailingTrivia(e)},n}();t.FixedWidthTokenWithTrailingTrivia=a;var f=function(){function n(e,t,n,r,i){this._sourceText=e,this._fullStart=t,this.tokenKind=n,this._leadingTriviaInfo=r,this._trailingTriviaInfo=i}return n.prototype.clone=function(){return new n(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo,this._trailingTriviaInfo)},n.prototype.isNode=function(){return!1},n.prototype.isToken=function(){return!0},n.prototype.isList=function(){return!1},n.prototype.isSeparatedList=function(){return!1},n.prototype.kind=function(){return this.tokenKind},n.prototype.childCount=function(){return 0},n.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},n.prototype.fullWidth=function(){return p(this._leadingTriviaInfo)+this.width()+p(this._trailingTriviaInfo)},n.prototype.start=function(){return this._fullStart+p(this._leadingTriviaInfo)},n.prototype.end=function(){return this.start()+this.width()},n.prototype.width=function(){return this.text().length},n.prototype.text=function(){return e.SyntaxFacts.getText(this.tokenKind)},n.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},n.prototype.value=function(){return t.value(this)},n.prototype.valueText=function(){return t.valueText(this)},n.prototype.hasLeadingTrivia=function(){return!0},n.prototype.hasLeadingComment=function(){return d(this._leadingTriviaInfo)},n.prototype.hasLeadingNewLine=function(){return v(this._leadingTriviaInfo)},n.prototype.hasLeadingSkippedText=function(){return!1},n.prototype.leadingTriviaWidth=function(){return p(this._leadingTriviaInfo)},n.prototype.leadingTrivia=function(){return e.Scanner.scanTrivia(this._sourceText,this._fullStart,p(this._leadingTriviaInfo),!1)},n.prototype.hasTrailingTrivia=function(){return!0},n.prototype.hasTrailingComment=function(){return d(this._trailingTriviaInfo)},n.prototype.hasTrailingNewLine=function(){return v(this._trailingTriviaInfo)},n.prototype.hasTrailingSkippedText=function(){return!1},n.prototype.trailingTriviaWidth=function(){return p(this._trailingTriviaInfo)},n.prototype.trailingTrivia=function(){return e.Scanner.scanTrivia(this._sourceText,this.end(),p(this._trailingTriviaInfo),!0)},n.prototype.hasSkippedToken=function(){return!1},n.prototype.toJSON=function(e){return t.tokenToJSON(this)},n.prototype.firstToken=function(){return this},n.prototype.lastToken=function(){return this},n.prototype.isTypeScriptSpecific=function(){return!1},n.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||e.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},n.prototype.accept=function(e){return e.visitToken(this)},n.prototype.realize=function(){return t.realizeToken(this)},n.prototype.collectTextElements=function(e){l(this,e)},n.prototype.findTokenInternal=function(t,n,r){return new e.PositionedToken(t,this,r)},n.prototype.withLeadingTrivia=function(e){return this.realize().withLeadingTrivia(e)},n.prototype.withTrailingTrivia=function(e){return this.realize().withTrailingTrivia(e)},n}();t.FixedWidthTokenWithLeadingAndTrailingTrivia=f,t.fixedWidthToken=c,t.variableWidthToken=h})(e.Syntax||(e.Syntax={}));var t=e.Syntax})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function n(e){return new v(e.tokenKind,e.leadingTrivia(),e.text(),e.value(),e.valueText(),e.trailingTrivia())}function r(t){return e.Debug.assert(e.SyntaxFacts.isAnyKeyword(t.tokenKind)),new v(11,t.leadingTrivia(),t.text(),t.text(),t.text(),t.trailingTrivia())}function i(t){var n={};for(var r in e.SyntaxKind)if(e.SyntaxKind[r]===t.kind()){n.kind=r;break}n.width=t.width(),t.fullWidth()!==t.width()&&(n.fullWidth=t.fullWidth()),n.text=t.text();var i=t.value();i!==null&&(n.value=i,n.valueText=t.valueText()),t.hasLeadingTrivia()&&(n.hasLeadingTrivia=!0),t.hasLeadingComment()&&(n.hasLeadingComment=!0),t.hasLeadingNewLine()&&(n.hasLeadingNewLine=!0),t.hasLeadingSkippedText()&&(n.hasLeadingSkippedText=!0),t.hasTrailingTrivia()&&(n.hasTrailingTrivia=!0),t.hasTrailingComment()&&(n.hasTrailingComment=!0),t.hasTrailingNewLine()&&(n.hasTrailingNewLine=!0),t.hasTrailingSkippedText()&&(n.hasTrailingSkippedText=!0);var s=t.leadingTrivia();return s.count()>0&&(n.leadingTrivia=s),s=t.trailingTrivia(),s.count()>0&&(n.trailingTrivia=s),n}function s(e){return l(e.tokenKind,e.text())}function o(t,n,r){var i=0;for(var s=0;s<r;s++){var o=t.charCodeAt(n+s);if(!e.CharacterInfo.isHexDigit(o))break;i=(i<<4)+e.CharacterInfo.hexValue(o)}return i}function a(e){u.length=0;var t="";for(var n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i===92){n++;if(n<r){i=e.charCodeAt(n);switch(i){case 48:u.push(0);continue;case 98:u.push(8);continue;case 102:u.push(12);continue;case 110:u.push(10);continue;case 114:u.push(13);continue;case 116:u.push(9);continue;case 118:u.push(11);continue;case 120:u.push(o(e,n+1,2)),n+=2;continue;case 117:u.push(o(e,n+1,4)),n+=4;continue;default:}}}u.push(i),n&&!(n%1024)&&(t=t.concat(String.fromCharCode.apply(null,u)),u.length=0)}return u.length&&(t=t.concat(String.fromCharCode.apply(null,u))),t}function f(e){return e.indexOf("\\")>=0?a(e):e}function l(t,n){if(t===11)return f(n);switch(t){case 37:return!0;case 24:return!1;case 32:return null}if(e.SyntaxFacts.isAnyKeyword(t)||e.SyntaxFacts.isAnyPunctuation(t))return e.SyntaxFacts.getText(t);if(t===13)return parseFloat(n);if(t===14)return n.length>1&&n.charCodeAt(n.length-1)===n.charCodeAt(0)?f(n.substr(1,n.length-2)):f(n.substr(1));if(t!==12){if(t===10||t===9)return null;throw e.Errors.invalidOperation()}try{var r=n.lastIndexOf("/"),i=n.substring(1,r),s=n.substring(r+1);return new RegExp(i,s)}catch(o){return null}}function c(e,t){var n=l(e,t);return n===null?"":n.toString()}function h(e){var t=e.value();return t===null?"":t.toString()}function d(e){return new p(e)}function m(t,n){typeof n=="undefined"&&(n=null);var r=n!==null&&n.text!==undefined?n.text:e.SyntaxFacts.getText(t);return new v(t,e.Syntax.triviaList(n===null?null:n.leadingTrivia),r,l(t,r),c(t,r),e.Syntax.triviaList(n===null?null:n.trailingTrivia))}function g(e,t){return typeof t=="undefined"&&(t=null),t=t||{},t.text=e,m(11,t)}t.realizeToken=n,t.convertToIdentifierName=r,t.tokenToJSON=i,t.value=s;var u=[];t.valueText=h;var p=function(){function t(e){this.tokenKind=e}return t.prototype.clone=function(){return new t(this.tokenKind)},t.prototype.kind=function(){return this.tokenKind},t.prototype.isToken=function(){return!0},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},t.prototype.toJSON=function(e){return i(this)},t.prototype.accept=function(e){return e.visitToken(this)},t.prototype.findTokenInternal=function(t,n,r){return new e.PositionedToken(t,this,r)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!0},t.prototype.fullWidth=function(){return 0},t.prototype.width=function(){return 0},t.prototype.text=function(){return""},t.prototype.fullText=function(){return""},t.prototype.value=function(){return null},t.prototype.valueText=function(){return""},t.prototype.hasLeadingTrivia=function(){return!1},t.prototype.hasLeadingComment=function(){return!1},t.prototype.hasLeadingNewLine=function(){return!1},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.hasTrailingTrivia=function(){return!1},t.prototype.hasTrailingComment=function(){return!1},t.prototype.hasTrailingNewLine=function(){return!1},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.hasSkippedToken=function(){return!1},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.leadingTrivia=function(){return e.Syntax.emptyTriviaList},t.prototype.trailingTrivia=function(){return e.Syntax.emptyTriviaList},t.prototype.realize=function(){return n(this)},t.prototype.collectTextElements=function(e){},t.prototype.withLeadingTrivia=function(e){return this.realize().withLeadingTrivia(e)},t.prototype.withTrailingTrivia=function(e){return this.realize().withTrailingTrivia(e)},t}();t.emptyToken=d;var v=function(){function t(e,t,n,r,i,s){this.tokenKind=e,this._leadingTrivia=t,this._text=n,this._value=r,this._valueText=i,this._trailingTrivia=s}return t.prototype.clone=function(){return new t(this.tokenKind,this._leadingTrivia,this._text,this._value,this._valueText,this._trailingTrivia)},t.prototype.kind=function(){return this.tokenKind},t.prototype.toJSON=function(e){return i(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!0},t.prototype.accept=function(e){return e.visitToken(this)},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(t){throw e.Errors.argumentOutOfRange("index")},t.prototype.isToken=function(){return!0},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.isTrivia=function(){return!1},t.prototype.isTriviaList=function(){return!1},t.prototype.fullWidth=function(){return this._leadingTrivia.fullWidth()+this.width()+this._trailingTrivia.fullWidth()},t.prototype.width=function(){return this.text().length},t.prototype.text=function(){return this._text},t.prototype.fullText=function(){return this._leadingTrivia.fullText()+this.text()+this._trailingTrivia.fullText()},t.prototype.value=function(){return this._value},t.prototype.valueText=function(){return this._valueText},t.prototype.hasLeadingTrivia=function(){return this._leadingTrivia.count()>0},t.prototype.hasLeadingComment=function(){return this._leadingTrivia.hasComment()},t.prototype.hasLeadingNewLine=function(){return this._leadingTrivia.hasNewLine()},t.prototype.hasLeadingSkippedText=function(){return this._leadingTrivia.hasSkippedToken()},t.prototype.leadingTriviaWidth=function(){return this._leadingTrivia.fullWidth()},t.prototype.hasTrailingTrivia=function(){return this._trailingTrivia.count()>0},t.prototype.hasTrailingComment=function(){return this._trailingTrivia.hasComment()},t.prototype.hasTrailingNewLine=function(){return this._trailingTrivia.hasNewLine()},t.prototype.hasTrailingSkippedText=function(){return this._trailingTrivia.hasSkippedToken()},t.prototype.trailingTriviaWidth=function(){return this._trailingTrivia.fullWidth()},t.prototype.hasSkippedToken=function(){return this.hasLeadingSkippedText()||this.hasTrailingSkippedText()},t.prototype.leadingTrivia=function(){return this._leadingTrivia},t.prototype.trailingTrivia=function(){return this._trailingTrivia},t.prototype.findTokenInternal=function(t,n,r){return new e.PositionedToken(t,this,r)},t.prototype.collectTextElements=function(e){this.leadingTrivia().collectTextElements(e),e.push(this.text()),this.trailingTrivia().collectTextElements(e)},t.prototype.withLeadingTrivia=function(e){return new t(this.tokenKind,e,this._text,this._value,this._valueText,this._trailingTrivia)},t.prototype.withTrailingTrivia=function(e){return new t(this.tokenKind,this._leadingTrivia,this._text,this._value,this._valueText,e)},t}();t.token=m,t.identifier=g})(e.Syntax||(e.Syntax={}));var t=e.Syntax})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(e){function t(t,n){e.call(this),this.token1=t,this.token2=n}return __extends(t,e),t.prototype.visitToken=function(e){if(e===this.token1){var t=this.token2;return this.token1=null,this.token2=null,t}return e},t.prototype.visitNode=function(t){return this.token1===null?t:e.prototype.visitNode.call(this,t)},t.prototype.visitList=function(t){return this.token1===null?t:e.prototype.visitList.call(this,t)},t.prototype.visitSeparatedList=function(t){return this.token1===null?t:e.prototype.visitSeparatedList.call(this,t)},t}(e.SyntaxRewriter);e.SyntaxTokenReplacer=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function r(e,t){return new n(e,t)}function i(t){return e.Debug.assert(!t.hasLeadingTrivia()),e.Debug.assert(!t.hasTrailingTrivia()),e.Debug.assert(t.fullWidth()>0),new n(8,t)}function s(t){return r(4,e.StringUtilities.repeat(" ",t))}function o(e){return r(4,e)}function u(e){return r(6,e)}function a(e){return r(7,e)}function f(e){var t=[],n=e.fullText(),r=0;for(var i=0;i<n.length;i++){var s=n.charCodeAt(i),o=!1;switch(s){case 13:i<n.length-1&&n.charCodeAt(i+1)===10&&i++;case 10:case 8233:case 8232:t.push(n.substring(r,i+1)),r=i+1;continue}}return t.push(n.substring(r)),t}var n=function(){function t(e,t){this._kind=e,this._textOrToken=t}return t.prototype.toJSON=function(t){var n={};return n.kind=e.SyntaxKind[this._kind],this.isSkippedToken()?n.skippedToken=this._textOrToken:n.text=this._textOrToken,n},t.prototype.kind=function(){return this._kind},t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.fullText=function(){return this.isSkippedToken()?this.skippedToken().fullText():this._textOrToken},t.prototype.isWhitespace=function(){return this.kind()===4},t.prototype.isComment=function(){return this.kind()===7||this.kind()===6},t.prototype.isNewLine=function(){return this.kind()===5},t.prototype.isSkippedToken=function(){return this.kind()===8},t.prototype.skippedToken=function(){return e.Debug.assert(this.isSkippedToken()),this._textOrToken},t.prototype.collectTextElements=function(e){e.push(this.fullText())},t}();t.trivia=r,t.skippedTokenTrivia=i,t.spaces=s,t.whitespace=o,t.multiLineComment=u,t.singleLineComment=a,t.spaceTrivia=s(1),t.lineFeedTrivia=r(5,"\n"),t.carriageReturnTrivia=r(5,"\r"),t.carriageReturnLineFeedTrivia=r(5,"\r\n"),t.splitMultiLineCommentTriviaIntoMultipleLines=f})(e.Syntax||(e.Syntax={}));var t=e.Syntax})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function n(e,t){if(e.count()===0)return t;if(t.count()===0)return e;var n=e.toArray();return n.push.apply(n,t.toArray()),o(n)}function r(e){return e.kind()===6||e.kind()===7}function o(t){return t===undefined||t===null||t.length===0?e.Syntax.emptyTriviaList:t.length===1?new i(t[0]):new s(t)}t.emptyTriviaList={kind:function(){return 3},count:function(){return 0},syntaxTriviaAt:function(t){throw e.Errors.argumentOutOfRange("index")},last:function(){throw e.Errors.argumentOutOfRange("index")},fullWidth:function(){return 0},fullText:function(){return""},hasComment:function(){return!1},hasNewLine:function(){return!1},hasSkippedToken:function(){return!1},toJSON:function(e){return[]},collectTextElements:function(e){},toArray:function(){return[]},concat:function(e){return e}};var i=function(){function t(e){this.item=e}return t.prototype.kind=function(){return 3},t.prototype.count=function(){return 1},t.prototype.syntaxTriviaAt=function(t){if(t!==0)throw e.Errors.argumentOutOfRange("index");return this.item},t.prototype.last=function(){return this.item},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.hasComment=function(){return r(this.item)},t.prototype.hasNewLine=function(){return this.item.kind()===5},t.prototype.hasSkippedToken=function(){return this.item.kind()===8},t.prototype.toJSON=function(e){return[this.item]},t.prototype.collectTextElements=function(e){this.item.collectTextElements(e)},t.prototype.toArray=function(){return[this.item]},t.prototype.concat=function(e){return n(this,e)},t}(),s=function(){function t(e){this.trivia=e}return t.prototype.kind=function(){return 3},t.prototype.count=function(){return this.trivia.length},t.prototype.syntaxTriviaAt=function(t){if(t<0||t>=this.trivia.length)throw e.Errors.argumentOutOfRange("index");return this.trivia[t]},t.prototype.last=function(){return this.trivia[this.trivia.length-1]},t.prototype.fullWidth=function(){return e.ArrayUtilities.sum(this.trivia,function(e){return e.fullWidth()})},t.prototype.fullText=function(){var e="";for(var t=0,n=this.trivia.length;t<n;t++)e+=this.trivia[t].fullText();return e},t.prototype.hasComment=function(){for(var e=0;e<this.trivia.length;e++)if(r(this.trivia[e]))return!0;return!1},t.prototype.hasNewLine=function(){for(var e=0;e<this.trivia.length;e++)if(this.trivia[e].kind()===5)return!0;return!1},t.prototype.hasSkippedToken=function(){for(var e=0;e<this.trivia.length;e++)if(this.trivia[e].kind()===8)return!0;return!1},t.prototype.toJSON=function(e){return this.trivia},t.prototype.collectTextElements=function(e){for(var t=0;t<this.trivia.length;t++)this.trivia[t].collectTextElements(e)},t.prototype.toArray=function(){return this.trivia.slice(0)},t.prototype.concat=function(e){return n(this,e)},t}();t.triviaList=o,t.spaceTriviaList=o([e.Syntax.spaceTrivia])})(e.Syntax||(e.Syntax={}));var t=e.Syntax})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.isAngleBracket=function(e){var t=e.element(),n=e.parentElement();if(n!==null&&(t.kind()===81||t.kind()===82))switch(n.kind()){case 227:case 228:case 219:return!0}return!1},e.getToken=function(e,t){for(var n=0,r=e.childCount();n<r;n++){var i=e.childAt(n);if(i.tokenKind===t)return i}return null},e.containsToken=function(t,n){return e.getToken(t,n)!==null},e.hasExportKeyword=function(t){switch(t.kind()){case 130:case 131:case 129:case 147:case 132:case 128:return e.containsToken(t.modifiers,47)}return!1},e.isAmbientDeclarationSyntax=function(t){if(!t)return!1;var n=t.node();switch(n.kind()){case 130:case 131:case 129:case 147:case 132:if(e.containsToken(n.modifiers,64))return!0;case 133:case 137:case 135:case 138:case 139:case 136:if(n.isClassElement()||n.isModuleElement())return e.isAmbientDeclarationSyntax(t.containingNode());case 243:return e.isAmbientDeclarationSyntax(t.containingNode().containingNode());default:return e.isAmbientDeclarationSyntax(t.containingNode())}},e}();e.SyntaxUtilities=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.prototype.defaultVisit=function(e){return null},e.prototype.visitToken=function(e){return this.defaultVisit(e)},e.prototype.visitSourceUnit=function(e){return this.defaultVisit(e)},e.prototype.visitExternalModuleReference=function(e){return this.defaultVisit(e)},e.prototype.visitModuleNameModuleReference=function(e){return this.defaultVisit(e)},e.prototype.visitImportDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitExportAssignment=function(e){return this.defaultVisit(e)},e.prototype.visitClassDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitInterfaceDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitHeritageClause=function(e){return this.defaultVisit(e)},e.prototype.visitModuleDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitFunctionDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitVariableStatement=function(e){return this.defaultVisit(e)},e.prototype.visitVariableDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitVariableDeclarator=function(e){return this.defaultVisit(e)},e.prototype.visitEqualsValueClause=function(e){return this.defaultVisit(e)},e.prototype.visitPrefixUnaryExpression=function(e){return this.defaultVisit(e)},e.prototype.visitArrayLiteralExpression=function(e){return this.defaultVisit(e)},e.prototype.visitOmittedExpression=function(e){return this.defaultVisit(e)},e.prototype.visitParenthesizedExpression=function(e){return this.defaultVisit(e)},e.prototype.visitSimpleArrowFunctionExpression=function(e){return this.defaultVisit(e)},e.prototype.visitParenthesizedArrowFunctionExpression=function(e){return this.defaultVisit(e)},e.prototype.visitQualifiedName=function(e){return this.defaultVisit(e)},e.prototype.visitTypeArgumentList=function(e){return this.defaultVisit(e)},e.prototype.visitConstructorType=function(e){return this.defaultVisit(e)},e.prototype.visitFunctionType=function(e){return this.defaultVisit(e)},e.prototype.visitObjectType=function(e){return this.defaultVisit(e)},e.prototype.visitArrayType=function(e){return this.defaultVisit(e)},e.prototype.visitGenericType=function(e){return this.defaultVisit(e)},e.prototype.visitTypeAnnotation=function(e){return this.defaultVisit(e)},e.prototype.visitBlock=function(e){return this.defaultVisit(e)},e.prototype.visitParameter=function(e){return this.defaultVisit(e)},e.prototype.visitMemberAccessExpression=function(e){return this.defaultVisit(e)},e.prototype.visitPostfixUnaryExpression=function(e){return this.defaultVisit(e)},e.prototype.visitElementAccessExpression=function(e){return this.defaultVisit(e)},e.prototype.visitInvocationExpression=function(e){return this.defaultVisit(e)},e.prototype.visitArgumentList=function(e){return this.defaultVisit(e)},e.prototype.visitBinaryExpression=function(e){return this.defaultVisit(e)},e.prototype.visitConditionalExpression=function(e){return this.defaultVisit(e)},e.prototype.visitConstructSignature=function(e){return this.defaultVisit(e)},e.prototype.visitMethodSignature=function(e){return this.defaultVisit(e)},e.prototype.visitIndexSignature=function(e){return this.defaultVisit(e)},e.prototype.visitPropertySignature=function(e){return this.defaultVisit(e)},e.prototype.visitCallSignature=function(e){return this.defaultVisit(e)},e.prototype.visitParameterList=function(e){return this.defaultVisit(e)},e.prototype.visitTypeParameterList=function(e){return this.defaultVisit(e)},e.prototype.visitTypeParameter=function(e){return this.defaultVisit(e)},e.prototype.visitConstraint=function(e){return this.defaultVisit(e)},e.prototype.visitElseClause=function(e){return this.defaultVisit(e)},e.prototype.visitIfStatement=function(e){return this.defaultVisit(e)},e.prototype.visitExpressionStatement=function(e){return this.defaultVisit(e)},e.prototype.visitConstructorDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitMemberFunctionDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitGetMemberAccessorDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitSetMemberAccessorDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitMemberVariableDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitThrowStatement=function(e){return this.defaultVisit(e)},e.prototype.visitReturnStatement=function(e){return this.defaultVisit(e)},e.prototype.visitObjectCreationExpression=function(e){return this.defaultVisit(e)},e.prototype.visitSwitchStatement=function(e){return this.defaultVisit(e)},e.prototype.visitCaseSwitchClause=function(e){return this.defaultVisit(e)},e.prototype.visitDefaultSwitchClause=function(e){return this.defaultVisit(e)},e.prototype.visitBreakStatement=function(e){return this.defaultVisit(e)},e.prototype.visitContinueStatement=function(e){return this.defaultVisit(e)},e.prototype.visitForStatement=function(e){return this.defaultVisit(e)},e.prototype.visitForInStatement=function(e){return this.defaultVisit(e)},e.prototype.visitWhileStatement=function(e){return this.defaultVisit(e)},e.prototype.visitWithStatement=function(e){return this.defaultVisit(e)},e.prototype.visitEnumDeclaration=function(e){return this.defaultVisit(e)},e.prototype.visitEnumElement=function(e){return this.defaultVisit(e)},e.prototype.visitCastExpression=function(e){return this.defaultVisit(e)},e.prototype.visitObjectLiteralExpression=function(e){return this.defaultVisit(e)},e.prototype.visitSimplePropertyAssignment=function(e){return this.defaultVisit(e)},e.prototype.visitFunctionPropertyAssignment=function(e){return this.defaultVisit(e)},e.prototype.visitGetAccessorPropertyAssignment=function(e){return this.defaultVisit(e)},e.prototype.visitSetAccessorPropertyAssignment=function(e){return this.defaultVisit(e)},e.prototype.visitFunctionExpression=function(e){return this.defaultVisit(e)},e.prototype.visitEmptyStatement=function(e){return this.defaultVisit(e)},e.prototype.visitTryStatement=function(e){return this.defaultVisit(e)},e.prototype.visitCatchClause=function(e){return this.defaultVisit(e)},e.prototype.visitFinallyClause=function(e){return this.defaultVisit(e)},e.prototype.visitLabeledStatement=function(e){return this.defaultVisit(e)},e.prototype.visitDoStatement=function(e){return this.defaultVisit(e)},e.prototype.visitTypeOfExpression=function(e){return this.defaultVisit(e)},e.prototype.visitDeleteExpression=function(e){return this.defaultVisit(e)},e.prototype.visitVoidExpression=function(e){return this.defaultVisit(e)},e.prototype.visitDebuggerStatement=function(e){return this.defaultVisit(e)},e}();e.SyntaxVisitor=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.prototype.visitToken=function(e){},e.prototype.visitNode=function(e){e.accept(this)},e.prototype.visitNodeOrToken=function(e){e.isToken()?this.visitToken(e):this.visitNode(e)},e.prototype.visitOptionalToken=function(e){if(e===null)return;this.visitToken(e)},e.prototype.visitOptionalNode=function(e){if(e===null)return;this.visitNode(e)},e.prototype.visitOptionalNodeOrToken=function(e){if(e===null)return;this.visitNodeOrToken(e)},e.prototype.visitList=function(e){for(var t=0,n=e.childCount();t<n;t++)this.visitNodeOrToken(e.childAt(t))},e.prototype.visitSeparatedList=function(e){for(var t=0,n=e.childCount();t<n;t++){var r=e.childAt(t);this.visitNodeOrToken(r)}},e.prototype.visitSourceUnit=function(e){this.visitList(e.moduleElements),this.visitToken(e.endOfFileToken)},e.prototype.visitExternalModuleReference=function(e){this.visitToken(e.moduleOrRequireKeyword),this.visitToken(e.openParenToken),this.visitToken(e.stringLiteral),this.visitToken(e.closeParenToken)},e.prototype.visitModuleNameModuleReference=function(e){this.visitNodeOrToken(e.moduleName)},e.prototype.visitImportDeclaration=function(e){this.visitToken(e.importKeyword),this.visitToken(e.identifier),this.visitToken(e.equalsToken),this.visitNode(e.moduleReference),this.visitToken(e.semicolonToken)},e.prototype.visitExportAssignment=function(e){this.visitToken(e.exportKeyword),this.visitToken(e.equalsToken),this.visitToken(e.identifier),this.visitToken(e.semicolonToken)},e.prototype.visitClassDeclaration=function(e){this.visitList(e.modifiers),this.visitToken(e.classKeyword),this.visitToken(e.identifier),this.visitOptionalNode(e.typeParameterList),this.visitList(e.heritageClauses),this.visitToken(e.openBraceToken),this.visitList(e.classElements),this.visitToken(e.closeBraceToken)},e.prototype.visitInterfaceDeclaration=function(e){this.visitList(e.modifiers),this.visitToken(e.interfaceKeyword),this.visitToken(e.identifier),this.visitOptionalNode(e.typeParameterList),this.visitList(e.heritageClauses),this.visitNode(e.body)},e.prototype.visitHeritageClause=function(e){this.visitToken(e.extendsOrImplementsKeyword),this.visitSeparatedList(e.typeNames)},e.prototype.visitModuleDeclaration=function(e){this.visitList(e.modifiers),this.visitToken(e.moduleKeyword),this.visitOptionalNodeOrToken(e.moduleName),this.visitOptionalToken(e.stringLiteral),this.visitToken(e.openBraceToken),this.visitList(e.moduleElements),this.visitToken(e.closeBraceToken)},e.prototype.visitFunctionDeclaration=function(e){this.visitList(e.modifiers),this.visitToken(e.functionKeyword),this.visitToken(e.identifier),this.visitNode(e.callSignature),this.visitOptionalNode(e.block),this.visitOptionalToken(e.semicolonToken)},e.prototype.visitVariableStatement=function(e){this.visitList(e.modifiers),this.visitNode(e.variableDeclaration),this.visitToken(e.semicolonToken)},e.prototype.visitVariableDeclaration=function(e){this.visitToken(e.varKeyword),this.visitSeparatedList(e.variableDeclarators)},e.prototype.visitVariableDeclarator=function(e){this.visitToken(e.identifier),this.visitOptionalNode(e.typeAnnotation),this.visitOptionalNode(e.equalsValueClause)},e.prototype.visitEqualsValueClause=function(e){this.visitToken(e.equalsToken),this.visitNodeOrToken(e.value)},e.prototype.visitPrefixUnaryExpression=function(e){this.visitToken(e.operatorToken),this.visitNodeOrToken(e.operand)},e.prototype.visitArrayLiteralExpression=function(e){this.visitToken(e.openBracketToken),this.visitSeparatedList(e.expressions),this.visitToken(e.closeBracketToken)},e.prototype.visitOmittedExpression=function(e){},e.prototype.visitParenthesizedExpression=function(e){this.visitToken(e.openParenToken),this.visitNodeOrToken(e.expression),this.visitToken(e.closeParenToken)},e.prototype.visitSimpleArrowFunctionExpression=function(e){this.visitToken(e.identifier),this.visitToken(e.equalsGreaterThanToken),this.visitNodeOrToken(e.body)},e.prototype.visitParenthesizedArrowFunctionExpression=function(e){this.visitNode(e.callSignature),this.visitToken(e.equalsGreaterThanToken),this.visitNodeOrToken(e.body)},e.prototype.visitQualifiedName=function(e){this.visitNodeOrToken(e.left),this.visitToken(e.dotToken),this.visitToken(e.right)},e.prototype.visitTypeArgumentList=function(e){this.visitToken(e.lessThanToken),this.visitSeparatedList(e.typeArguments),this.visitToken(e.greaterThanToken)},e.prototype.visitConstructorType=function(e){this.visitToken(e.newKeyword),this.visitOptionalNode(e.typeParameterList),this.visitNode(e.parameterList),this.visitToken(e.equalsGreaterThanToken),this.visitNodeOrToken(e.type)},e.prototype.visitFunctionType=function(e){this.visitOptionalNode(e.typeParameterList),this.visitNode(e.parameterList),this.visitToken(e.equalsGreaterThanToken),this.visitNodeOrToken(e.type)},e.prototype.visitObjectType=function(e){this.visitToken(e.openBraceToken),this.visitSeparatedList(e.typeMembers),this.visitToken(e.closeBraceToken)},e.prototype.visitArrayType=function(e){this.visitNodeOrToken(e.type),this.visitToken(e.openBracketToken),this.visitToken(e.closeBracketToken)},e.prototype.visitGenericType=function(e){this.visitNodeOrToken(e.name),this.visitNode(e.typeArgumentList)},e.prototype.visitTypeAnnotation=function(e){this.visitToken(e.colonToken),this.visitNodeOrToken(e.type)},e.prototype.visitBlock=function(e){this.visitToken(e.openBraceToken),this.visitList(e.statements),this.visitToken(e.closeBraceToken)},e.prototype.visitParameter=function(e){this.visitOptionalToken(e.dotDotDotToken),this.visitOptionalToken(e.publicOrPrivateKeyword),this.visitToken(e.identifier),this.visitOptionalToken(e.questionToken),this.visitOptionalNode(e.typeAnnotation),this.visitOptionalNode(e.equalsValueClause)},e.prototype.visitMemberAccessExpression=function(e){this.visitNodeOrToken(e.expression),this.visitToken(e.dotToken),this.visitToken(e.name)},e.prototype.visitPostfixUnaryExpression=function(e){this.visitNodeOrToken(e.operand),this.visitToken(e.operatorToken)},e.prototype.visitElementAccessExpression=function(e){this.visitNodeOrToken(e.expression),this.visitToken(e.openBracketToken),this.visitNodeOrToken(e.argumentExpression),this.visitToken(e.closeBracketToken)},e.prototype.visitInvocationExpression=function(e){this.visitNodeOrToken(e.expression),this.visitNode(e.argumentList)},e.prototype.visitArgumentList=function(e){this.visitOptionalNode(e.typeArgumentList),this.visitToken(e.openParenToken),this.visitSeparatedList(e.arguments),this.visitToken(e.closeParenToken)},e.prototype.visitBinaryExpression=function(e){this.visitNodeOrToken(e.left),this.visitToken(e.operatorToken),this.visitNodeOrToken(e.right)},e.prototype.visitConditionalExpression=function(e){this.visitNodeOrToken(e.condition),this.visitToken(e.questionToken),this.visitNodeOrToken(e.whenTrue),this.visitToken(e.colonToken),this.visitNodeOrToken(e.whenFalse)},e.prototype.visitConstructSignature=function(e){this.visitToken(e.newKeyword),this.visitNode(e.callSignature)},e.prototype.visitMethodSignature=function(e){this.visitToken(e.propertyName),this.visitOptionalToken(e.questionToken),this.visitNode(e.callSignature)},e.prototype.visitIndexSignature=function(e){this.visitToken(e.openBracketToken),this.visitNode(e.parameter),this.visitToken(e.closeBracketToken),this.visitOptionalNode(e.typeAnnotation)},e.prototype.visitPropertySignature=function(e){this.visitToken(e.propertyName),this.visitOptionalToken(e.questionToken),this.visitOptionalNode(e.typeAnnotation)},e.prototype.visitCallSignature=function(e){this.visitOptionalNode
(e.typeParameterList),this.visitNode(e.parameterList),this.visitOptionalNode(e.typeAnnotation)},e.prototype.visitParameterList=function(e){this.visitToken(e.openParenToken),this.visitSeparatedList(e.parameters),this.visitToken(e.closeParenToken)},e.prototype.visitTypeParameterList=function(e){this.visitToken(e.lessThanToken),this.visitSeparatedList(e.typeParameters),this.visitToken(e.greaterThanToken)},e.prototype.visitTypeParameter=function(e){this.visitToken(e.identifier),this.visitOptionalNode(e.constraint)},e.prototype.visitConstraint=function(e){this.visitToken(e.extendsKeyword),this.visitNodeOrToken(e.type)},e.prototype.visitElseClause=function(e){this.visitToken(e.elseKeyword),this.visitNodeOrToken(e.statement)},e.prototype.visitIfStatement=function(e){this.visitToken(e.ifKeyword),this.visitToken(e.openParenToken),this.visitNodeOrToken(e.condition),this.visitToken(e.closeParenToken),this.visitNodeOrToken(e.statement),this.visitOptionalNode(e.elseClause)},e.prototype.visitExpressionStatement=function(e){this.visitNodeOrToken(e.expression),this.visitToken(e.semicolonToken)},e.prototype.visitConstructorDeclaration=function(e){this.visitToken(e.constructorKeyword),this.visitNode(e.parameterList),this.visitOptionalNode(e.block),this.visitOptionalToken(e.semicolonToken)},e.prototype.visitMemberFunctionDeclaration=function(e){this.visitList(e.modifiers),this.visitToken(e.propertyName),this.visitNode(e.callSignature),this.visitOptionalNode(e.block),this.visitOptionalToken(e.semicolonToken)},e.prototype.visitGetMemberAccessorDeclaration=function(e){this.visitList(e.modifiers),this.visitToken(e.getKeyword),this.visitToken(e.propertyName),this.visitNode(e.parameterList),this.visitOptionalNode(e.typeAnnotation),this.visitNode(e.block)},e.prototype.visitSetMemberAccessorDeclaration=function(e){this.visitList(e.modifiers),this.visitToken(e.setKeyword),this.visitToken(e.propertyName),this.visitNode(e.parameterList),this.visitNode(e.block)},e.prototype.visitMemberVariableDeclaration=function(e){this.visitList(e.modifiers),this.visitNode(e.variableDeclarator),this.visitToken(e.semicolonToken)},e.prototype.visitThrowStatement=function(e){this.visitToken(e.throwKeyword),this.visitNodeOrToken(e.expression),this.visitToken(e.semicolonToken)},e.prototype.visitReturnStatement=function(e){this.visitToken(e.returnKeyword),this.visitOptionalNodeOrToken(e.expression),this.visitToken(e.semicolonToken)},e.prototype.visitObjectCreationExpression=function(e){this.visitToken(e.newKeyword),this.visitNodeOrToken(e.expression),this.visitOptionalNode(e.argumentList)},e.prototype.visitSwitchStatement=function(e){this.visitToken(e.switchKeyword),this.visitToken(e.openParenToken),this.visitNodeOrToken(e.expression),this.visitToken(e.closeParenToken),this.visitToken(e.openBraceToken),this.visitList(e.switchClauses),this.visitToken(e.closeBraceToken)},e.prototype.visitCaseSwitchClause=function(e){this.visitToken(e.caseKeyword),this.visitNodeOrToken(e.expression),this.visitToken(e.colonToken),this.visitList(e.statements)},e.prototype.visitDefaultSwitchClause=function(e){this.visitToken(e.defaultKeyword),this.visitToken(e.colonToken),this.visitList(e.statements)},e.prototype.visitBreakStatement=function(e){this.visitToken(e.breakKeyword),this.visitOptionalToken(e.identifier),this.visitToken(e.semicolonToken)},e.prototype.visitContinueStatement=function(e){this.visitToken(e.continueKeyword),this.visitOptionalToken(e.identifier),this.visitToken(e.semicolonToken)},e.prototype.visitForStatement=function(e){this.visitToken(e.forKeyword),this.visitToken(e.openParenToken),this.visitOptionalNode(e.variableDeclaration),this.visitOptionalNodeOrToken(e.initializer),this.visitToken(e.firstSemicolonToken),this.visitOptionalNodeOrToken(e.condition),this.visitToken(e.secondSemicolonToken),this.visitOptionalNodeOrToken(e.incrementor),this.visitToken(e.closeParenToken),this.visitNodeOrToken(e.statement)},e.prototype.visitForInStatement=function(e){this.visitToken(e.forKeyword),this.visitToken(e.openParenToken),this.visitOptionalNode(e.variableDeclaration),this.visitOptionalNodeOrToken(e.left),this.visitToken(e.inKeyword),this.visitNodeOrToken(e.expression),this.visitToken(e.closeParenToken),this.visitNodeOrToken(e.statement)},e.prototype.visitWhileStatement=function(e){this.visitToken(e.whileKeyword),this.visitToken(e.openParenToken),this.visitNodeOrToken(e.condition),this.visitToken(e.closeParenToken),this.visitNodeOrToken(e.statement)},e.prototype.visitWithStatement=function(e){this.visitToken(e.withKeyword),this.visitToken(e.openParenToken),this.visitNodeOrToken(e.condition),this.visitToken(e.closeParenToken),this.visitNodeOrToken(e.statement)},e.prototype.visitEnumDeclaration=function(e){this.visitList(e.modifiers),this.visitToken(e.enumKeyword),this.visitToken(e.identifier),this.visitToken(e.openBraceToken),this.visitSeparatedList(e.enumElements),this.visitToken(e.closeBraceToken)},e.prototype.visitEnumElement=function(e){this.visitToken(e.propertyName),this.visitOptionalNode(e.equalsValueClause)},e.prototype.visitCastExpression=function(e){this.visitToken(e.lessThanToken),this.visitNodeOrToken(e.type),this.visitToken(e.greaterThanToken),this.visitNodeOrToken(e.expression)},e.prototype.visitObjectLiteralExpression=function(e){this.visitToken(e.openBraceToken),this.visitSeparatedList(e.propertyAssignments),this.visitToken(e.closeBraceToken)},e.prototype.visitSimplePropertyAssignment=function(e){this.visitToken(e.propertyName),this.visitToken(e.colonToken),this.visitNodeOrToken(e.expression)},e.prototype.visitFunctionPropertyAssignment=function(e){this.visitToken(e.propertyName),this.visitNode(e.callSignature),this.visitNode(e.block)},e.prototype.visitGetAccessorPropertyAssignment=function(e){this.visitToken(e.getKeyword),this.visitToken(e.propertyName),this.visitToken(e.openParenToken),this.visitToken(e.closeParenToken),this.visitOptionalNode(e.typeAnnotation),this.visitNode(e.block)},e.prototype.visitSetAccessorPropertyAssignment=function(e){this.visitToken(e.setKeyword),this.visitToken(e.propertyName),this.visitToken(e.openParenToken),this.visitNode(e.parameter),this.visitToken(e.closeParenToken),this.visitNode(e.block)},e.prototype.visitFunctionExpression=function(e){this.visitToken(e.functionKeyword),this.visitOptionalToken(e.identifier),this.visitNode(e.callSignature),this.visitNode(e.block)},e.prototype.visitEmptyStatement=function(e){this.visitToken(e.semicolonToken)},e.prototype.visitTryStatement=function(e){this.visitToken(e.tryKeyword),this.visitNode(e.block),this.visitOptionalNode(e.catchClause),this.visitOptionalNode(e.finallyClause)},e.prototype.visitCatchClause=function(e){this.visitToken(e.catchKeyword),this.visitToken(e.openParenToken),this.visitToken(e.identifier),this.visitOptionalNode(e.typeAnnotation),this.visitToken(e.closeParenToken),this.visitNode(e.block)},e.prototype.visitFinallyClause=function(e){this.visitToken(e.finallyKeyword),this.visitNode(e.block)},e.prototype.visitLabeledStatement=function(e){this.visitToken(e.identifier),this.visitToken(e.colonToken),this.visitNodeOrToken(e.statement)},e.prototype.visitDoStatement=function(e){this.visitToken(e.doKeyword),this.visitNodeOrToken(e.statement),this.visitToken(e.whileKeyword),this.visitToken(e.openParenToken),this.visitNodeOrToken(e.condition),this.visitToken(e.closeParenToken),this.visitToken(e.semicolonToken)},e.prototype.visitTypeOfExpression=function(e){this.visitToken(e.typeOfKeyword),this.visitNodeOrToken(e.expression)},e.prototype.visitDeleteExpression=function(e){this.visitToken(e.deleteKeyword),this.visitNodeOrToken(e.expression)},e.prototype.visitVoidExpression=function(e){this.visitToken(e.voidKeyword),this.visitNodeOrToken(e.expression)},e.prototype.visitDebuggerStatement=function(e){this.visitToken(e.debuggerKeyword),this.visitToken(e.semicolonToken)},e}();e.SyntaxWalker=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(e){function t(){e.apply(this,arguments),this._position=0}return __extends(t,e),t.prototype.visitToken=function(e){this._position+=e.fullWidth()},t.prototype.position=function(){return this._position},t.prototype.skip=function(e){this._position+=e.fullWidth()},t}(e.SyntaxWalker);e.PositionTrackingWalker=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(t){function n(n,r){t.call(this),this.trackParents=n,this.trackPreviousToken=r,this.tokenToInformation=e.Collections.createHashTable(e.Collections.DefaultHashTableCapacity,e.Collections.identityHashCode),this.elementToPosition=e.Collections.createHashTable(e.Collections.DefaultHashTableCapacity,e.Collections.identityHashCode),this._previousToken=null,this._previousTokenInformation=null,this._currentPosition=0,this._elementToParent=e.Collections.createHashTable(e.Collections.DefaultHashTableCapacity,e.Collections.identityHashCode),this._parentStack=[],this._parentStack.push(null)}return __extends(n,t),n.create=function(e,t,r){var i=new n(t,r);return i.visitNode(e),i},n.prototype.visitNode=function(n){this.trackParents&&this._elementToParent.add(n,e.ArrayUtilities.last(this._parentStack)),this.elementToPosition.add(n,this._currentPosition),this.trackParents&&this._parentStack.push(n),t.prototype.visitNode.call(this,n),this.trackParents&&this._parentStack.pop()},n.prototype.visitToken=function(t){this.trackParents&&this._elementToParent.add(t,e.ArrayUtilities.last(this._parentStack));if(this.trackPreviousToken){var n={previousToken:this._previousToken,nextToken:null};this._previousTokenInformation!==null&&(this._previousTokenInformation.nextToken=t),this._previousToken=t,this._previousTokenInformation=n,this.tokenToInformation.add(t,n)}this.elementToPosition.add(t,this._currentPosition),this._currentPosition+=t.fullWidth()},n.prototype.parent=function(e){return this._elementToParent.get(e)},n.prototype.fullStart=function(e){return this.elementToPosition.get(e)},n.prototype.start=function(e){return this.fullStart(e)+e.leadingTriviaWidth()},n.prototype.end=function(e){return this.start(e)+e.width()},n.prototype.previousToken=function(e){return this.tokenInformation(e).previousToken},n.prototype.tokenInformation=function(e){return this.tokenToInformation.get(e)},n.prototype.firstTokenInLineContainingToken=function(e){var t=e;for(;;){var n=this.tokenInformation(t);if(this.isFirstTokenInLineWorker(n))break;t=n.previousToken}return t},n.prototype.isFirstTokenInLine=function(e){var t=this.tokenInformation(e);return this.isFirstTokenInLineWorker(t)},n.prototype.isFirstTokenInLineWorker=function(e){return e.previousToken===null||e.previousToken.hasTrailingNewLine()},n}(e.SyntaxWalker);e.SyntaxInformationMap=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(t){function n(){t.apply(this,arguments),this.tokenTable=e.Collections.createHashTable(e.Collections.DefaultHashTableCapacity,e.Collections.identityHashCode)}return __extends(n,t),n.checkInvariants=function(e){e.accept(new n)},n.prototype.visitToken=function(e){this.tokenTable.add(e,e)},n}(e.SyntaxWalker);e.SyntaxNodeInvariantsChecker=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(e){function t(t){e.call(this),this._depth=0,this._maximumDepth=0,this._maximumDepth=t}return __extends(t,e),t.prototype.visitNode=function(t){this._depth<this._maximumDepth?(this._depth++,e.prototype.visitNode.call(this,t),this._depth--):this.skip(t)},t}(e.PositionTrackingWalker);e.DepthLimitedWalker=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function a(e,t,n,r,i){var o=new s(e,t,r);return(new u(e,t.lineMap(),o,i)).parseSyntaxTree(n)}function f(e,t,n){if(t.isUnchanged())return e;var r=new o(e,t,n);return(new u(e.fileName(),n.lineMap(),r,e.parseOptions())).parseSyntaxTree(e.isDeclaration())}var n;(function(e){e[e.CommaExpressionPrecedence=1]="CommaExpressionPrecedence",e[e.AssignmentExpressionPrecedence=2]="AssignmentExpressionPrecedence",e[e.ConditionalExpressionPrecedence=3]="ConditionalExpressionPrecedence",e[e.ArrowFunctionPrecedence=4]="ArrowFunctionPrecedence",e[e.LogicalOrExpressionPrecedence=5]="LogicalOrExpressionPrecedence",e[e.LogicalAndExpressionPrecedence=6]="LogicalAndExpressionPrecedence",e[e.BitwiseOrExpressionPrecedence=7]="BitwiseOrExpressionPrecedence",e[e.BitwiseExclusiveOrExpressionPrecedence=8]="BitwiseExclusiveOrExpressionPrecedence",e[e.BitwiseAndExpressionPrecedence=9]="BitwiseAndExpressionPrecedence",e[e.EqualityExpressionPrecedence=10]="EqualityExpressionPrecedence",e[e.RelationalExpressionPrecedence=11]="RelationalExpressionPrecedence",e[e.ShiftExpressionPrecdence=12]="ShiftExpressionPrecdence",e[e.AdditiveExpressionPrecedence=13]="AdditiveExpressionPrecedence",e[e.MultiplicativeExpressionPrecedence=14]="MultiplicativeExpressionPrecedence",e[e.UnaryExpressionPrecedence=15]="UnaryExpressionPrecedence"})(n||(n={}));var r;(function(e){e[e.SourceUnit_ModuleElements=1]="SourceUnit_ModuleElements",e[e.ClassDeclaration_ClassElements=2]="ClassDeclaration_ClassElements",e[e.ModuleDeclaration_ModuleElements=4]="ModuleDeclaration_ModuleElements",e[e.SwitchStatement_SwitchClauses=8]="SwitchStatement_SwitchClauses",e[e.SwitchClause_Statements=16]="SwitchClause_Statements",e[e.Block_Statements=32]="Block_Statements",e[e.TryBlock_Statements=64]="TryBlock_Statements",e[e.CatchBlock_Statements=128]="CatchBlock_Statements",e[e.EnumDeclaration_EnumElements=256]="EnumDeclaration_EnumElements",e[e.ObjectType_TypeMembers=512]="ObjectType_TypeMembers",e[e.ClassOrInterfaceDeclaration_HeritageClauses=1024]="ClassOrInterfaceDeclaration_HeritageClauses",e[e.HeritageClause_TypeNameList=2048]="HeritageClause_TypeNameList",e[e.VariableDeclaration_VariableDeclarators_AllowIn=4096]="VariableDeclaration_VariableDeclarators_AllowIn",e[e.VariableDeclaration_VariableDeclarators_DisallowIn=8192]="VariableDeclaration_VariableDeclarators_DisallowIn",e[e.ArgumentList_AssignmentExpressions=16384]="ArgumentList_AssignmentExpressions",e[e.ObjectLiteralExpression_PropertyAssignments=32768]="ObjectLiteralExpression_PropertyAssignments",e[e.ArrayLiteralExpression_AssignmentExpressions=65536]="ArrayLiteralExpression_AssignmentExpressions",e[e.ParameterList_Parameters=1<<17]="ParameterList_Parameters",e[e.TypeArgumentList_Types=1<<18]="TypeArgumentList_Types",e[e.TypeParameterList_TypeParameters=1<<19]="TypeParameterList_TypeParameters",e[e.FirstListParsingState=e.SourceUnit_ModuleElements]="FirstListParsingState",e[e.LastListParsingState=e.TypeArgumentList_Types]="LastListParsingState"})(r||(r={}));var i=function(){function e(e){this._elements=[],this._index=0,this._pinCount=0,e.insertChildrenInto(this._elements,0)}return e.prototype.isFinished=function(){return this._index===this._elements.length},e.prototype.currentElement=function(){return this.isFinished()?null:this._elements[this._index]},e.prototype.currentNode=function(){var e=this.currentElement();return e!==null&&e.isNode()?e:null},e.prototype.moveToFirstChild=function(){if(this.isFinished())return;var e=this._elements[this._index];if(e.isToken())return;var t=e;this._elements.splice(this._index,1),t.insertChildrenInto(this._elements,this._index)},e.prototype.moveToNextSibling=function(){if(this.isFinished())return;if(this._pinCount>0){this._index++;return}this._elements.shift()},e.prototype.getAndPinCursorIndex=function(){return this._pinCount++,this._index},e.prototype.releaseAndUnpinCursorIndex=function(e){this._pinCount--,this._pinCount===0},e.prototype.rewindToPinnedCursorIndex=function(e){this._index=e},e.prototype.pinCount=function(){return this._pinCount},e.prototype.moveToFirstToken=function(){var e;while(!this.isFinished()){e=this.currentElement();if(e.isNode()){this.moveToFirstChild();continue}return}},e.prototype.currentToken=function(){this.moveToFirstToken();if(this.isFinished())return null;var e=this.currentElement();return e},e.prototype.peekToken=function(e){this.moveToFirstToken();var t=this.getAndPinCursorIndex();try{for(var n=0;n<e;n++)this.moveToNextSibling(),this.moveToFirstToken();return this.currentToken()}finally{this.rewindToPinnedCursorIndex(t),this.releaseAndUnpinCursorIndex(t)}},e}(),s=function(){function t(t,n,r){this._previousToken=null,this._absolutePosition=0,this._tokenDiagnostics=[],this.rewindPointPool=[],this.rewindPointPoolCount=0,this.slidingWindow=new e.SlidingWindow(this,e.ArrayUtilities.createArray(32,null),null),this.scanner=new e.Scanner(t,n,r)}return t.prototype.languageVersion=function(){return this.scanner.languageVersion()},t.prototype.currentNode=function(){return null},t.prototype.moveToNextNode=function(){throw e.Errors.invalidOperation()},t.prototype.absolutePosition=function(){return this._absolutePosition},t.prototype.previousToken=function(){return this._previousToken},t.prototype.tokenDiagnostics=function(){return this._tokenDiagnostics},t.prototype.getOrCreateRewindPoint=function(){if(this.rewindPointPoolCount===0)return{};this.rewindPointPoolCount--;var e=this.rewindPointPool[this.rewindPointPoolCount];return this.rewindPointPool[this.rewindPointPoolCount]=null,e},t.prototype.getRewindPoint=function(){var e=this.slidingWindow.getAndPinAbsoluteIndex(),t=this.getOrCreateRewindPoint();return t.slidingWindowIndex=e,t.previousToken=this._previousToken,t.absolutePosition=this._absolutePosition,t.pinCount=this.slidingWindow.pinCount(),t},t.prototype.isPinned=function(){return this.slidingWindow.pinCount()>0},t.prototype.rewind=function(e){this.slidingWindow.rewindToPinnedIndex(e.slidingWindowIndex),this._previousToken=e.previousToken,this._absolutePosition=e.absolutePosition},t.prototype.releaseRewindPoint=function(e){this.slidingWindow.releaseAndUnpinAbsoluteIndex(e.absoluteIndex),this.rewindPointPool[this.rewindPointPoolCount]=e,this.rewindPointPoolCount++},t.prototype.fetchMoreItems=function(e,t,n,r,i){return n[r]=this.scanner.scan(this._tokenDiagnostics,e),1},t.prototype.peekToken=function(e){return this.slidingWindow.peekItemN(e)},t.prototype.moveToNextToken=function(){var e=this.currentToken();this._absolutePosition+=e.fullWidth(),this._previousToken=e,this.slidingWindow.moveToNextItem()},t.prototype.currentToken=function(){return this.slidingWindow.currentItem(!1)},t.prototype.removeDiagnosticsOnOrAfterPosition=function(e){var t=this._tokenDiagnostics.length;while(t>0){var n=this._tokenDiagnostics[t-1];if(!(n.start()>=e))break;t--}this._tokenDiagnostics.length=t},t.prototype.resetToPosition=function(e,t){this._absolutePosition=e,this._previousToken=t,this.removeDiagnosticsOnOrAfterPosition(e),this.slidingWindow.disgardAllItemsFromCurrentIndexOnwards(),this.scanner.setAbsoluteIndex(e)},t.prototype.currentTokenAllowingRegularExpression=function(){this.resetToPosition(this._absolutePosition,this._previousToken);var e=this.slidingWindow.currentItem(!0);return e},t}(),o=function(){function t(e,n,r){this._changeDelta=0;var o=e.sourceUnit();this._oldSourceUnitCursor=new i(o),this._changeRange=t.extendToAffectedRange(n,o),this._normalParserSource=new s(e.fileName(),r,e.languageVersion())}return t.extendToAffectedRange=function(t,n){var r=1,i=t.span().start();for(var s=0;i>0&&s<=r;s++){var o=n.findToken(i),u=o.fullStart();i=e.MathPrototype.max(0,u-1)}var a=e.TextSpan.fromBounds(i,t.span().end()),f=t.newLength()+(t.span().start()-i);return new e.TextChangeRange(a,f)},t.prototype.languageVersion=function(){return this._normalParserSource.languageVersion()},t.prototype.absolutePosition=function(){return this._normalParserSource.absolutePosition()},t.prototype.previousToken=function(){return this._normalParserSource.previousToken()},t.prototype.tokenDiagnostics=function(){return this._normalParserSource.tokenDiagnostics()},t.prototype.getRewindPoint=function(){var e=this._normalParserSource.getRewindPoint(),t=this._oldSourceUnitCursor.getAndPinCursorIndex();return e.changeDelta=this._changeDelta,e.changeRange=this._changeRange,e.oldSourceUnitCursorIndex=t,e},t.prototype.rewind=function(e){this._changeRange=e.changeRange,this._changeDelta=e.changeDelta,this._oldSourceUnitCursor.rewindToPinnedCursorIndex(e.oldSourceUnitCursorIndex),this._normalParserSource.rewind(e)},t.prototype.releaseRewindPoint=function(e){this._oldSourceUnitCursor.releaseAndUnpinCursorIndex(e.oldSourceUnitCursorIndex),this._normalParserSource.releaseRewindPoint(e)},t.prototype.canReadFromOldSourceUnit=function(){return this._normalParserSource.isPinned()?!1:this._changeRange!==null&&this._changeRange.newSpan().intersectsWithPosition(this.absolutePosition())?!1:(this.syncCursorToNewTextIfBehind(),this._changeDelta===0&&!this._oldSourceUnitCursor.isFinished())},t.prototype.currentNode=function(){return this.canReadFromOldSourceUnit()?this.tryGetNodeFromOldSourceUnit():null},t.prototype.currentToken=function(){if(this.canReadFromOldSourceUnit()){var e=this.tryGetTokenFromOldSourceUnit();if(e!==null)return e}return this._normalParserSource.currentToken()},t.prototype.currentTokenAllowingRegularExpression=function(){return this._normalParserSource.currentTokenAllowingRegularExpression()},t.prototype.syncCursorToNewTextIfBehind=function(){for(;;){if(this._oldSourceUnitCursor.isFinished())break;if(this._changeDelta>=0)break;var e=this._oldSourceUnitCursor.currentElement();e.isNode()&&e.fullWidth()>Math.abs(this._changeDelta)?this._oldSourceUnitCursor.moveToFirstChild():(this._oldSourceUnitCursor.moveToNextSibling(),this._changeDelta+=e.fullWidth())}},t.prototype.intersectsWithChangeRangeSpanInOriginalText=function(e,t){return this._changeRange!==null&&this._changeRange.span().intersectsWith(e,t)},t.prototype.tryGetNodeFromOldSourceUnit=function(){for(;;){var e=this._oldSourceUnitCursor.currentNode();if(e===null)return null;if(!this.intersectsWithChangeRangeSpanInOriginalText(this.absolutePosition(),e.fullWidth())&&!e.isIncrementallyUnusable())return e;this._oldSourceUnitCursor.moveToFirstChild()}},t.prototype.canReuseTokenFromOldSourceUnit=function(e,t){return t!==null&&!this.intersectsWithChangeRangeSpanInOriginalText(e,t.fullWidth())&&!t.isIncrementallyUnusable()?!0:!1},t.prototype.tryGetTokenFromOldSourceUnit=function(){var e=this._oldSourceUnitCursor.currentToken();return this.canReuseTokenFromOldSourceUnit(this.absolutePosition(),e)?e:null},t.prototype.peekToken=function(e){if(this.canReadFromOldSourceUnit()){var t=this.tryPeekTokenFromOldSourceUnit(e);if(t!==null)return t}return this._normalParserSource.peekToken(e)},t.prototype.tryPeekTokenFromOldSourceUnit=function(e){var t=this.absolutePosition();for(var n=0;n<e;n++){var r=this._oldSourceUnitCursor.peekToken(n);if(!this.canReuseTokenFromOldSourceUnit(t,r))return null;t+=r.fullWidth()}var i=this._oldSourceUnitCursor.peekToken(e);return this.canReuseTokenFromOldSourceUnit(t,i)?i:null},t.prototype.moveToNextNode=function(){var e=this._oldSourceUnitCursor.currentElement(),t=this._oldSourceUnitCursor.currentNode();this._oldSourceUnitCursor.moveToNextSibling();var n=this.absolutePosition()+t.fullWidth(),r=t.lastToken();this._normalParserSource.resetToPosition(n,r),this._changeRange!==null},t.prototype.moveToNextToken=function(){var e=this.currentToken();if(this._oldSourceUnitCursor.currentToken()===e){this._oldSourceUnitCursor.moveToNextSibling();var t=this.absolutePosition()+e.fullWidth(),n=e;this._normalParserSource.resetToPosition(t,n),this._changeRange!==null}else{this._changeDelta-=e.fullWidth(),this._normalParserSource.moveToNextToken();if(this._changeRange!==null){var r=this._changeRange.newSpan();this.absolutePosition()>=r.end()&&(this._changeDelta+=this._changeRange.newLength()-this._changeRange.span().length(),this._changeRange=null)}}},t}(),u=function(){function t(t,n,r,i){this.listParsingState=0,this.isInStrictMode=!1,this.diagnostics=[],this.factory=e.Syntax.normalModeFactory,this.mergeTokensStorage=[],this.arrayPool=[],this.fileName=t,this.lineMap=n,this.source=r,this.parseOptions=i}return t.prototype.getRewindPoint=function(){var e=this.source.getRewindPoint();return e.diagnosticsCount=this.diagnostics.length,e.isInStrictMode=this.isInStrictMode,e.listParsingState=this.listParsingState,e},t.prototype.rewind=function(e){this.source.rewind(e),this.diagnostics.length=e.diagnosticsCount},t.prototype.releaseRewindPoint=function(e){this.source.releaseRewindPoint(e)},t.prototype.currentTokenStart=function(){return this.source.absolutePosition()+this.currentToken().leadingTriviaWidth()},t.prototype.previousTokenStart=function(){return this.previousToken()===null?0:this.source.absolutePosition()-this.previousToken().fullWidth()+this.previousToken().leadingTriviaWidth()},t.prototype.previousTokenEnd=function(){return this.previousToken()===null?0:this.previousTokenStart()+this.previousToken().width()},t.prototype.currentNode=function(){var e=this.source.currentNode();return e===null||e.parsedInStrictMode()!==this.isInStrictMode?null:e},t.prototype.currentToken=function(){return this.source.currentToken()},t.prototype.currentTokenAllowingRegularExpression=function(){return this.source.currentTokenAllowingRegularExpression()},t.prototype.peekToken=function(e){return this.source.peekToken(e)},t.prototype.eatAnyToken=function(){var e=this.currentToken();return this.moveToNextToken(),e},t.prototype.moveToNextToken=function(){this.source.moveToNextToken()},t.prototype.previousToken=function(){return this.source.previousToken()},t.prototype.eatNode=function(){var e=this.source.currentNode();return this.source.moveToNextNode(),e},t.prototype.eatToken=function(e){var t=this.currentToken();return t.tokenKind===e?(this.moveToNextToken(),t):this.createMissingToken(e,t)},t.prototype.tryEatToken=function(e){return this.currentToken().tokenKind===e?this.eatToken(e):null},t.prototype.tryEatKeyword=function(e){return this.currentToken().tokenKind===e?this.eatKeyword(e):null},t.prototype.eatKeyword=function(e){var t=this.currentToken();return t.tokenKind===e?(this.moveToNextToken(),t):this.createMissingToken(e,t)},t.prototype.isIdentifier=function(e){var t=e.tokenKind;return t===11?!0:t>=51?t<=59?!this.isInStrictMode:t<=70:!1},t.prototype.eatIdentifierNameToken=function(){var t=this.currentToken();return t.tokenKind===11?(this.moveToNextToken(),t):e.SyntaxFacts.isAnyKeyword(t.tokenKind)?(this.moveToNextToken(),e.Syntax.convertToIdentifierName(t)):this.createMissingToken(11,t)},t.prototype.eatIdentifierToken=function(){var t=this.currentToken();return this.isIdentifier(t)?(this.moveToNextToken(),t.tokenKind===11?t:e.Syntax.convertToIdentifierName(t)):this.createMissingToken(11,t)},t.prototype.canEatAutomaticSemicolon=function(e){var t=this.currentToken();return t.tokenKind===10?!0:t.tokenKind===72?!0:e?!0:this.previousToken()!==null&&this.previousToken().hasTrailingNewLine()?!0:!1},t.prototype.canEatExplicitOrAutomaticSemicolon=function(e){var t=this.currentToken();return t.tokenKind===79?!0:this.canEatAutomaticSemicolon(e)},t.prototype.eatExplicitOrAutomaticSemicolon=function(t){var n=this.currentToken();if(n.tokenKind===79)return this.eatToken(79);if(this.canEatAutomaticSemicolon(t)){var r=e.Syntax.emptyToken(79);return this.parseOptions.allowAutomaticSemicolonInsertion()||this.addDiagnostic(new e.SyntaxDiagnostic(this.fileName,this.previousTokenEnd(),0,12,null)),r}return this.eatToken(79)},t.prototype.isKeyword=function(t){if(t>=e.SyntaxKind.FirstKeyword){if(t<=50)return!0;if(this.isInStrictMode)return t<=59}return!1},t.prototype.createMissingToken=function(t,n){var r=this.getExpectedTokenDiagnostic(t,n);return this.addDiagnostic(r),e.Syntax.emptyToken(t)},t.prototype.getExpectedTokenDiagnostic=function(t,n){var r=this.currentToken();return e.SyntaxFacts.isAnyKeyword(t)||e.SyntaxFacts.isAnyPunctuation(t)?new e.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),r.width(),10,[e.SyntaxFacts.getText(t)]):n!==null&&e.SyntaxFacts.isAnyKeyword(n.tokenKind)?new e.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),r.width(),11,[e.SyntaxFacts.getText(n.tokenKind)]):new e.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),r.width(),8,null)},t.getPrecedence=function(t){switch(t){case 172:return 1;case 173:case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:return 2;case 185:return 3;case 186:return 5;case 187:return 6;case 188:return 7;case 189:return 8;case 190:return 9;case 191:case 192:case 193:case 194:return 10;case 195:case 196:case 197:case 198:case 199:case 200:return 11;case 201:case 202:case 203:return 12;case 207:case 208:return 13;case 204:case 205:case 206:return 14;case 163:case 164:case 165:case 166:case 169:case 170:case 171:case 167:case 168:return 15}throw e.Errors.invalidOperation()},t.prototype.addSkippedTokenAfterNodeOrToken=function(t,n){if(t.isToken())return this.addSkippedTokenAfterToken(t,n);if(t.isNode())return this.addSkippedTokenAfterNode(t,n);throw e.Errors.invalidOperation()},t.prototype.addSkippedTokenAfterNode=function(e,t){var n=e.lastToken(),r=this.addSkippedTokenAfterToken(n,t);return e.replaceToken(n,r)},t.prototype.addSkippedTokensBeforeNode=function(e,t){if(t.length>0){var n=e.firstToken(),r=this.addSkippedTokensBeforeToken(n,t);return e.replaceToken(n,r)}return e},t.prototype.addSkippedTokensBeforeToken=function(t,n){var r=[];for(var i=0,s=n.length;i<s;i++)this.addSkippedTokenToTriviaArray(r,n[i]);return this.addTriviaTo(t.leadingTrivia(),r),this.returnArray(n),t.withLeadingTrivia(e.Syntax.triviaList(r))},t.prototype.addSkippedTokensAfterToken=function(t,n){if(n.length===0)return this.returnArray(n),t;var r=t.trailingTrivia().toArray();for(var i=0,s=n.length;i<s;i++)this.addSkippedTokenToTriviaArray(r,n[i]);return this.returnArray(n),t.withTrailingTrivia(e.Syntax.triviaList(r))},t.prototype.addSkippedTokenAfterToken=function(t,n){var r=t.trailingTrivia().toArray();return this.addSkippedTokenToTriviaArray(r,n),t.withTrailingTrivia(e.Syntax.triviaList(r))},t.prototype.addSkippedTokenToTriviaArray=function(t,n){this.addTriviaTo(n.leadingTrivia(),t);var r=n.withLeadingTrivia(e.Syntax.emptyTriviaList).withTrailingTrivia(e.Syntax.emptyTriviaList);t.push(e.Syntax.skippedTokenTrivia(r)),this.addTriviaTo(n.trailingTrivia(),t)},t.prototype.addTriviaTo=function(e,t){for(var n=0,r=e.count();n<r;n++)t.push(e.syntaxTriviaAt(n))},t.prototype.parseSyntaxTree=function(t){var n=this.parseSourceUnit(),r=this.source.tokenDiagnostics().concat(this.diagnostics);return r.sort(function(e,t){return e.start()-t.start()}),new e.SyntaxTree(n,t,r,this.fileName,this.lineMap,this.source.languageVersion(),this.parseOptions)},t.prototype.setStrictMode=function(t){this.isInStrictMode=t,this.factory=t?e.Syntax.strictModeFactory:e.Syntax.normalModeFactory},t.prototype.parseSourceUnit=function(){var e=this.isInStrictMode,n=this.parseSyntaxList(1,t.updateStrictModeState),r=n.list;this.setStrictMode(e);var i=this.factory.sourceUnit(r,this.currentToken());return i=this.addSkippedTokensBeforeNode(i,n.skippedTokens),i},t.updateStrictModeState=function(t,n){if(!t.isInStrictMode){for(var r=0;r<n.length;r++){var i=n[r];if(!e.SyntaxFacts.isDirectivePrologueElement(i))return}t.setStrictMode(e.SyntaxFacts.isUseStrictDirective(n[n.length-1]))}},t.prototype.isModuleElement=function(e){return this.currentNode()!==null&&this.currentNode().isModuleElement()?!0:this.isImportDeclaration()||this.isExportAssignment()||this.isModuleDeclaration()||this.isInterfaceDeclaration()||this.isClassDeclaration()||this.isEnumDeclaration()||this.isStatement(e)},t.prototype.parseModuleElement=function(){if(this.currentNode()!==null&&this.currentNode().isModuleElement())return this.eatNode();if(this.isImportDeclaration())return this.parseImportDeclaration();if(this.isExportAssignment())return this.parseExportAssignment();if(this.isModuleDeclaration())return this.parseModuleDeclaration();if(this.isInterfaceDeclaration())return this.parseInterfaceDeclaration();if(this.isClassDeclaration())return this.parseClassDeclaration();if(this.isEnumDeclaration())return this.parseEnumDeclaration();if(this.isStatement(!1))return this.parseStatement();throw e.Errors.invalidOperation()},t.prototype.isImportDeclaration=function(){return this.currentToken().tokenKind===49},t.prototype.parseImportDeclaration=function(){var e=this.eatKeyword(49),t=this.eatIdentifierToken(),n=this.eatToken(108),r=this.parseModuleReference(),i=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.importDeclaration(e,t,n,r,i)},t.prototype.isExportAssignment=function(){return this.currentToken().tokenKind===47&&this.peekToken(1).tokenKind===108},t.prototype.parseExportAssignment=function(){var e=this.eatKeyword(47),t=this.eatToken(108),n=this.eatIdentifierToken(),r=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.exportAssignment(e,t,n,r)},t.prototype.parseModuleReference=function(){return this.isExternalModuleReference()?this.parseExternalModuleReference():this.parseModuleNameModuleReference()},
t.prototype.isExternalModuleReference=function(){var e=this.currentToken();return e.tokenKind===66||e.tokenKind===67?this.peekToken(1).tokenKind===73:!1},t.prototype.parseExternalModuleReference=function(){var e=this.eatAnyToken(),t=this.eatToken(73),n=this.eatToken(14),r=this.eatToken(74);return this.factory.externalModuleReference(e,t,n,r)},t.prototype.parseModuleNameModuleReference=function(){var e=this.parseName();return this.factory.moduleNameModuleReference(e)},t.prototype.parseIdentifierName=function(){var e=this.eatIdentifierNameToken();return e},t.prototype.isName=function(){return this.isIdentifier(this.currentToken())},t.prototype.tryParseTypeArgumentList=function(e){if(this.currentToken().kind()!==81)return null;var t,n,r,i;if(!e)return t=this.eatToken(81),r=this.parseSeparatedSyntaxList(262144),i=r.list,t=this.addSkippedTokensAfterToken(t,r.skippedTokens),n=this.eatToken(82),this.factory.typeArgumentList(t,i,n);var s=this.getRewindPoint();try{return t=this.eatToken(81),r=this.parseSeparatedSyntaxList(262144),i=r.list,t=this.addSkippedTokensAfterToken(t,r.skippedTokens),n=this.eatToken(82),n.fullWidth()===0||!this.canFollowTypeArgumentListInExpression(this.currentToken().kind())?(this.rewind(s),null):this.factory.typeArgumentList(t,i,n)}finally{this.releaseRewindPoint(s)}},t.prototype.canFollowTypeArgumentListInExpression=function(e){switch(e){case 73:case 77:case 74:case 76:case 107:case 79:case 80:case 106:case 85:case 88:case 87:case 89:case 104:case 105:case 101:case 99:case 100:case 72:case 10:return!0;default:return!1}},t.prototype.parseName=function(){var t=this.isIdentifier(this.currentToken()),n=this.eatIdentifierToken();while(t&&this.currentToken().tokenKind===77){var r=this.eatToken(77),i=this.currentToken(),s;e.SyntaxFacts.isAnyKeyword(i.tokenKind)&&this.previousToken().hasTrailingNewLine()&&!i.hasTrailingNewLine()&&e.SyntaxFacts.isIdentifierNameOrAnyKeyword(this.peekToken(1))?s=this.createMissingToken(11,i):s=this.eatIdentifierNameToken(),n=this.factory.qualifiedName(n,r,s),t=s.fullWidth()>0}return n},t.prototype.isEnumDeclaration=function(){var e=this.modifierCount();return e>0&&this.peekToken(e).tokenKind===46?!0:this.currentToken().tokenKind===46&&this.isIdentifier(this.peekToken(1))},t.prototype.parseEnumDeclaration=function(){var t=this.parseModifiers(),n=this.eatKeyword(46),r=this.eatIdentifierToken(),i=this.eatToken(71),s=e.Syntax.emptySeparatedList;if(i.width()>0){var o=this.parseSeparatedSyntaxList(256);s=o.list,i=this.addSkippedTokensAfterToken(i,o.skippedTokens)}var u=this.eatToken(72);return this.factory.enumDeclaration(t,n,r,i,s,u)},t.prototype.isEnumElement=function(e){return this.currentNode()!==null&&this.currentNode().kind()===243?!0:this.isPropertyName(this.currentToken(),e)},t.prototype.parseEnumElement=function(){if(this.currentNode()!==null&&this.currentNode().kind()===243)return this.eatNode();var e=this.eatPropertyName(),t=null;return this.isEqualsValueClause(!1)&&(t=this.parseEqualsValueClause(!0)),this.factory.enumElement(e,t)},t.isModifier=function(e){switch(e.tokenKind){case 57:case 55:case 58:case 47:case 64:return!0;default:return!1}},t.prototype.modifierCount=function(){var e=0;for(;;){if(t.isModifier(this.peekToken(e))){e++;continue}break}return e},t.prototype.parseModifiers=function(){var n=this.getArray();for(;;){if(t.isModifier(this.currentToken())){n.push(this.eatAnyToken());continue}break}var r=e.Syntax.list(n);return this.returnZeroOrOneLengthArray(n),r},t.prototype.isClassDeclaration=function(){var e=this.modifierCount();return e>0&&this.peekToken(e).tokenKind===44?!0:this.currentToken().tokenKind===44&&this.isIdentifier(this.peekToken(1))},t.prototype.parseHeritageClauses=function(){var t=e.Syntax.emptyList;if(this.isHeritageClause()){var n=this.parseSyntaxList(1024);t=n.list,e.Debug.assert(n.skippedTokens.length===0)}return t},t.prototype.parseClassDeclaration=function(){var t=this.parseModifiers(),n=this.eatKeyword(44),r=this.eatIdentifierToken(),i=this.parseOptionalTypeParameterList(!1),s=this.parseHeritageClauses(),o=this.eatToken(71),u=e.Syntax.emptyList;if(o.width()>0){var a=this.parseSyntaxList(2);u=a.list,o=this.addSkippedTokensAfterToken(o,a.skippedTokens)}var f=this.eatToken(72);return this.factory.classDeclaration(t,n,r,i,s,o,u,f)},t.prototype.isConstructorDeclaration=function(){return this.currentToken().tokenKind===63},t.isPublicOrPrivateKeyword=function(e){return e.tokenKind===57||e.tokenKind===55},t.prototype.isMemberAccessorDeclaration=function(e){var t=this.modifierCount();return this.peekToken(t).tokenKind!==65&&this.peekToken(t).tokenKind!==69?!1:(t++,this.isPropertyName(this.peekToken(t),e))},t.prototype.parseMemberAccessorDeclaration=function(){var t=this.parseModifiers();if(this.currentToken().tokenKind===65)return this.parseGetMemberAccessorDeclaration(t);if(this.currentToken().tokenKind===69)return this.parseSetMemberAccessorDeclaration(t);throw e.Errors.invalidOperation()},t.prototype.parseGetMemberAccessorDeclaration=function(e){var t=this.eatKeyword(65),n=this.eatPropertyName(),r=this.parseParameterList(),i=this.parseOptionalTypeAnnotation(!1),s=this.parseBlock(!1,!1);return this.factory.getMemberAccessorDeclaration(e,t,n,r,i,s)},t.prototype.parseSetMemberAccessorDeclaration=function(e){var t=this.eatKeyword(69),n=this.eatPropertyName(),r=this.parseParameterList(),i=this.parseBlock(!1,!1);return this.factory.setMemberAccessorDeclaration(e,t,n,r,i)},t.prototype.isClassElement=function(e){return this.currentNode()!==null&&this.currentNode().isClassElement()?!0:this.isConstructorDeclaration()||this.isMemberFunctionDeclaration(e)||this.isMemberAccessorDeclaration(e)||this.isMemberVariableDeclaration(e)||this.isIndexSignature()},t.prototype.parseConstructorDeclaration=function(){var e=this.eatKeyword(63),t=this.parseParameterList(),n=null,r=null;return this.isBlock()?r=this.parseBlock(!1,!0):n=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.constructorDeclaration(e,t,r,n)},t.prototype.isMemberFunctionDeclaration=function(e){var n=0;for(;;){var r=this.peekToken(n);if(this.isPropertyName(r,e)&&this.isCallSignature(n+1))return!0;if(t.isModifier(r)){n++;continue}return!1}},t.prototype.parseMemberFunctionDeclaration=function(){var n=this.getArray();for(;;){var r=this.currentToken();if(this.isPropertyName(r,!1)&&this.isCallSignature(1))break;e.Debug.assert(t.isModifier(r)),n.push(this.eatAnyToken())}var i=e.Syntax.list(n);this.returnZeroOrOneLengthArray(n);var s=this.eatPropertyName(),o=this.parseCallSignature(!1),u=this.tryAddUnexpectedEqualsGreaterThanToken(o),a=o!==u;o=u;var f=null,l=null;return a||this.isBlock()?f=this.parseBlock(a,!0):l=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.memberFunctionDeclaration(i,s,o,f,l)},t.prototype.isDefinitelyMemberVariablePropertyName=function(t){if(!e.SyntaxFacts.isAnyKeyword(this.peekToken(t).tokenKind))return!0;switch(this.peekToken(t+1).tokenKind){case 79:case 108:case 107:case 72:case 10:return!0;default:return!1}},t.prototype.isMemberVariableDeclaration=function(e){var n=0;for(;;){var r=this.peekToken(n);if(this.isPropertyName(r,e)&&this.isDefinitelyMemberVariablePropertyName(n))return!0;if(t.isModifier(this.peekToken(n))){n++;continue}return!1}},t.prototype.parseMemberVariableDeclaration=function(){var n=this.getArray();for(;;){var r=this.currentToken();if(this.isPropertyName(r,!1)&&this.isDefinitelyMemberVariablePropertyName(0))break;e.Debug.assert(t.isModifier(r)),n.push(this.eatAnyToken())}var i=e.Syntax.list(n);this.returnZeroOrOneLengthArray(n);var s=this.parseVariableDeclarator(!0,!0),o=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.memberVariableDeclaration(i,s,o)},t.prototype.parseClassElement=function(t){if(this.currentNode()!==null&&this.currentNode().isClassElement())return this.eatNode();if(this.isConstructorDeclaration())return this.parseConstructorDeclaration();if(this.isMemberFunctionDeclaration(t))return this.parseMemberFunctionDeclaration();if(this.isMemberAccessorDeclaration(t))return this.parseMemberAccessorDeclaration();if(this.isMemberVariableDeclaration(t))return this.parseMemberVariableDeclaration();if(this.isIndexSignature())return this.parseIndexSignature();throw e.Errors.invalidOperation()},t.prototype.tryAddUnexpectedEqualsGreaterThanToken=function(t){var n=this.currentToken(),r=n.tokenKind===86;if(r){var i=new e.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),n.width(),17,[]);this.addDiagnostic(i);var s=this.eatAnyToken();return this.addSkippedTokenAfterNode(t,n)}return t},t.prototype.isFunctionDeclaration=function(){var e=this.modifierCount();return this.peekToken(e).tokenKind===27},t.prototype.parseFunctionDeclaration=function(){var e=this.parseModifiers(),t=this.eatKeyword(27),n=this.eatIdentifierToken(),r=this.parseCallSignature(!1),i=this.tryAddUnexpectedEqualsGreaterThanToken(r),s=r!==i;r=i;var o=null,u=null;return s||this.isBlock()?u=this.parseBlock(s,!0):o=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.functionDeclaration(e,t,n,r,u,o)},t.prototype.isModuleDeclaration=function(){var e=this.modifierCount();if(e>0&&this.peekToken(e).tokenKind===66)return!0;if(this.currentToken().tokenKind===66){var t=this.peekToken(1);return this.isIdentifier(t)||t.tokenKind===14}return!1},t.prototype.parseModuleDeclaration=function(){var t=this.parseModifiers(),n=this.eatKeyword(66),r=null,i=null;this.currentToken().tokenKind===14?i=this.eatToken(14):r=this.parseName();var s=this.eatToken(71),o=e.Syntax.emptyList;if(s.width()>0){var u=this.parseSyntaxList(4);o=u.list,s=this.addSkippedTokensAfterToken(s,u.skippedTokens)}var a=this.eatToken(72);return this.factory.moduleDeclaration(t,n,r,i,s,o,a)},t.prototype.isInterfaceDeclaration=function(){var e=this.modifierCount();return e>0&&this.peekToken(e).tokenKind===52?!0:this.currentToken().tokenKind===52&&this.isIdentifier(this.peekToken(1))},t.prototype.parseInterfaceDeclaration=function(){var e=this.parseModifiers(),t=this.eatKeyword(52),n=this.eatIdentifierToken(),r=this.parseOptionalTypeParameterList(!1),i=this.parseHeritageClauses(),s=this.parseObjectType();return this.factory.interfaceDeclaration(e,t,n,r,i,s)},t.prototype.parseObjectType=function(){var t=this.eatToken(71),n=e.Syntax.emptySeparatedList;if(t.width()>0){var r=this.parseSeparatedSyntaxList(512);n=r.list,t=this.addSkippedTokensAfterToken(t,r.skippedTokens)}var i=this.eatToken(72);return this.factory.objectType(t,n,i)},t.prototype.isTypeMember=function(e){return this.currentNode()!==null&&this.currentNode().isTypeMember()?!0:this.isCallSignature(0)||this.isConstructSignature()||this.isIndexSignature()||this.isMethodSignature(e)||this.isPropertySignature(e)},t.prototype.parseTypeMember=function(){if(this.currentNode()!==null&&this.currentNode().isTypeMember())return this.eatNode();if(this.isCallSignature(0))return this.parseCallSignature(!1);if(this.isConstructSignature())return this.parseConstructSignature();if(this.isIndexSignature())return this.parseIndexSignature();if(this.isMethodSignature(!1))return this.parseMethodSignature();if(this.isPropertySignature(!1))return this.parsePropertySignature();throw e.Errors.invalidOperation()},t.prototype.parseConstructSignature=function(){var e=this.eatKeyword(31),t=this.parseCallSignature(!1);return this.factory.constructSignature(e,t)},t.prototype.parseIndexSignature=function(){var e=this.eatToken(75),t=this.parseParameter(),n=this.eatToken(76),r=this.parseOptionalTypeAnnotation(!1);return this.factory.indexSignature(e,t,n,r)},t.prototype.parseMethodSignature=function(){var e=this.eatPropertyName(),t=this.tryEatToken(106),n=this.parseCallSignature(!1);return this.factory.methodSignature(e,t,n)},t.prototype.parsePropertySignature=function(){var e=this.eatPropertyName(),t=this.tryEatToken(106),n=this.parseOptionalTypeAnnotation(!1);return this.factory.propertySignature(e,t,n)},t.prototype.isCallSignature=function(e){var t=this.peekToken(e).tokenKind;return t===73||t===81},t.prototype.isConstructSignature=function(){if(this.currentToken().tokenKind!==31)return!1;var e=this.peekToken(1);return e.tokenKind===81||e.tokenKind===73},t.prototype.isIndexSignature=function(){return this.currentToken().tokenKind===75},t.prototype.isMethodSignature=function(e){if(this.isPropertyName(this.currentToken(),e)){if(this.isCallSignature(1))return!0;if(this.peekToken(1).tokenKind===106&&this.isCallSignature(2))return!0}return!1},t.prototype.isPropertySignature=function(e){var n=this.currentToken();return t.isModifier(n)&&!n.hasTrailingNewLine()&&this.isPropertyName(this.peekToken(1),e)?!1:this.isPropertyName(n,e)},t.prototype.isHeritageClause=function(){var e=this.currentToken();return e.tokenKind===48||e.tokenKind===51},t.prototype.isNotHeritageClauseTypeName=function(){return this.currentToken().tokenKind===51||this.currentToken().tokenKind===48?this.isIdentifier(this.peekToken(1)):!1},t.prototype.isHeritageClauseTypeName=function(){return this.isName()?!this.isNotHeritageClauseTypeName():!1},t.prototype.parseHeritageClause=function(){var t=this.eatAnyToken();e.Debug.assert(t.tokenKind===48||t.tokenKind===51);var n=this.parseSeparatedSyntaxList(2048),r=n.list;return t=this.addSkippedTokensAfterToken(t,n.skippedTokens),this.factory.heritageClause(t,r)},t.prototype.isStatement=function(t){if(this.currentNode()!==null&&this.currentNode().isStatement())return!0;switch(this.currentToken().tokenKind){case 57:case 55:case 58:var n=this.peekToken(1);if(e.SyntaxFacts.isIdentifierNameOrAnyKeyword(n))return!1}return this.isVariableStatement()||this.isLabeledStatement()||this.isFunctionDeclaration()||this.isIfStatement()||this.isBlock()||this.isExpressionStatement()||this.isReturnStatement()||this.isSwitchStatement()||this.isThrowStatement()||this.isBreakStatement()||this.isContinueStatement()||this.isForOrForInStatement()||this.isEmptyStatement(t)||this.isWhileStatement()||this.isWithStatement()||this.isDoStatement()||this.isTryStatement()||this.isDebuggerStatement()},t.prototype.parseStatement=function(){return this.currentNode()!==null&&this.currentNode().isStatement()?this.eatNode():this.isVariableStatement()?this.parseVariableStatement():this.isLabeledStatement()?this.parseLabeledStatement():this.isFunctionDeclaration()?this.parseFunctionDeclaration():this.isIfStatement()?this.parseIfStatement():this.isBlock()?this.parseBlock(!1,!1):this.isReturnStatement()?this.parseReturnStatement():this.isSwitchStatement()?this.parseSwitchStatement():this.isThrowStatement()?this.parseThrowStatement():this.isBreakStatement()?this.parseBreakStatement():this.isContinueStatement()?this.parseContinueStatement():this.isForOrForInStatement()?this.parseForOrForInStatement():this.isEmptyStatement(!1)?this.parseEmptyStatement():this.isWhileStatement()?this.parseWhileStatement():this.isWithStatement()?this.parseWithStatement():this.isDoStatement()?this.parseDoStatement():this.isTryStatement()?this.parseTryStatement():this.isDebuggerStatement()?this.parseDebuggerStatement():this.parseExpressionStatement()},t.prototype.isDebuggerStatement=function(){return this.currentToken().tokenKind===19},t.prototype.parseDebuggerStatement=function(){var e=this.eatKeyword(19),t=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.debuggerStatement(e,t)},t.prototype.isDoStatement=function(){return this.currentToken().tokenKind===22},t.prototype.parseDoStatement=function(){var e=this.eatKeyword(22),t=this.parseStatement(),n=this.eatKeyword(42),r=this.eatToken(73),i=this.parseExpression(!0),s=this.eatToken(74),o=this.eatExplicitOrAutomaticSemicolon(!0);return this.factory.doStatement(e,t,n,r,i,s,o)},t.prototype.isLabeledStatement=function(){return this.isIdentifier(this.currentToken())&&this.peekToken(1).tokenKind===107},t.prototype.parseLabeledStatement=function(){var e=this.eatIdentifierToken(),t=this.eatToken(107),n=this.parseStatement();return this.factory.labeledStatement(e,t,n)},t.prototype.isTryStatement=function(){return this.currentToken().tokenKind===38},t.prototype.parseTryStatement=function(){var e=this.eatKeyword(38),t=this.listParsingState;this.listParsingState|=64;var n=this.parseBlock(!1,!1);this.listParsingState=t;var r=null;this.isCatchClause()&&(r=this.parseCatchClause());var i=null;if(r===null||this.isFinallyClause())i=this.parseFinallyClause();return this.factory.tryStatement(e,n,r,i)},t.prototype.isCatchClause=function(){return this.currentToken().tokenKind===17},t.prototype.parseCatchClause=function(){var e=this.eatKeyword(17),t=this.eatToken(73),n=this.eatIdentifierToken(),r=this.parseOptionalTypeAnnotation(!1),i=this.eatToken(74),s=this.listParsingState;this.listParsingState|=128;var o=this.parseBlock(!1,!1);return this.listParsingState=s,this.factory.catchClause(e,t,n,r,i,o)},t.prototype.isFinallyClause=function(){return this.currentToken().tokenKind===25},t.prototype.parseFinallyClause=function(){var e=this.eatKeyword(25),t=this.parseBlock(!1,!1);return this.factory.finallyClause(e,t)},t.prototype.isWithStatement=function(){return this.currentToken().tokenKind===43},t.prototype.parseWithStatement=function(){var e=this.eatKeyword(43),t=this.eatToken(73),n=this.parseExpression(!0),r=this.eatToken(74),i=this.parseStatement();return this.factory.withStatement(e,t,n,r,i)},t.prototype.isWhileStatement=function(){return this.currentToken().tokenKind===42},t.prototype.parseWhileStatement=function(){var e=this.eatKeyword(42),t=this.eatToken(73),n=this.parseExpression(!0),r=this.eatToken(74),i=this.parseStatement();return this.factory.whileStatement(e,t,n,r,i)},t.prototype.isEmptyStatement=function(e){return e?!1:this.currentToken().tokenKind===79},t.prototype.parseEmptyStatement=function(){var e=this.eatToken(79);return this.factory.emptyStatement(e)},t.prototype.isForOrForInStatement=function(){return this.currentToken().tokenKind===26},t.prototype.parseForOrForInStatement=function(){var e=this.eatKeyword(26),t=this.eatToken(73),n=this.currentToken();return n.tokenKind===40?this.parseForOrForInStatementWithVariableDeclaration(e,t):n.tokenKind===79?this.parseForStatement(e,t):this.parseForOrForInStatementWithInitializer(e,t)},t.prototype.parseForOrForInStatementWithVariableDeclaration=function(e,t){var n=this.parseVariableDeclaration(!1);return this.currentToken().tokenKind===29?this.parseForInStatementWithVariableDeclarationOrInitializer(e,t,n,null):this.parseForStatementWithVariableDeclarationOrInitializer(e,t,n,null)},t.prototype.parseForInStatementWithVariableDeclarationOrInitializer=function(e,t,n,r){var i=this.eatKeyword(29),s=this.parseExpression(!0),o=this.eatToken(74),u=this.parseStatement();return this.factory.forInStatement(e,t,n,r,i,s,o,u)},t.prototype.parseForOrForInStatementWithInitializer=function(e,t){var n=this.parseExpression(!1);return this.currentToken().tokenKind===29?this.parseForInStatementWithVariableDeclarationOrInitializer(e,t,null,n):this.parseForStatementWithVariableDeclarationOrInitializer(e,t,null,n)},t.prototype.parseForStatement=function(e,t){var n=null;return this.currentToken().tokenKind!==79&&this.currentToken().tokenKind!==74&&this.currentToken().tokenKind!==10&&(n=this.parseExpression(!1)),this.parseForStatementWithVariableDeclarationOrInitializer(e,t,null,n)},t.prototype.parseForStatementWithVariableDeclarationOrInitializer=function(e,t,n,r){var i=this.eatToken(79),s=null;this.currentToken().tokenKind!==79&&this.currentToken().tokenKind!==74&&this.currentToken().tokenKind!==10&&(s=this.parseExpression(!0));var o=this.eatToken(79),u=null;this.currentToken().tokenKind!==74&&this.currentToken().tokenKind!==10&&(u=this.parseExpression(!0));var a=this.eatToken(74),f=this.parseStatement();return this.factory.forStatement(e,t,n,r,i,s,o,u,a,f)},t.prototype.isBreakStatement=function(){return this.currentToken().tokenKind===15},t.prototype.parseBreakStatement=function(){var e=this.eatKeyword(15),t=null;this.canEatExplicitOrAutomaticSemicolon(!1)||this.isIdentifier(this.currentToken())&&(t=this.eatIdentifierToken());var n=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.breakStatement(e,t,n)},t.prototype.isContinueStatement=function(){return this.currentToken().tokenKind===18},t.prototype.parseContinueStatement=function(){var e=this.eatKeyword(18),t=null;this.canEatExplicitOrAutomaticSemicolon(!1)||this.isIdentifier(this.currentToken())&&(t=this.eatIdentifierToken());var n=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.continueStatement(e,t,n)},t.prototype.isSwitchStatement=function(){return this.currentToken().tokenKind===34},t.prototype.parseSwitchStatement=function(){var t=this.eatKeyword(34),n=this.eatToken(73),r=this.parseExpression(!0),i=this.eatToken(74),s=this.eatToken(71),o=e.Syntax.emptyList;if(s.width()>0){var u=this.parseSyntaxList(8);o=u.list,s=this.addSkippedTokensAfterToken(s,u.skippedTokens)}var a=this.eatToken(72);return this.factory.switchStatement(t,n,r,i,s,o,a)},t.prototype.isCaseSwitchClause=function(){return this.currentToken().tokenKind===16},t.prototype.isDefaultSwitchClause=function(){return this.currentToken().tokenKind===20},t.prototype.isSwitchClause=function(){return this.currentNode()!==null&&this.currentNode().isSwitchClause()?!0:this.isCaseSwitchClause()||this.isDefaultSwitchClause()},t.prototype.parseSwitchClause=function(){if(this.currentNode()!==null&&this.currentNode().isSwitchClause())return this.eatNode();if(this.isCaseSwitchClause())return this.parseCaseSwitchClause();if(this.isDefaultSwitchClause())return this.parseDefaultSwitchClause();throw e.Errors.invalidOperation()},t.prototype.parseCaseSwitchClause=function(){var t=this.eatKeyword(16),n=this.parseExpression(!0),r=this.eatToken(107),i=e.Syntax.emptyList;if(r.fullWidth()>0){var s=this.parseSyntaxList(16);i=s.list,r=this.addSkippedTokensAfterToken(r,s.skippedTokens)}return this.factory.caseSwitchClause(t,n,r,i)},t.prototype.parseDefaultSwitchClause=function(){var t=this.eatKeyword(20),n=this.eatToken(107),r=e.Syntax.emptyList;if(n.fullWidth()>0){var i=this.parseSyntaxList(16);r=i.list,n=this.addSkippedTokensAfterToken(n,i.skippedTokens)}return this.factory.defaultSwitchClause(t,n,r)},t.prototype.isThrowStatement=function(){return this.currentToken().tokenKind===36},t.prototype.parseThrowStatement=function(){var e=this.eatKeyword(36),t=null;if(this.canEatExplicitOrAutomaticSemicolon(!1)){var n=this.createMissingToken(11,null);t=n}else t=this.parseExpression(!0);var r=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.throwStatement(e,t,r)},t.prototype.isReturnStatement=function(){return this.currentToken().tokenKind===33},t.prototype.parseReturnStatement=function(){var e=this.eatKeyword(33),t=null;this.canEatExplicitOrAutomaticSemicolon(!1)||(t=this.parseExpression(!0));var n=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.returnStatement(e,t,n)},t.prototype.isExpressionStatement=function(){var e=this.currentToken(),t=e.tokenKind;return t===71||t===27?!1:this.isExpression()},t.prototype.isAssignmentOrOmittedExpression=function(){return this.currentToken().tokenKind===80?!0:this.isExpression()},t.prototype.parseAssignmentOrOmittedExpression=function(){return this.currentToken().tokenKind===80?this.factory.omittedExpression():this.parseAssignmentExpression(!0)},t.prototype.isExpression=function(){var e=this.currentToken(),t=e.tokenKind;switch(t){case 13:case 14:case 12:return!0;case 75:case 73:return!0;case 81:return!0;case 94:case 95:case 90:case 91:case 103:case 102:return!0;case 71:return!0;case 86:return!0;case 119:case 120:return!0;case 50:case 35:case 37:case 24:case 32:return!0;case 31:return!0;case 21:case 41:case 39:return!0;case 27:return!0}return this.isIdentifier(this.currentToken())?!0:!1},t.prototype.parseExpressionStatement=function(){var e=this.parseExpression(!0),t=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.expressionStatement(e,t)},t.prototype.isIfStatement=function(){return this.currentToken().tokenKind===28},t.prototype.parseIfStatement=function(){var e=this.eatKeyword(28),t=this.eatToken(73),n=this.parseExpression(!0),r=this.eatToken(74),i=this.parseStatement(),s=null;return this.isElseClause()&&(s=this.parseElseClause()),this.factory.ifStatement(e,t,n,r,i,s)},t.prototype.isElseClause=function(){return this.currentToken().tokenKind===23},t.prototype.parseElseClause=function(){var e=this.eatKeyword(23),t=this.parseStatement();return this.factory.elseClause(e,t)},t.prototype.isVariableStatement=function(){var e=this.modifierCount();return this.peekToken(e).tokenKind===40},t.prototype.parseVariableStatement=function(){var e=this.parseModifiers(),t=this.parseVariableDeclaration(!0),n=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.variableStatement(e,t,n)},t.prototype.parseVariableDeclaration=function(e){var t=this.eatKeyword(40),n=e?4096:8192,r=this.parseSeparatedSyntaxList(n),i=r.list;return t=this.addSkippedTokensAfterToken(t,r.skippedTokens),this.factory.variableDeclaration(t,i)},t.prototype.isVariableDeclarator=function(){return this.currentNode()!==null&&this.currentNode().kind()===224?!0:this.isIdentifier(this.currentToken())},t.prototype.canReuseVariableDeclaratorNode=function(e){if(e===null||e.kind()!==224)return!1;var t=e;return t.equalsValueClause===null},t.prototype.parseVariableDeclarator=function(e,t){if(this.canReuseVariableDeclaratorNode(this.currentNode()))return this.eatNode();var n=t?this.eatPropertyName():this.eatIdentifierToken(),r=null,i=null;return n.width()>0&&(i=this.parseOptionalTypeAnnotation(!1),this.isEqualsValueClause(!1)&&(r=this.parseEqualsValueClause(e))),this.factory.variableDeclarator(n,i,r)},t.prototype.isColonValueClause=function(){return this.currentToken().tokenKind===107},t.prototype.isEqualsValueClause=function(e){var t=this.currentToken();return t.tokenKind===108?!0:this.previousToken().hasTrailingNewLine()?!1:t.tokenKind===86?!1:t.tokenKind===71&&e?!1:this.isExpression()},t.prototype.parseEqualsValueClause=function(e){var t=this.eatToken(108),n=this.parseAssignmentExpression(e);return this.factory.equalsValueClause(t,n)},t.prototype.parseExpression=function(e){return this.parseSubExpression(0,e)},t.prototype.parseAssignmentExpression=function(e){return this.parseSubExpression(2,e)},t.prototype.parseUnaryExpression=function(){var t=this.currentToken().tokenKind;if(e.SyntaxFacts.isPrefixUnaryExpressionOperatorToken(t)){var n=e.SyntaxFacts.getPrefixUnaryExpressionFromOperatorToken(t),r=this.eatAnyToken(),i=this.parseUnaryExpression();return this.factory.prefixUnaryExpression(n,r,i)}return this.parseTerm(!1)},t.prototype.parseSubExpression=function(e,t){var n=this.parseUnaryExpression();return n=this.parseBinaryOrConditionalExpressions(e,t,n),n},t.prototype.parseBinaryOrConditionalExpressions=function(n,r,i){for(;;){var s=this.currentToken(),o=s.tokenKind;if(e.SyntaxFacts.isBinaryExpressionOperatorToken(o)){if(o===29&&!r)break;var u=this.tryMergeBinaryExpressionTokens(),a=u===null?o:u.syntaxKind,f=e.SyntaxFacts.getBinaryExpressionFromOperatorToken(a),l=t.getPrecedence(f);if(l<n)break;if(l===n&&!this.isRightAssociative(f))break;var c=u===null?s:e.Syntax.token(u.syntaxKind).withLeadingTrivia(s.leadingTrivia()).withTrailingTrivia(this.peekToken(u.tokenCount-1).trailingTrivia()),h=u===null?1:u.tokenCount;for(var p=0;p<h;p++)this.eatAnyToken();i=this.factory.binaryExpression(f,i,c,this.parseSubExpression(l,r));continue}if(o===106&&n<=3){var d=this.eatToken(106),v=this.parseAssignmentExpression(r),m=this.eatToken(107),g=this.parseAssignmentExpression(r);i=this.factory.conditionalExpression(i,d,v,m,g);continue}break}return i},t.prototype.tryMergeBinaryExpressionTokens=function(){var e=this.currentToken();if(e.tokenKind===82&&!e.hasTrailingTrivia()){var t=this.mergeTokensStorage;t[0]=0,t[1]=0,t[2]=0;for(var n=0;n<t.length;n++){var r=this.peekToken(n+1);r.hasLeadingTrivia()||(t[n]=r.tokenKind);if(r.hasTrailingTrivia())break}if(t[0]===82)return t[1]===82?t[2]===108?{tokenCount:4,syntaxKind:115}:{tokenCount:3,syntaxKind:98}:t[1]===108?{tokenCount:3,syntaxKind:114}:{tokenCount:2,syntaxKind:97};if(t[0]===108)return{tokenCount:2,syntaxKind:84}}return null},t.prototype.isRightAssociative=function(e){switch(e){case 173:case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:return!0;default:return!1}},t.prototype.parseTerm=function(e){var t=this.parseTermWorker();return t===null?this.eatIdentifierToken():this.parsePostFixExpression(t,e)},t.prototype.parsePostFixExpression=function(t,n){for(;;){var r=this.currentToken().tokenKind;switch(r){case 73:if(n)return t;t=this.factory.invocationExpression(t,this.parseArgumentList(null));continue;case 81:if(n)return t;var i=this.tryParseArgumentList();if(i!==null){t=this.factory.invocationExpression(t,i);continue}break;case 75:t=this.parseElementAccessExpression(t,n);continue;case 94:case 95:if(this.previousToken()!==null&&this.previousToken().hasTrailingNewLine())break;t=this.factory.postfixUnaryExpression(e.SyntaxFacts.getPostfixUnaryExpressionFromOperatorToken(r),t,this.eatAnyToken());continue;case 77:t=this.factory.memberAccessExpression(t,this.eatToken(77),this.eatIdentifierNameToken());continue}return t}},t.prototype.tryParseArgumentList=function(){var t=null;if(this.currentToken().tokenKind===81){var n=this.getRewindPoint();try{t=this.tryParseTypeArgumentList(!0);var r=this.currentToken(),i=r.tokenKind===73,s=r.tokenKind===77,o=i||s;if(t===null||!o)return this.rewind(n),null;if(s){var u=new e.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),r.width(),140,null);return this.addDiagnostic(u),this.factory.argumentList(t,e.Syntax.emptyToken(73),e.Syntax.emptySeparatedList,e.Syntax.emptyToken(74))}}finally{this.releaseRewindPoint(n)}}return this.currentToken().tokenKind===73?this.parseArgumentList(t):null},t.prototype.parseArgumentList=function(t){var n=this.eatToken(73),r=e.Syntax.emptySeparatedList;if(n.fullWidth()>0){var i=this.parseSeparatedSyntaxList(16384);r=i.list,n=this.addSkippedTokensAfterToken(n,i.skippedTokens)}var s=this.eatToken(74);return this.factory.argumentList(t,n,r,s)},t.prototype.parseElementAccessExpression=function(t,n){var r=this.currentTokenStart(),i=this.eatToken(75),s;if(this.currentToken().tokenKind===76&&n){var o=this.currentTokenStart()+this.currentToken().width(),u=new e.SyntaxDiagnostic(this.fileName,r,o-r,139,null);this.addDiagnostic(u),s=e.Syntax.emptyToken(11)}else s=this.parseExpression(!0);var a=this.eatToken(76);return this.factory.elementAccessExpression(t,i,s,a)},t.prototype.parseTermWorker=function(){var e=this.currentToken();if(e.tokenKind===86)return this.parseSimpleArrowFunctionExpression();if(this.isIdentifier(e)){if(this.isSimpleArrowFunctionExpression())return this.parseSimpleArrowFunctionExpression();var t=this.eatIdentifierToken();return t}var n=e.tokenKind;switch(n){case 35:return this.parseThisExpression();case 37:case 24:return this.parseLiteralExpression();case 32:return this.parseLiteralExpression();case 31:return this.parseObjectCreationExpression();case 27:return this.parseFunctionExpression();case 50:return this.parseSuperExpression();case 39:return this.parseTypeOfExpression();case 21:return this.parseDeleteExpression();case 41:return this.parseVoidExpression();case 13:return this.parseLiteralExpression();case 12:return this.parseLiteralExpression();case 14:return this.parseLiteralExpression();case 75:return this.parseArrayLiteralExpression();case 71:return this.parseObjectLiteralExpression();case 73:return this.parseParenthesizedOrArrowFunctionExpression();case 81:return this.parseCastOrArrowFunctionExpression();case 119:case 120:var r=this.tryReparseDivideAsRegularExpression();if(r!==null)return r}return null},t.prototype.tryReparseDivideAsRegularExpression=function(){var t=this.currentToken();if(this.previousToken()!==null){var n=this.previousToken().tokenKind;switch(n){case 11:return null;case 35:case 37:case 24:return null;case 14:case 13:case 12:case 94:case 95:case 76:case 72:return null}}t=this.currentTokenAllowingRegularExpression();if(t.tokenKind===119||t.tokenKind===120)return null;if(t.tokenKind===12)return this.parseLiteralExpression();throw e.Errors.invalidOperation()},t.prototype.parseTypeOfExpression=function(){var e=this.eatKeyword(39),t=this.parseUnaryExpression();return this.factory.typeOfExpression(e,t)},t.prototype.parseDeleteExpression=function(){var e=this.eatKeyword(21),t=this.parseUnaryExpression();return this.factory.deleteExpression(e,t)},t.prototype.parseVoidExpression=function(){var e=this.eatKeyword(41),t=this.parseUnaryExpression();return this.factory.voidExpression(e,t)},t.prototype.parseSuperExpression=function(){var e=this.eatKeyword(50);return e},t.prototype.parseFunctionExpression=function(){var e=this.eatKeyword(27),t=null;this.isIdentifier(this.currentToken())&&(t=this.eatIdentifierToken());var n=this.parseCallSignature(!1
),r=this.parseBlock(!1,!0);return this.factory.functionExpression(e,t,n,r)},t.prototype.parseObjectCreationExpression=function(){var e=this.eatKeyword(31),t=this.parseTerm(!0),n=this.tryParseArgumentList();return this.factory.objectCreationExpression(e,t,n)},t.prototype.parseCastOrArrowFunctionExpression=function(){var e=this.getRewindPoint();try{var t=this.tryParseArrowFunctionExpression();return t!==null?t:(this.rewind(e),this.parseCastExpression())}finally{this.releaseRewindPoint(e)}},t.prototype.parseCastExpression=function(){var e=this.eatToken(81),t=this.parseType(),n=this.eatToken(82),r=this.parseUnaryExpression();return this.factory.castExpression(e,t,n,r)},t.prototype.parseParenthesizedOrArrowFunctionExpression=function(){var e=this.tryParseArrowFunctionExpression();if(e!==null)return e;var t=this.eatToken(73),n=this.parseExpression(!0),r=this.eatToken(74);return this.factory.parenthesizedExpression(t,n,r)},t.prototype.tryParseArrowFunctionExpression=function(){var e=this.currentToken().tokenKind;if(this.isDefinitelyArrowFunctionExpression())return this.parseParenthesizedArrowFunctionExpression(!1);if(!this.isPossiblyArrowFunctionExpression())return null;var t=this.getRewindPoint();try{var n=this.parseParenthesizedArrowFunctionExpression(!0);return n===null&&this.rewind(t),n}finally{this.releaseRewindPoint(t)}},t.prototype.parseParenthesizedArrowFunctionExpression=function(e){var t=this.currentToken(),n=this.parseCallSignature(!0);if(e&&this.currentToken().tokenKind!==86)return null;var r=this.eatToken(86),i=this.parseArrowFunctionBody();return this.factory.parenthesizedArrowFunctionExpression(n,r,i)},t.prototype.parseArrowFunctionBody=function(){return this.isBlock()?this.parseBlock(!1,!1):this.parseAssignmentExpression(!0)},t.prototype.isSimpleArrowFunctionExpression=function(){return this.currentToken().tokenKind===86?!0:this.isIdentifier(this.currentToken())&&this.peekToken(1).tokenKind===86},t.prototype.parseSimpleArrowFunctionExpression=function(){var e=this.eatIdentifierToken(),t=this.eatToken(86),n=this.parseArrowFunctionBody();return this.factory.simpleArrowFunctionExpression(e,t,n)},t.prototype.isBlock=function(){return this.currentToken().tokenKind===71},t.prototype.isDefinitelyArrowFunctionExpression=function(){var e=this.currentToken();if(e.tokenKind!==73)return!1;var t=this.peekToken(1),n;if(t.tokenKind===74)return n=this.peekToken(2),n.tokenKind===107||n.tokenKind===86||n.tokenKind===71;if(t.tokenKind===78)return!0;if(!this.isIdentifier(t))return!1;n=this.peekToken(2);if(n.tokenKind===107)return!0;var r=this.peekToken(3);if(n.tokenKind===106)if(r.tokenKind===107||r.tokenKind===74||r.tokenKind===80)return!0;return n.tokenKind===74&&r.tokenKind===86?!0:!1},t.prototype.isPossiblyArrowFunctionExpression=function(){var e=this.currentToken();if(e.tokenKind!==73)return!0;var t=this.peekToken(1);if(!this.isIdentifier(t))return!1;var n=this.peekToken(2);if(n.tokenKind===108)return!0;if(n.tokenKind===80)return!0;if(n.tokenKind===74){var r=this.peekToken(3);if(r.tokenKind===107)return!0}return!1},t.prototype.parseObjectLiteralExpression=function(){var e=this.eatToken(71),t=this.parseSeparatedSyntaxList(32768),n=t.list;e=this.addSkippedTokensAfterToken(e,t.skippedTokens);var r=this.eatToken(72);return this.factory.objectLiteralExpression(e,n,r)},t.prototype.parsePropertyAssignment=function(){if(this.isGetAccessorPropertyAssignment(!1))return this.parseGetAccessorPropertyAssignment();if(this.isSetAccessorPropertyAssignment(!1))return this.parseSetAccessorPropertyAssignment();if(this.isFunctionPropertyAssignment(!1))return this.parseFunctionPropertyAssignment();if(this.isSimplePropertyAssignment(!1))return this.parseSimplePropertyAssignment();throw e.Errors.invalidOperation()},t.prototype.isPropertyAssignment=function(e){return this.isGetAccessorPropertyAssignment(e)||this.isSetAccessorPropertyAssignment(e)||this.isFunctionPropertyAssignment(e)||this.isSimplePropertyAssignment(e)},t.prototype.isGetAccessorPropertyAssignment=function(e){return this.currentToken().tokenKind===65&&this.isPropertyName(this.peekToken(1),e)},t.prototype.parseGetAccessorPropertyAssignment=function(){var e=this.eatKeyword(65),t=this.eatPropertyName(),n=this.eatToken(73),r=this.eatToken(74),i=this.parseOptionalTypeAnnotation(!1),s=this.parseBlock(!1,!0);return this.factory.getAccessorPropertyAssignment(e,t,n,r,i,s)},t.prototype.isSetAccessorPropertyAssignment=function(e){return this.currentToken().tokenKind===69&&this.isPropertyName(this.peekToken(1),e)},t.prototype.parseSetAccessorPropertyAssignment=function(){var e=this.eatKeyword(69),t=this.eatPropertyName(),n=this.eatToken(73),r=this.parseParameter(),i=this.eatToken(74),s=this.parseBlock(!1,!0);return this.factory.setAccessorPropertyAssignment(e,t,n,r,i,s)},t.prototype.eatPropertyName=function(){return e.SyntaxFacts.isIdentifierNameOrAnyKeyword(this.currentToken())?this.eatIdentifierNameToken():this.eatAnyToken()},t.prototype.isFunctionPropertyAssignment=function(e){return this.isPropertyName(this.currentToken(),e)&&this.isCallSignature(1)},t.prototype.parseFunctionPropertyAssignment=function(){var e=this.eatPropertyName(),t=this.parseCallSignature(!1),n=this.parseBlock(!1,!0);return this.factory.functionPropertyAssignment(e,t,n)},t.prototype.isSimplePropertyAssignment=function(e){return this.isPropertyName(this.currentToken(),e)},t.prototype.parseSimplePropertyAssignment=function(){var e=this.eatPropertyName(),t=this.eatToken(107),n=this.parseAssignmentExpression(!0);return this.factory.simplePropertyAssignment(e,t,n)},t.prototype.isPropertyName=function(t,n){if(e.SyntaxFacts.isIdentifierNameOrAnyKeyword(t))return n?this.isIdentifier(t):!0;switch(t.tokenKind){case 14:case 13:return!0;default:return!1}},t.prototype.parseArrayLiteralExpression=function(){var e=this.eatToken(75),t=this.parseSeparatedSyntaxList(65536),n=t.list;e=this.addSkippedTokensAfterToken(e,t.skippedTokens);var r=this.eatToken(76);return this.factory.arrayLiteralExpression(e,n,r)},t.prototype.parseLiteralExpression=function(){return this.eatAnyToken()},t.prototype.parseThisExpression=function(){var e=this.eatKeyword(35);return e},t.prototype.parseBlock=function(n,r){var i=this.eatToken(71),s=e.Syntax.emptyList;if(n||i.width()>0){var o=this.isInStrictMode,u=r?t.updateStrictModeState:null,a=this.parseSyntaxList(32,u);s=a.list,i=this.addSkippedTokensAfterToken(i,a.skippedTokens),this.setStrictMode(o)}var f=this.eatToken(72);return this.factory.block(i,s,f)},t.prototype.parseCallSignature=function(e){var t=this.parseOptionalTypeParameterList(e),n=this.parseParameterList(),r=this.parseOptionalTypeAnnotation(!1);return this.factory.callSignature(t,n,r)},t.prototype.parseOptionalTypeParameterList=function(e){if(this.currentToken().tokenKind!==81)return null;var t=this.getRewindPoint();try{var n=this.eatToken(81),r=this.parseSeparatedSyntaxList(524288),i=r.list;n=this.addSkippedTokensAfterToken(n,r.skippedTokens);var s=this.eatToken(82);return e&&s.fullWidth()===0?(this.rewind(t),null):this.factory.typeParameterList(n,i,s)}finally{this.releaseRewindPoint(t)}},t.prototype.isTypeParameter=function(){return this.isIdentifier(this.currentToken())},t.prototype.parseTypeParameter=function(){var e=this.eatIdentifierToken(),t=this.parseOptionalConstraint();return this.factory.typeParameter(e,t)},t.prototype.parseOptionalConstraint=function(){if(this.currentToken().kind()!==48)return null;var e=this.eatKeyword(48),t=this.parseType();return this.factory.constraint(e,t)},t.prototype.parseParameterList=function(){var t=this.eatToken(73),n=e.Syntax.emptySeparatedList;if(t.width()>0){var r=this.parseSeparatedSyntaxList(131072);n=r.list,t=this.addSkippedTokensAfterToken(t,r.skippedTokens)}var i=this.eatToken(74);return this.factory.parameterList(t,n,i)},t.prototype.isTypeAnnotation=function(){return this.currentToken().tokenKind===107},t.prototype.parseOptionalTypeAnnotation=function(e){return this.isTypeAnnotation()?this.parseTypeAnnotation(e):null},t.prototype.parseTypeAnnotation=function(e){var t=this.eatToken(107),n=e&&this.currentToken().tokenKind===14?this.eatToken(14):this.parseType();return this.factory.typeAnnotation(t,n)},t.prototype.isType=function(){return this.isPredefinedType()||this.isTypeLiteral()||this.isName()},t.prototype.parseType=function(){var e=this.parseNonArrayType();while(this.currentToken().tokenKind===75){var t=this.eatToken(75),n=this.eatToken(76);e=this.factory.arrayType(e,t,n)}return e},t.prototype.parseNonArrayType=function(){return this.isPredefinedType()?this.parsePredefinedType():this.isTypeLiteral()?this.parseTypeLiteral():this.parseNameOrGenericType()},t.prototype.parseNameOrGenericType=function(){var e=this.parseName(),t=this.tryParseTypeArgumentList(!1);return t===null?e:this.factory.genericType(e,t)},t.prototype.parseTypeLiteral=function(){if(this.isObjectType())return this.parseObjectType();if(this.isFunctionType())return this.parseFunctionType();if(this.isConstructorType())return this.parseConstructorType();throw e.Errors.invalidOperation()},t.prototype.parseFunctionType=function(){var e=this.parseOptionalTypeParameterList(!1),t=this.parseParameterList(),n=this.eatToken(86),r=this.parseType();return this.factory.functionType(e,t,n,r)},t.prototype.parseConstructorType=function(){var e=this.eatKeyword(31),t=this.parseParameterList(),n=this.eatToken(86),r=this.parseType();return this.factory.constructorType(e,null,t,n,r)},t.prototype.isTypeLiteral=function(){return this.isObjectType()||this.isFunctionType()||this.isConstructorType()},t.prototype.isObjectType=function(){return this.currentToken().tokenKind===71},t.prototype.isFunctionType=function(){var e=this.currentToken().tokenKind;return e===73||e===81},t.prototype.isConstructorType=function(){return this.currentToken().tokenKind===31},t.prototype.parsePredefinedType=function(){return this.eatAnyToken()},t.prototype.isPredefinedType=function(){switch(this.currentToken().tokenKind){case 60:case 68:case 61:case 62:case 70:case 41:return!0}return!1},t.prototype.isParameter=function(){if(this.currentNode()!==null&&this.currentNode().kind()===242)return!0;var e=this.currentToken();return e.tokenKind===78?!0:t.isPublicOrPrivateKeyword(e)?!0:this.isIdentifier(e)},t.prototype.parseParameter=function(){if(this.currentNode()!==null&&this.currentNode().kind()===242)return this.eatNode();var e=this.tryEatToken(78),n=null;t.isPublicOrPrivateKeyword(this.currentToken())&&(n=this.eatAnyToken());var r=this.eatIdentifierToken(),i=this.tryEatToken(106),s=this.parseOptionalTypeAnnotation(!0),o=null;return this.isEqualsValueClause(!0)&&(o=this.parseEqualsValueClause(!0)),this.factory.parameter(e,n,r,i,s,o)},t.prototype.parseSyntaxList=function(e,t){typeof t=="undefined"&&(t=null);var n=this.listParsingState;this.listParsingState|=e;var r=this.parseSyntaxListWorker(e,t);return this.listParsingState=n,r},t.prototype.parseSeparatedSyntaxList=function(e){var t=this.listParsingState;this.listParsingState|=e;var n=this.parseSeparatedSyntaxListWorker(e);return this.listParsingState=t,n},t.prototype.abortParsingListOrMoveToNextToken=function(e,t,n){this.reportUnexpectedTokenDiagnostic(e);for(var r=262144;r>=1;r>>=1)if((this.listParsingState&r)!==0)if(this.isExpectedListTerminator(r)||this.isExpectedListItem(r,!0))return!0;var i=this.currentToken();return this.moveToNextToken(),this.addSkippedTokenToList(t,n,i),!1},t.prototype.addSkippedTokenToList=function(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r],s=i.lastToken();if(s.fullWidth()>0){e[r]=this.addSkippedTokenAfterNodeOrToken(i,n);return}}t.push(n)},t.prototype.tryParseExpectedListItem=function(e,t,n,r){if(this.isExpectedListItem(e,t)){var i=this.parseExpectedListItem(e);n.push(i),r!==null&&r(this,n)}},t.prototype.listIsTerminated=function(e){return this.isExpectedListTerminator(e)||this.currentToken().tokenKind===10},t.prototype.getArray=function(){return this.arrayPool.length>0?this.arrayPool.pop():[]},t.prototype.returnZeroOrOneLengthArray=function(e){e.length<=1&&this.returnArray(e)},t.prototype.returnArray=function(e){e.length=0,this.arrayPool.push(e)},t.prototype.parseSyntaxListWorker=function(t,n){var r=this.getArray(),i=this.getArray();for(;;){var s=r.length;this.tryParseExpectedListItem(t,!1,r,n);var o=r.length;if(o===s){if(this.listIsTerminated(t))break;var u=this.abortParsingListOrMoveToNextToken(t,r,i);if(u)break}}var a=e.Syntax.list(r);return this.returnZeroOrOneLengthArray(r),{skippedTokens:i,list:a}},t.prototype.parseSeparatedSyntaxListWorker=function(t){var n=this.getArray(),r=this.getArray();e.Debug.assert(n.length===0),e.Debug.assert(r.length===0),e.Debug.assert(r!==n);var i=this.separatorKind(t),s=i===79,o=!1,u=!1;for(;;){var a=n.length;this.tryParseExpectedListItem(t,o,n,null);var f=n.length;if(f===a){if(this.listIsTerminated(t)){u=!0;break}var l=this.abortParsingListOrMoveToNextToken(t,n,r);if(l)break;o=!0;continue}o=!1;var c=this.currentToken();if(c.tokenKind===i||c.tokenKind===80){n.push(this.eatAnyToken());continue}if(this.listIsTerminated(t)){u=!0;break}if(s&&this.canEatAutomaticSemicolon(!1)){n.push(this.eatExplicitOrAutomaticSemicolon(!1));continue}n.push(this.eatToken(i)),o=!0}var h=e.Syntax.separatedList(n);return this.returnZeroOrOneLengthArray(n),{skippedTokens:r,list:h}},t.prototype.separatorKind=function(t){switch(t){case 2048:case 16384:case 256:case 4096:case 8192:case 32768:case 131072:case 65536:case 262144:case 524288:return 80;case 512:return 79;case 1:case 1024:case 2:case 4:case 8:case 16:case 32:default:throw e.Errors.notYetImplemented()}},t.prototype.reportUnexpectedTokenDiagnostic=function(t){var n=this.currentToken(),r=new e.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),n.width(),13,[this.getExpectedListElementType(t)]);this.addDiagnostic(r)},t.prototype.addDiagnostic=function(e){if(this.diagnostics.length>0&&this.diagnostics[this.diagnostics.length-1].start()===e.start())return;this.diagnostics.push(e)},t.prototype.isExpectedListTerminator=function(t){switch(t){case 1:return this.isExpectedSourceUnit_ModuleElementsTerminator();case 1024:return this.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator();case 2:return this.isExpectedClassDeclaration_ClassElementsTerminator();case 4:return this.isExpectedModuleDeclaration_ModuleElementsTerminator();case 8:return this.isExpectedSwitchStatement_SwitchClausesTerminator();case 16:return this.isExpectedSwitchClause_StatementsTerminator();case 32:return this.isExpectedBlock_StatementsTerminator();case 64:return this.isExpectedTryBlock_StatementsTerminator();case 128:return this.isExpectedCatchBlock_StatementsTerminator();case 256:return this.isExpectedEnumDeclaration_EnumElementsTerminator();case 512:return this.isExpectedObjectType_TypeMembersTerminator();case 16384:return this.isExpectedArgumentList_AssignmentExpressionsTerminator();case 2048:return this.isExpectedHeritageClause_TypeNameListTerminator();case 4096:return this.isExpectedVariableDeclaration_VariableDeclarators_AllowInTerminator();case 8192:return this.isExpectedVariableDeclaration_VariableDeclarators_DisallowInTerminator();case 32768:return this.isExpectedObjectLiteralExpression_PropertyAssignmentsTerminator();case 131072:return this.isExpectedParameterList_ParametersTerminator();case 262144:return this.isExpectedTypeArgumentList_TypesTerminator();case 524288:return this.isExpectedTypeParameterList_TypeParametersTerminator();case 65536:return this.isExpectedLiteralExpression_AssignmentExpressionsTerminator();default:throw e.Errors.invalidOperation()}},t.prototype.isExpectedSourceUnit_ModuleElementsTerminator=function(){return this.currentToken().tokenKind===10},t.prototype.isExpectedEnumDeclaration_EnumElementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedModuleDeclaration_ModuleElementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedObjectType_TypeMembersTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedObjectLiteralExpression_PropertyAssignmentsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedLiteralExpression_AssignmentExpressionsTerminator=function(){return this.currentToken().tokenKind===76},t.prototype.isExpectedTypeArgumentList_TypesTerminator=function(){var e=this.currentToken();return e.tokenKind===82?!0:this.canFollowTypeArgumentListInExpression(e.tokenKind)?!0:!1},t.prototype.isExpectedTypeParameterList_TypeParametersTerminator=function(){var e=this.currentToken();return e.tokenKind===82?!0:e.tokenKind===73||e.tokenKind===71||e.tokenKind===48||e.tokenKind===51?!0:!1},t.prototype.isExpectedParameterList_ParametersTerminator=function(){var e=this.currentToken();return e.tokenKind===74?!0:e.tokenKind===71?!0:e.tokenKind===86?!0:!1},t.prototype.isExpectedVariableDeclaration_VariableDeclarators_DisallowInTerminator=function(){return this.currentToken().tokenKind===79||this.currentToken().tokenKind===74?!0:this.currentToken().tokenKind===29?!0:!1},t.prototype.isExpectedVariableDeclaration_VariableDeclarators_AllowInTerminator=function(){return this.previousToken().tokenKind===80?!1:this.currentToken().tokenKind===86?!0:this.canEatExplicitOrAutomaticSemicolon(!1)},t.prototype.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator=function(){var e=this.currentToken();return e.tokenKind===71||e.tokenKind===72?!0:!1},t.prototype.isExpectedHeritageClause_TypeNameListTerminator=function(){var e=this.currentToken();return e.tokenKind===48||e.tokenKind===51?!0:this.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator()?!0:!1},t.prototype.isExpectedArgumentList_AssignmentExpressionsTerminator=function(){var e=this.currentToken();return e.tokenKind===74||e.tokenKind===79},t.prototype.isExpectedClassDeclaration_ClassElementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedSwitchStatement_SwitchClausesTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedSwitchClause_StatementsTerminator=function(){return this.currentToken().tokenKind===72||this.isSwitchClause()},t.prototype.isExpectedBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedTryBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===17||this.currentToken().tokenKind===25},t.prototype.isExpectedCatchBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===25},t.prototype.isExpectedListItem=function(t,n){switch(t){case 1:return this.isModuleElement(n);case 1024:return this.isHeritageClause();case 2:return this.isClassElement(n);case 4:return this.isModuleElement(n);case 8:return this.isSwitchClause();case 16:return this.isStatement(n);case 32:return this.isStatement(n);case 64:case 128:return!1;case 256:return this.isEnumElement(n);case 4096:case 8192:return this.isVariableDeclarator();case 512:return this.isTypeMember(n);case 16384:return this.isExpectedArgumentList_AssignmentExpression();case 2048:return this.isHeritageClauseTypeName();case 32768:return this.isPropertyAssignment(n);case 131072:return this.isParameter();case 262144:return this.isType();case 524288:return this.isTypeParameter();case 65536:return this.isAssignmentOrOmittedExpression();default:throw e.Errors.invalidOperation()}},t.prototype.isExpectedArgumentList_AssignmentExpression=function(){return this.isExpression()?!0:this.currentToken().tokenKind===80?!0:!1},t.prototype.parseExpectedListItem=function(t){switch(t){case 1:return this.parseModuleElement();case 1024:return this.parseHeritageClause();case 2:return this.parseClassElement(!1);case 4:return this.parseModuleElement();case 8:return this.parseSwitchClause();case 16:return this.parseStatement();case 32:return this.parseStatement();case 256:return this.parseEnumElement();case 512:return this.parseTypeMember();case 16384:return this.parseAssignmentExpression(!0);case 2048:return this.parseNameOrGenericType();case 4096:return this.parseVariableDeclarator(!0,!1);case 8192:return this.parseVariableDeclarator(!1,!1);case 32768:return this.parsePropertyAssignment();case 65536:return this.parseAssignmentOrOmittedExpression();case 131072:return this.parseParameter();case 262144:return this.parseType();case 524288:return this.parseTypeParameter();default:throw e.Errors.invalidOperation()}},t.prototype.getExpectedListElementType=function(t){switch(t){case 1:return e.Strings.module__class__interface__enum__import_or_statement;case 1024:return"{";case 2:return e.Strings.constructor__function__accessor_or_variable;case 4:return e.Strings.module__class__interface__enum__import_or_statement;case 8:return e.Strings.case_or_default_clause;case 16:return e.Strings.statement;case 32:return e.Strings.statement;case 4096:case 8192:return e.Strings.identifier;case 256:return e.Strings.identifier;case 512:return e.Strings.call__construct__index__property_or_function_signature;case 16384:return e.Strings.expression;case 2048:return e.Strings.type_name;case 32768:return e.Strings.property_or_accessor;case 131072:return e.Strings.parameter;case 262144:return e.Strings.type;case 524288:return e.Strings.type_parameter;case 65536:return e.Strings.expression;default:throw e.Errors.invalidOperation()}},t}();t.parse=a,t.incrementalParse=f})(e.Parser||(e.Parser={}));var t=e.Parser})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(e,t,n,r,i,s,o){this._allDiagnostics=null,this._sourceUnit=e,this._isDeclaration=t,this._parserDiagnostics=n,this._fileName=r,this._lineMap=i,this._languageVersion=s,this._parseOptions=o}return t.prototype.toJSON=function(t){var n={};return n.isDeclaration=this._isDeclaration,n.languageVersion=e.LanguageVersion[this._languageVersion],n.parseOptions=this._parseOptions,this.diagnostics().length>0&&(n.diagnostics=this.diagnostics()),n.sourceUnit=this._sourceUnit,n.lineMap=this._lineMap,n},t.prototype.sourceUnit=function(){return this._sourceUnit},t.prototype.isDeclaration=function(){return this._isDeclaration},t.prototype.computeDiagnostics=function(){if(this._parserDiagnostics.length>0)return this._parserDiagnostics;var e=[];return this.sourceUnit().accept(new n(this,e)),e},t.prototype.diagnostics=function(){return this._allDiagnostics===null&&(this._allDiagnostics=this.computeDiagnostics()),this._allDiagnostics},t.prototype.fileName=function(){return this._fileName},t.prototype.lineMap=function(){return this._lineMap},t.prototype.languageVersion=function(){return this._languageVersion},t.prototype.parseOptions=function(){return this._parseOptions},t.prototype.structuralEquals=function(t){return e.ArrayUtilities.sequenceEquals(this.diagnostics(),t.diagnostics(),e.SyntaxDiagnostic.equals)&&this.sourceUnit().structuralEquals(t.sourceUnit())},t}();e.SyntaxTree=t;var n=function(t){function n(e,n){t.call(this),this.syntaxTree=e,this.diagnostics=n,this.inAmbientDeclaration=!1,this.inBlock=!1,this.currentConstructor=null}return __extends(n,t),n.prototype.childFullStart=function(t,n){return this.position()+e.Syntax.childOffset(t,n)},n.prototype.childStart=function(e,t){return this.childFullStart(e,t)+t.leadingTriviaWidth()},n.prototype.pushDiagnostic=function(t,n,r,i){typeof i=="undefined"&&(i=null),this.diagnostics.push(new e.SyntaxDiagnostic(this.syntaxTree.fileName(),t,n,r,i))},n.prototype.pushDiagnostic1=function(t,n,r,i){typeof i=="undefined"&&(i=null),this.diagnostics.push(new e.SyntaxDiagnostic(this.syntaxTree.fileName(),t+n.leadingTriviaWidth(),n.width(),r,i))},n.prototype.visitCatchClause=function(e){e.typeAnnotation&&this.pushDiagnostic(this.childStart(e,e.typeAnnotation),e.typeAnnotation.width(),18),t.prototype.visitCatchClause.call(this,e)},n.prototype.checkParameterListOrder=function(e){var t=this.childFullStart(e,e.parameters),n=!1,r=e.parameters.nonSeparatorCount();for(var i=0,s=e.parameters.childCount();i<s;i++){var o=e.parameters.childAt(i);if(i%2===0){var u=i/2,a=e.parameters.childAt(i);if(a.dotDotDotToken){if(u!==r-1)return this.pushDiagnostic1(t,a,19),!0;if(a.questionToken)return this.pushDiagnostic1(t,a,57),!0;if(a.equalsValueClause)return this.pushDiagnostic1(t,a,58),!0}else if(a.questionToken||a.equalsValueClause){n=!0;if(a.questionToken&&a.equalsValueClause)return this.pushDiagnostic1(t,a,20),!0}else if(n)return this.pushDiagnostic1(t,a,21),!0}t+=o.fullWidth()}return!1},n.prototype.checkParameterListAcessibilityModifiers=function(t){if(this.currentConstructor!==null&&this.currentConstructor.parameterList===t&&this.currentConstructor.block&&!this.inAmbientDeclaration)return!1;var n=this.childFullStart(t,t.parameters);for(var r=0,i=t.parameters.childCount();r<i;r++){var s=t.parameters.childAt(r);if(r%2===0){var o=t.parameters.childAt(r);if(o.publicOrPrivateKeyword){var u=n+e.Syntax.childOffset(o,o.publicOrPrivateKeyword);this.pushDiagnostic1(u,o.publicOrPrivateKeyword,44)}}n+=s.fullWidth()}return!1},n.prototype.checkForTrailingSeparator=function(e,t){if(t.childCount()===0||t.childCount()%2===1)return!1;var n=this.childFullStart(e,t);for(var r=0,i=t.childCount();r<i;r++){var s=t.childAt(r);r===i-1&&this.pushDiagnostic1(n,s,14),n+=s.fullWidth()}return!0},n.prototype.checkForAtLeastOneElement=function(e,t,n){if(t.childCount()>0)return!1;var r=this.childFullStart(e,t),i=this.syntaxTree.sourceUnit().findToken(r);return this.pushDiagnostic1(r,i.token(),13,[n]),!0},n.prototype.visitParameterList=function(e){if(this.checkParameterListAcessibilityModifiers(e)||this.checkParameterListOrder(e)||this.checkForTrailingSeparator(e,e.parameters)){this.skip(e);return}t.prototype.visitParameterList.call(this,e)},n.prototype.visitHeritageClause=function(n){if(this.checkForTrailingSeparator(n,n.typeNames)||this.checkForAtLeastOneElement(n,n.typeNames,e.Strings.type_name)){this.skip(n);return}t.prototype.visitHeritageClause.call(this,n)},n.prototype.visitArgumentList=function(e){if(this.checkForTrailingSeparator(e,e.arguments)){this.skip(e);return}t.prototype.visitArgumentList.call(this,e)},n.prototype.visitVariableDeclaration=function(n){if(this.checkForTrailingSeparator(n,n.variableDeclarators)||this.checkForAtLeastOneElement(n,n.variableDeclarators,e.Strings.identifier)){this.skip(n);return}t.prototype.visitVariableDeclaration.call(this,n)},n.prototype.visitTypeArgumentList=function(n){if(this.checkForTrailingSeparator(n,n.typeArguments)||this.checkForAtLeastOneElement(n,n.typeArguments,e.Strings.identifier)){this.skip(n);return}t.prototype.visitTypeArgumentList.call(this,n)},n.prototype.visitTypeParameterList=function(n){if(this.checkForTrailingSeparator(n,n.typeParameters)||this.checkForAtLeastOneElement(n,n.typeParameters,e.Strings.identifier)){this.skip(n);return}t.prototype.visitTypeParameterList.call(this,n)},n.prototype.checkIndexSignatureParameter=function(e){var t=this.childFullStart(e,e.parameter),n=e.parameter;return n.dotDotDotToken?(this.pushDiagnostic1(t,n,22),!0):n.publicOrPrivateKeyword?(this.pushDiagnostic1(t,n,23),!0):n.questionToken?(this.pushDiagnostic1(t,n,24),!0):n.equalsValueClause?(this.pushDiagnostic1(t,n,25),!0):n.typeAnnotation?n.typeAnnotation.type.kind()!==70&&n.typeAnnotation.type.kind()!==68?(this.pushDiagnostic1(t,n,28),!0):!1:(this.pushDiagnostic1(t,n,27),!0)},n.prototype.visitIndexSignature=function(e){if(this.checkIndexSignatureParameter(e)){this.skip(e);return}if(!e.typeAnnotation){this.pushDiagnostic1(this.position(),e,26),this.skip(e);return}t.prototype.visitIndexSignature.call(this,e)},n.prototype.checkClassDeclarationHeritageClauses=function(t){var n=this.childFullStart(t,t.heritageClauses),r=!1,i=!1;for(var s=0,o=t.heritageClauses.childCount();s<o;s++){e.Debug.assert(s<=2);var u=t.heritageClauses.childAt(s);if(u.extendsOrImplementsKeyword.tokenKind===48){if(r)return this.pushDiagnostic1(n,u,29),!0;if(i)return this.pushDiagnostic1(n,u,30),!0;if(u.typeNames.nonSeparatorCount()>1)return this.pushDiagnostic1(n,u,31),!0;r=!0}else{e.Debug.assert(u.extendsOrImplementsKeyword.tokenKind===51);if(i)return this.pushDiagnostic1(n,u,32),!0;i=!0}n+=u.fullWidth()}return!1},n.prototype.checkForDisallowedDeclareModifier=function(t){if(this.inAmbientDeclaration){var n=e.SyntaxUtilities.getToken(t,64);if(n)return this.pushDiagnostic1(this.childFullStart(t,n),n,42),!0}return!1},n.prototype.checkForRequiredDeclareModifier=function(t,n,r){if(!this.inAmbientDeclaration&&this.syntaxTree.isDeclaration()&&!e.SyntaxUtilities.containsToken(r,64))return this.pushDiagnostic1(this.childFullStart(t,n),n.firstToken(),50),!0},n.prototype.checkFunctionOverloads=function(t,n){if(!this.inAmbientDeclaration&&!this.syntaxTree.isDeclaration()){var r=this.childFullStart(t,n),i=!1,s=null;for(var o=0,u=n.childCount();o<u;o++){var a=n.childAt(o),f=o===u-1;if(i){if(a.kind()!==129)return this.pushDiagnostic1(r,a.firstToken(),45),!0;var l=a;if(l.identifier.valueText()!==s){var c=r+e.Syntax.childOffset(a,l.identifier);return this.pushDiagnostic1(c,l.identifier,47,[s]),!0}}if(a.kind()===129){l=a;if(!e.SyntaxUtilities.containsToken(l.modifiers,64)){i=l.block===null,s=l.identifier.valueText();if(f&&i)return this.pushDiagnostic1(r,a.firstToken(),45),!0}else i=!1,s=""}r+=a.fullWidth()}}return!1},n.prototype.checkClassOverloads=function(t){if(!this.inAmbientDeclaration&&!e.SyntaxUtilities.containsToken(t.modifiers,64)){var n=this.childFullStart(t,t.classElements),r=!1,i=!1,s=null,o=null;for(var u=0,a=t.classElements.childCount();u<a;u++){var f=t.classElements.childAt(u),l=u===a-1;if(r){if(f.kind()!==135)return this.pushDiagnostic1(n,f.firstToken(),45),!0;o=f;if(o.propertyName.valueText()!==s){var c=n+e.Syntax.childOffset(f,o.propertyName);return this.pushDiagnostic1(c,o.propertyName,47,[s]),!0}}else if(i&&f.kind()!==137)return this.pushDiagnostic1(n,f.firstToken(),46),!0;if(f.kind()===135){o=f,r=o.block===null,s=o.propertyName.valueText();if(l&&r)return this.pushDiagnostic1(n,f.firstToken(),45),!0}else if(f.kind()===137){var h=f;i=h.block===null;if(l&&i)return this.pushDiagnostic1(n,f.firstToken(),46),!0}n+=f.fullWidth()}}return!1},n.prototype.checkForReservedName=function(t,n,r){var i=this.childFullStart(t,n),s,o,u=n;while(u!==null){if(u.kind()===122){var a=u;s=a.right,o=i+this.childFullStart(a,s),u=a.left}else e.Debug.assert(u.kind()===11),s=u,o=i,u=null;switch(s.valueText()){case"any":case"number":case"bool":case"string":case"void":return this.pushDiagnostic(o+s.leadingTriviaWidth(),s.width(),r,[s.valueText()]),!0}}return!1},n.prototype.visitClassDeclaration=function(n){if(this.checkForReservedName(n,n.identifier,61)||this.checkForDisallowedDeclareModifier(n.modifiers)||this.checkForRequiredDeclareModifier(n,n.classKeyword,n.modifiers)||this.checkModuleElementModifiers(n.modifiers)||this.checkClassDeclarationHeritageClauses(n)||this.checkClassOverloads(n)){this.skip(n);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||e.SyntaxUtilities.containsToken(n.modifiers,64),t.prototype.visitClassDeclaration.call(this,n),this.inAmbientDeclaration=r},n.prototype.checkInterfaceDeclarationHeritageClauses=function(t){var n=this.childFullStart(t,t.heritageClauses),r=!1;for(var i=0,s=t.heritageClauses.childCount();i<s;i++){e.Debug.assert(i<=1);var o=t.heritageClauses.childAt(i);if(o.extendsOrImplementsKeyword.tokenKind!==48)return e.Debug.assert(o.extendsOrImplementsKeyword.tokenKind===51),this.pushDiagnostic1(n,o,37),!0;if(r)return this.pushDiagnostic1(n,o,29),!0;r=!0,n+=o.fullWidth()}return!1},n.prototype.checkInterfaceModifiers=function(e){var t=this.position();for(var n=0,r=e.childCount();n<r;n++){var i=e.childAt(n);if(i.tokenKind===64)return this.pushDiagnostic1(t,i,49),!0;t+=i.fullWidth()}return!1},n.prototype.visitInterfaceDeclaration=function(e){if(this.checkForReservedName(e,e.identifier,62)||this.checkInterfaceModifiers(e.modifiers)||this.checkModuleElementModifiers(e.modifiers)||this.checkInterfaceDeclarationHeritageClauses(e)){this.skip(e);return}t.prototype.visitInterfaceDeclaration.call(this,e)},n.prototype.checkClassElementModifiers=function(e){var t=this.position(),n=!1,r=!1;for(var i=0,s=e.childCount();i<s;i++){var o=e.childAt(i);if(o.tokenKind===57||o.tokenKind===55){if(n)return this.pushDiagnostic1(t,o,33),!0;if(r){var u=e.childAt(i-1);return this.pushDiagnostic1(t,o,34,[o.text(),u.text()]),!0}n=!0}else{if(o.tokenKind!==58)return this.pushDiagnostic1(t,o,36,[o.text()]),!0;if(r)return this.pushDiagnostic1(t,o,35,[o.text()]),!0;r=!0}t+=o.fullWidth()}return!1},n.prototype.visitMemberVariableDeclaration=function(e){if(this.checkClassElementModifiers(e.modifiers)){this.skip(e);return}t.prototype.visitMemberVariableDeclaration.call(this,e)},n.prototype.visitMemberFunctionDeclaration=function(e){if(this.checkClassElementModifiers(e.modifiers)){this.skip(e);return}t
.prototype.visitMemberFunctionDeclaration.call(this,e)},n.prototype.checkGetMemberAccessorParameter=function(e){var t=this.childFullStart(e,e.getKeyword);return e.parameterList.parameters.childCount()!==0?(this.pushDiagnostic1(t,e.getKeyword,56),!0):!1},n.prototype.checkEcmaScriptVersionIsAtLeast=function(e,t,n,r){if(this.syntaxTree.languageVersion()<n){var i=this.childFullStart(e,t);return this.pushDiagnostic1(i,t,r),!0}return!1},n.prototype.visitGetMemberAccessorDeclaration=function(e){if(this.checkEcmaScriptVersionIsAtLeast(e,e.getKeyword,1,60)||this.checkClassElementModifiers(e.modifiers)||this.checkGetMemberAccessorParameter(e)){this.skip(e);return}t.prototype.visitGetMemberAccessorDeclaration.call(this,e)},n.prototype.checkSetMemberAccessorParameter=function(t){var n=this.childFullStart(t,t.setKeyword);if(t.parameterList.parameters.childCount()!==1)return this.pushDiagnostic1(n,t.setKeyword,51),!0;var r=this.childFullStart(t,t.parameterList),i=r+e.Syntax.childOffset(t.parameterList,t.parameterList.openParenToken),s=t.parameterList.parameters.childAt(0);return s.publicOrPrivateKeyword?(this.pushDiagnostic1(i,s,52),!0):s.questionToken?(this.pushDiagnostic1(i,s,53),!0):s.equalsValueClause?(this.pushDiagnostic1(i,s,54),!0):s.dotDotDotToken?(this.pushDiagnostic1(i,s,55),!0):!1},n.prototype.visitSetMemberAccessorDeclaration=function(e){if(this.checkEcmaScriptVersionIsAtLeast(e,e.setKeyword,1,60)||this.checkClassElementModifiers(e.modifiers)||this.checkSetMemberAccessorParameter(e)){this.skip(e);return}t.prototype.visitSetMemberAccessorDeclaration.call(this,e)},n.prototype.visitGetAccessorPropertyAssignment=function(e){if(this.checkEcmaScriptVersionIsAtLeast(e,e.getKeyword,1,60)){this.skip(e);return}t.prototype.visitGetAccessorPropertyAssignment.call(this,e)},n.prototype.visitSetAccessorPropertyAssignment=function(e){if(this.checkEcmaScriptVersionIsAtLeast(e,e.setKeyword,1,60)){this.skip(e);return}t.prototype.visitSetAccessorPropertyAssignment.call(this,e)},n.prototype.visitEnumDeclaration=function(n){if(this.checkForReservedName(n,n.identifier,63)||this.checkForDisallowedDeclareModifier(n.modifiers)||this.checkForRequiredDeclareModifier(n,n.enumKeyword,n.modifiers)||this.checkModuleElementModifiers(n.modifiers),this.checkEnumElements(n)){this.skip(n);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||e.SyntaxUtilities.containsToken(n.modifiers,64),t.prototype.visitEnumDeclaration.call(this,n),this.inAmbientDeclaration=r},n.prototype.checkEnumElements=function(e){var t=this.childFullStart(e,e.enumElements),n=!1;for(var r=0,i=e.enumElements.childCount();r<i;r++){var s=e.enumElements.childAt(r);if(r%2===0){var o=s;if(!o.equalsValueClause&&n)return this.pushDiagnostic1(t,o,65,null),!0;if(o.equalsValueClause){var u=o.equalsValueClause.value;u.kind()!==13&&(n=!0)}}t+=s.fullWidth()}return!1},n.prototype.visitInvocationExpression=function(e){e.expression.kind()===50&&e.argumentList.typeArgumentList!==null&&this.pushDiagnostic1(this.position(),e,38),t.prototype.visitInvocationExpression.call(this,e)},n.prototype.checkModuleElementModifiers=function(t){var n=this.position(),r=!1,i=!1;for(var s=0,o=t.childCount();s<o;s++){var u=t.childAt(s);if(u.tokenKind===57||u.tokenKind===55||u.tokenKind===58)return this.pushDiagnostic1(n,u,48,[u.text()]),!0;if(u.tokenKind===64){if(i){this.pushDiagnostic1(n,u,33);return}i=!0}else if(u.tokenKind===47){if(r){this.pushDiagnostic1(n,u,35,[u.text()]);return}if(i){this.pushDiagnostic1(n,u,34,[e.SyntaxFacts.getText(47),e.SyntaxFacts.getText(64)]);return}r=!0}n+=u.fullWidth()}return!1},n.prototype.checkForDisallowedImportDeclaration=function(e){if(e.stringLiteral===null){var t=this.childFullStart(e,e.moduleElements);for(var n=0,r=e.moduleElements.childCount();n<r;n++){var i=e.moduleElements.childAt(n);if(i.kind()===133){var s=i;s.moduleReference.kind()===245&&this.pushDiagnostic1(t,s,203,null)}t+=i.fullWidth()}}return!1},n.prototype.visitModuleDeclaration=function(n){if(this.checkForReservedName(n,n.moduleName,64)||this.checkForDisallowedDeclareModifier(n.modifiers)||this.checkForRequiredDeclareModifier(n,n.moduleKeyword,n.modifiers)||this.checkModuleElementModifiers(n.modifiers)||this.checkForDisallowedImportDeclaration(n)||this.checkForDisallowedExports(n,n.moduleElements)||this.checkForMultipleExportAssignments(n,n.moduleElements)){this.skip(n);return}if(!e.SyntaxUtilities.containsToken(n.modifiers,64)&&this.checkFunctionOverloads(n,n.moduleElements)){this.skip(n);return}if(n.stringLiteral&&!this.inAmbientDeclaration&&!e.SyntaxUtilities.containsToken(n.modifiers,64)){var r=this.childFullStart(n,n.stringLiteral);this.pushDiagnostic1(r,n.stringLiteral,39),this.skip(n);return}if(!n.stringLiteral&&this.checkForDisallowedExportAssignment(n)){this.skip(n);return}var i=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||e.SyntaxUtilities.containsToken(n.modifiers,64),t.prototype.visitModuleDeclaration.call(this,n),this.inAmbientDeclaration=i},n.prototype.checkForDisallowedExports=function(t,n){var r=!1;for(var i=0,s=n.childCount();i<s;i++){var o=n.childAt(i);if(e.SyntaxUtilities.hasExportKeyword(o)){r=!0;break}}var u=this.childFullStart(t,n);if(r)for(var i=0,s=n.childCount();i<s;i++){var o=n.childAt(i);if(o.kind()===134)return this.pushDiagnostic1(u,o,68),!0;u+=o.fullWidth()}return!1},n.prototype.checkForMultipleExportAssignments=function(e,t){var n=this.childFullStart(e,t),r=!1,i=!1;for(var s=0,o=t.childCount();s<o;s++){var u=t.childAt(s);u.kind()===134&&(r&&(this.pushDiagnostic1(n,u,69),i=!0),r=!0),n+=u.fullWidth()}return i},n.prototype.checkForDisallowedExportAssignment=function(e){var t=this.childFullStart(e,e.moduleElements);for(var n=0,r=e.moduleElements.childCount();n<r;n++){var i=e.moduleElements.childAt(n);if(i.kind()===134)return this.pushDiagnostic1(t,i,67),!0;t+=i.fullWidth()}return!1},n.prototype.visitBlock=function(e){if(this.inAmbientDeclaration||this.syntaxTree.isDeclaration()){this.pushDiagnostic1(this.position(),e.firstToken(),41),this.skip(e);return}if(this.checkFunctionOverloads(e,e.statements)){this.skip(e);return}var n=this.inBlock;this.inBlock=!0,t.prototype.visitBlock.call(this,e),this.inBlock=n},n.prototype.checkForStatementInAmbientContxt=function(e){return this.inAmbientDeclaration||this.syntaxTree.isDeclaration()?(this.pushDiagnostic1(this.position(),e.firstToken(),40),!0):!1},n.prototype.visitBreakStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitBreakStatement.call(this,e)},n.prototype.visitContinueStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitContinueStatement.call(this,e)},n.prototype.visitDebuggerStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitDebuggerStatement.call(this,e)},n.prototype.visitDoStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitDoStatement.call(this,e)},n.prototype.visitEmptyStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitEmptyStatement.call(this,e)},n.prototype.visitExpressionStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitExpressionStatement.call(this,e)},n.prototype.visitForInStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitForInStatement.call(this,e)},n.prototype.visitForStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitForStatement.call(this,e)},n.prototype.visitIfStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitIfStatement.call(this,e)},n.prototype.visitLabeledStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitLabeledStatement.call(this,e)},n.prototype.visitReturnStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitReturnStatement.call(this,e)},n.prototype.visitSwitchStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitSwitchStatement.call(this,e)},n.prototype.visitThrowStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitThrowStatement.call(this,e)},n.prototype.visitTryStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitTryStatement.call(this,e)},n.prototype.visitWhileStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitWhileStatement.call(this,e)},n.prototype.visitWithStatement=function(e){if(this.checkForStatementInAmbientContxt(e)){this.skip(e);return}t.prototype.visitWithStatement.call(this,e)},n.prototype.checkForDisallowedModifiers=function(e,t){if(this.inBlock&&t.childCount()>0){var n=this.childFullStart(e,t);return this.pushDiagnostic1(n,t.childAt(0),59),!0}return!1},n.prototype.visitFunctionDeclaration=function(n){if(this.checkForDisallowedDeclareModifier(n.modifiers)||this.checkForDisallowedModifiers(n,n.modifiers)||this.checkForRequiredDeclareModifier(n,n.functionKeyword,n.modifiers)||this.checkModuleElementModifiers(n.modifiers)){this.skip(n);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||e.SyntaxUtilities.containsToken(n.modifiers,64),t.prototype.visitFunctionDeclaration.call(this,n),this.inAmbientDeclaration=r},n.prototype.visitVariableStatement=function(n){if(this.checkForDisallowedDeclareModifier(n.modifiers)||this.checkForDisallowedModifiers(n,n.modifiers)||this.checkForRequiredDeclareModifier(n,n.variableDeclaration,n.modifiers)||this.checkModuleElementModifiers(n.modifiers)){this.skip(n);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||e.SyntaxUtilities.containsToken(n.modifiers,64),t.prototype.visitVariableStatement.call(this,n),this.inAmbientDeclaration=r},n.prototype.checkListSeparators=function(t,n,r){var i=this.childFullStart(t,n);for(var s=0,o=n.childCount();s<o;s++){var u=n.childAt(s);s%2===1&&u.kind()!==r&&this.pushDiagnostic1(i,u,10,[e.SyntaxFacts.getText(r)]),i+=u.fullWidth()}return!1},n.prototype.visitObjectType=function(e){if(this.checkListSeparators(e,e.typeMembers,79)){this.skip(e);return}var n=this.inAmbientDeclaration;this.inAmbientDeclaration=!0,t.prototype.visitObjectType.call(this,e),this.inAmbientDeclaration=n},n.prototype.visitArrayType=function(e){var n=this.inAmbientDeclaration;this.inAmbientDeclaration=!0,t.prototype.visitArrayType.call(this,e),this.inAmbientDeclaration=n},n.prototype.visitFunctionType=function(e){var n=this.inAmbientDeclaration;this.inAmbientDeclaration=!0,t.prototype.visitFunctionType.call(this,e),this.inAmbientDeclaration=n},n.prototype.visitConstructorType=function(e){var n=this.inAmbientDeclaration;this.inAmbientDeclaration=!0,t.prototype.visitConstructorType.call(this,e),this.inAmbientDeclaration=n},n.prototype.visitEqualsValueClause=function(e){if(this.inAmbientDeclaration){this.pushDiagnostic1(this.position(),e.firstToken(),43),this.skip(e);return}t.prototype.visitEqualsValueClause.call(this,e)},n.prototype.visitConstructorDeclaration=function(e){var n=this.currentConstructor;this.currentConstructor=e,t.prototype.visitConstructorDeclaration.call(this,e),this.currentConstructor=n},n.prototype.visitSourceUnit=function(e){if(this.checkFunctionOverloads(e,e.moduleElements)||this.checkForDisallowedExports(e,e.moduleElements)||this.checkForMultipleExportAssignments(e,e.moduleElements)){this.skip(e);return}t.prototype.visitSourceUnit.call(this,e)},n.prototype.visitExternalModuleReference=function(e){if(e.moduleOrRequireKeyword.tokenKind===66&&!this.syntaxTree.parseOptions().allowModuleKeywordInExternalModuleReference()){this.pushDiagnostic1(this.position(),e.moduleOrRequireKeyword,66),this.skip(e);return}t.prototype.visitExternalModuleReference.call(this,e)},n}(e.PositionTrackingWalker)})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(t){function n(e){t.call(this),this.textSpan=e,this._position=0}return __extends(n,t),n.prototype.visitToken=function(e){this._position+=e.fullWidth()},n.prototype.visitNode=function(t){var n=new e.TextSpan(this.position(),t.fullWidth());n.intersectsWithTextSpan(this.textSpan)?t.accept(this):this._position+=t.fullWidth()},n.prototype.position=function(){return this._position},n}(e.SyntaxWalker)})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(){}return t.lookupInUnicodeMap=function(e,t){if(e<t[0])return!1;var n=0,r=t.length,i;while(n+1<r){i=n+(r-n)/2,i-=i%2;if(t[i]<=e&&e<=t[i+1])return!0;e<t[i]?r=i:n=i+2}return!1},t.isIdentifierStart=function(n,r){if(r===0)return t.lookupInUnicodeMap(n,t.unicodeES3IdentifierStart);if(r===1)return t.lookupInUnicodeMap(n,t.unicodeES5IdentifierStart);throw e.Errors.argumentOutOfRange("languageVersion")},t.isIdentifierPart=function(n,r){if(r===0)return t.lookupInUnicodeMap(n,t.unicodeES3IdentifierPart);if(r===1)return t.lookupInUnicodeMap(n,t.unicodeES5IdentifierPart);throw e.Errors.argumentOutOfRange("languageVersion")},t.unicodeES3IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES3IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES5IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES5IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t}();e.Unicode=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function t(e,t){return(e&t)!==0}function n(e,t){return e&~t}function a(e){return e}e.hasFlag=t,e.withoutFlag=n,function(e){e[e.None=0]="None",e[e.SingleLine=2]="SingleLine",e[e.OptionalName=4]="OptionalName",e[e.TypeReference=8]="TypeReference",e[e.EnumElement=16]="EnumElement",e[e.EnumMapElement=32]="EnumMapElement"}(e.ASTFlags||(e.ASTFlags={}));var r=e.ASTFlags;(function(e){e[e.None=0]="None",e[e.Exported=1]="Exported",e[e.Private=2]="Private",e[e.Public=4]="Public",e[e.Ambient=8]="Ambient",e[e.Static=16]="Static"})(e.DeclFlags||(e.DeclFlags={}));var i=e.DeclFlags;(function(e){e[e.None=0]="None",e[e.Exported=1]="Exported",e[e.Private=2]="Private",e[e.Public=4]="Public",e[e.Ambient=8]="Ambient",e[e.Static=16]="Static",e[e.IsEnum=128]="IsEnum",e[e.IsWholeFile=256]="IsWholeFile",e[e.IsDynamic=512]="IsDynamic"})(e.ModuleFlags||(e.ModuleFlags={}));var s=e.ModuleFlags;(function(e){e[e.None=0]="None",e[e.Exported=1]="Exported",e[e.Private=2]="Private",e[e.Public=4]="Public",e[e.Ambient=8]="Ambient",e[e.Static=16]="Static",e[e.Property=256]="Property",e[e.ClassProperty=2048]="ClassProperty",e[e.Constant=4096]="Constant",e[e.EnumElement=8192]="EnumElement"})(e.VariableFlags||(e.VariableFlags={}));var o=e.VariableFlags;(function(e){e[e.None=0]="None",e[e.Exported=1]="Exported",e[e.Private=2]="Private",e[e.Public=4]="Public",e[e.Ambient=8]="Ambient",e[e.Static=16]="Static",e[e.GetAccessor=32]="GetAccessor",e[e.SetAccessor=64]="SetAccessor",e[e.Signature=128]="Signature",e[e.Method=256]="Method",e[e.CallMember=512]="CallMember",e[e.ConstructMember=1024]="ConstructMember",e[e.IsFatArrowFunction=2048]="IsFatArrowFunction",e[e.IndexerMember=4096]="IndexerMember",e[e.IsFunctionExpression=8192]="IsFunctionExpression",e[e.IsFunctionProperty=16384]="IsFunctionProperty"})(e.FunctionFlags||(e.FunctionFlags={}));var u=e.FunctionFlags;e.ToDeclFlags=a,function(e){e[e.SuccessfulComparison=0]="SuccessfulComparison",e[e.RequiredPropertyIsMissing=2]="RequiredPropertyIsMissing",e[e.IncompatibleSignatures=4]="IncompatibleSignatures",e[e.SourceSignatureHasTooManyParameters=3]="SourceSignatureHasTooManyParameters",e[e.IncompatibleReturnTypes=16]="IncompatibleReturnTypes",e[e.IncompatiblePropertyTypes=32]="IncompatiblePropertyTypes",e[e.IncompatibleParameterTypes=64]="IncompatibleParameterTypes",e[e.InconsistantPropertyAccesibility=128]="InconsistantPropertyAccesibility"}(e.TypeRelationshipFlags||(e.TypeRelationshipFlags={}));var f=e.TypeRelationshipFlags;(function(e){e[e.Synchronous=0]="Synchronous",e[e.Asynchronous=1]="Asynchronous"})(e.ModuleGenTarget||(e.ModuleGenTarget={}));var l=e.ModuleGenTarget})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){e[e.None=0]="None",e[e.List=1]="List",e[e.Script=2]="Script",e[e.TrueLiteral=3]="TrueLiteral",e[e.FalseLiteral=4]="FalseLiteral",e[e.StringLiteral=5]="StringLiteral",e[e.RegularExpressionLiteral=6]="RegularExpressionLiteral",e[e.NumericLiteral=7]="NumericLiteral",e[e.NullLiteral=8]="NullLiteral",e[e.TypeParameter=9]="TypeParameter",e[e.GenericType=10]="GenericType",e[e.TypeRef=11]="TypeRef",e[e.FunctionDeclaration=12]="FunctionDeclaration",e[e.ClassDeclaration=13]="ClassDeclaration",e[e.InterfaceDeclaration=14]="InterfaceDeclaration",e[e.ModuleDeclaration=15]="ModuleDeclaration",e[e.ImportDeclaration=16]="ImportDeclaration",e[e.VariableDeclarator=17]="VariableDeclarator",e[e.VariableDeclaration=18]="VariableDeclaration",e[e.Parameter=19]="Parameter",e[e.Name=20]="Name",e[e.ArrayLiteralExpression=21]="ArrayLiteralExpression",e[e.ObjectLiteralExpression=22]="ObjectLiteralExpression",e[e.OmittedExpression=23]="OmittedExpression",e[e.VoidExpression=24]="VoidExpression",e[e.CommaExpression=25]="CommaExpression",e[e.PlusExpression=26]="PlusExpression",e[e.NegateExpression=27]="NegateExpression",e[e.DeleteExpression=28]="DeleteExpression",e[e.ThisExpression=29]="ThisExpression",e[e.SuperExpression=30]="SuperExpression",e[e.InExpression=31]="InExpression",e[e.MemberAccessExpression=32]="MemberAccessExpression",e[e.InstanceOfExpression=33]="InstanceOfExpression",e[e.TypeOfExpression=34]="TypeOfExpression",e[e.ElementAccessExpression=35]="ElementAccessExpression",e[e.InvocationExpression=36]="InvocationExpression",e[e.ObjectCreationExpression=37]="ObjectCreationExpression",e[e.AssignmentExpression=38]="AssignmentExpression",e[e.AddAssignmentExpression=39]="AddAssignmentExpression",e[e.SubtractAssignmentExpression=40]="SubtractAssignmentExpression",e[e.DivideAssignmentExpression=41]="DivideAssignmentExpression",e[e.MultiplyAssignmentExpression=42]="MultiplyAssignmentExpression",e[e.ModuloAssignmentExpression=43]="ModuloAssignmentExpression",e[e.AndAssignmentExpression=44]="AndAssignmentExpression",e[e.ExclusiveOrAssignmentExpression=45]="ExclusiveOrAssignmentExpression"
,e[e.OrAssignmentExpression=46]="OrAssignmentExpression",e[e.LeftShiftAssignmentExpression=47]="LeftShiftAssignmentExpression",e[e.SignedRightShiftAssignmentExpression=48]="SignedRightShiftAssignmentExpression",e[e.UnsignedRightShiftAssignmentExpression=49]="UnsignedRightShiftAssignmentExpression",e[e.ConditionalExpression=50]="ConditionalExpression",e[e.LogicalOrExpression=51]="LogicalOrExpression",e[e.LogicalAndExpression=52]="LogicalAndExpression",e[e.BitwiseOrExpression=53]="BitwiseOrExpression",e[e.BitwiseExclusiveOrExpression=54]="BitwiseExclusiveOrExpression",e[e.BitwiseAndExpression=55]="BitwiseAndExpression",e[e.EqualsWithTypeConversionExpression=56]="EqualsWithTypeConversionExpression",e[e.NotEqualsWithTypeConversionExpression=57]="NotEqualsWithTypeConversionExpression",e[e.EqualsExpression=58]="EqualsExpression",e[e.NotEqualsExpression=59]="NotEqualsExpression",e[e.LessThanExpression=60]="LessThanExpression",e[e.LessThanOrEqualExpression=61]="LessThanOrEqualExpression",e[e.GreaterThanExpression=62]="GreaterThanExpression",e[e.GreaterThanOrEqualExpression=63]="GreaterThanOrEqualExpression",e[e.AddExpression=64]="AddExpression",e[e.SubtractExpression=65]="SubtractExpression",e[e.MultiplyExpression=66]="MultiplyExpression",e[e.DivideExpression=67]="DivideExpression",e[e.ModuloExpression=68]="ModuloExpression",e[e.LeftShiftExpression=69]="LeftShiftExpression",e[e.SignedRightShiftExpression=70]="SignedRightShiftExpression",e[e.UnsignedRightShiftExpression=71]="UnsignedRightShiftExpression",e[e.BitwiseNotExpression=72]="BitwiseNotExpression",e[e.LogicalNotExpression=73]="LogicalNotExpression",e[e.PreIncrementExpression=74]="PreIncrementExpression",e[e.PreDecrementExpression=75]="PreDecrementExpression",e[e.PostIncrementExpression=76]="PostIncrementExpression",e[e.PostDecrementExpression=77]="PostDecrementExpression",e[e.CastExpression=78]="CastExpression",e[e.ParenthesizedExpression=79]="ParenthesizedExpression",e[e.Member=80]="Member",e[e.Block=81]="Block",e[e.BreakStatement=82]="BreakStatement",e[e.ContinueStatement=83]="ContinueStatement",e[e.DebuggerStatement=84]="DebuggerStatement",e[e.DoStatement=85]="DoStatement",e[e.EmptyStatement=86]="EmptyStatement",e[e.ExportAssignment=87]="ExportAssignment",e[e.ExpressionStatement=88]="ExpressionStatement",e[e.ForInStatement=89]="ForInStatement",e[e.ForStatement=90]="ForStatement",e[e.IfStatement=91]="IfStatement",e[e.LabeledStatement=92]="LabeledStatement",e[e.ReturnStatement=93]="ReturnStatement",e[e.SwitchStatement=94]="SwitchStatement",e[e.ThrowStatement=95]="ThrowStatement",e[e.TryStatement=96]="TryStatement",e[e.VariableStatement=97]="VariableStatement",e[e.WhileStatement=98]="WhileStatement",e[e.WithStatement=99]="WithStatement",e[e.CaseClause=100]="CaseClause",e[e.CatchClause=101]="CatchClause",e[e.Comment=102]="Comment"})(e.NodeType||(e.NodeType={}));var t=e.NodeType})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){this.prototype=undefined,this.toString=undefined,this.toLocaleString=undefined,this.valueOf=undefined,this.hasOwnProperty=undefined,this.propertyIsEnumerable=undefined,this.isPrototypeOf=undefined,this.constructor=undefined}return e}();e.BlockIntrinsics=t;var n=function(){function e(){this.itemCount=0,this.table=new t}return e.prototype.getAllKeys=function(){var e=[];for(var t in this.table)this.table[t]!==undefined&&e.push(t);return e},e.prototype.add=function(e,t){return this.table[e]!==undefined?!1:(this.table[e]=t,this.itemCount++,!0)},e.prototype.addOrUpdate=function(e,t){return this.table[e]!==undefined?(this.table[e]=t,!1):(this.table[e]=t,this.itemCount++,!0)},e.prototype.map=function(e,t){for(var n in this.table){var r=this.table[n];r!==undefined&&e(n,this.table[n],t)}},e.prototype.every=function(e,t){for(var n in this.table){var r=this.table[n];if(r!==undefined&&!e(n,this.table[n],t))return!1}return!0},e.prototype.some=function(e,t){for(var n in this.table){var r=this.table[n];if(r!==undefined&&e(n,this.table[n],t))return!0}return!1},e.prototype.count=function(){return this.itemCount},e.prototype.lookup=function(e){var t=this.table[e];return t===undefined?null:t},e}();e.StringHashTable=n;var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getAllKeys=function(){var t=[];return e.prototype.map.call(this,function(e,n,r){n!==undefined&&t.push(e.substring(1))},null),t},t.prototype.add=function(t,n){return e.prototype.add.call(this,"#"+t,n)},t.prototype.addOrUpdate=function(t,n){return e.prototype.addOrUpdate.call(this,"#"+t,n)},t.prototype.map=function(t,n){return e.prototype.map.call(this,function(e,n,r){return t(e.substring(1),n,r)},n)},t.prototype.every=function(t,n){return e.prototype.every.call(this,function(e,n,r){return t(e.substring(1),n,r)},n)},t.prototype.some=function(t,n){return e.prototype.some.call(this,function(e,n,r){return t(e.substring(1),n,r)},n)},t.prototype.lookup=function(t){return e.prototype.lookup.call(this,"#"+t)},t}(n);e.IdentiferNameHashTable=r})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function n(e,t){return i(e,t,!1)}function r(e,t){return i(e,t,!0)}function i(e,t,n){return e===t?!0:e!==null&&t!==null&&e.nodeType===t.nodeType&&e.structuralEquals(t,n)}function s(t,i,s){return e.ArrayUtilities.sequenceEquals(t,i,s?r:n)}var t=function(){function e(){this.minChar=-1,this.limChar=-1,this.trailingTriviaWidth=0}return e}();e.ASTSpan=t,e.astID=0,e.structuralEqualsNotIncludingPosition=n,e.structuralEqualsIncludingPosition=r;var o=function(){function t(t){this.nodeType=t,this.minChar=-1,this.limChar=-1,this.trailingTriviaWidth=0,this._flags=0,this.typeCheckPhase=-1,this.astID=e.astID++,this.passCreated=e.CompilerDiagnostics.analysisPass,this.preComments=null,this.postComments=null,this.docComments=null}return t.prototype.shouldEmit=function(){return!0},t.prototype.isExpression=function(){return!1},t.prototype.isStatementOrExpression=function(){return!1},t.prototype.getFlags=function(){return this._flags},t.prototype.setFlags=function(e){this._flags=e},t.prototype.getLength=function(){return this.limChar-this.minChar},t.prototype.getID=function(){return this.astID},t.prototype.isDeclaration=function(){return!1},t.prototype.isStatement=function(){return!1},t.prototype.emit=function(e){e.emitComments(this,!0),e.recordSourceMappingStart(this),this.emitWorker(e),e.recordSourceMappingEnd(this),e.emitComments(this,!1)},t.prototype.emitWorker=function(e){throw new Error("please implement in derived class")},t.prototype.getDocComments=function(){if(!this.isDeclaration()||!this.preComments||this.preComments.length===0)return[];if(!this.docComments){var e=this.preComments.length,t=[];for(var n=e-1;n>=0;n--){if(this.preComments[n].isDocComment()){var r=t.length>0?t[t.length-1]:null;if(r===null||this.preComments[n].limLine===r.minLine||this.preComments[n].limLine+1===r.minLine){t.push(this.preComments[n]);continue}}break}this.docComments=t.reverse()}return this.docComments},t.prototype.structuralEquals=function(e,t){if(t)if(this.minChar!==e.minChar||this.limChar!==e.limChar)return!1;return this._flags===e._flags&&s(this.preComments,e.preComments,t)&&s(this.postComments,e.postComments,t)},t}();e.AST=o;var u=function(e){function t(){e.call(this,1),this.members=[]}return __extends(t,e),t.prototype.append=function(e){return this.members[this.members.length]=e,this},t.prototype.emit=function(e){e.recordSourceMappingStart(this),e.emitModuleElements(this),e.recordSourceMappingEnd(this)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&s(this.members,t.members,n)},t}(o);e.ASTList=u;var a=function(e){function t(t){e.call(this,t)}return __extends(t,e),t}(o);e.Expression=a;var f=function(e){function t(t){e.call(this,20),this.actualText=t,this.setText(t)}return __extends(t,e),t.prototype.setText=function(e){this.actualText=e,this.text=e},t.prototype.isMissing=function(){return!1},t.prototype.emit=function(e){e.emitName(this,!0)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&this.text===t.text&&this.actualText===t.actualText&&this.isMissing()===t.isMissing()},t}(a);e.Identifier=f;var l=function(e){function t(){e.call(this,"__missing")}return __extends(t,e),t.prototype.isMissing=function(){return!0},t.prototype.emit=function(e){},t}(f);e.MissingIdentifier=l;var c=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.emitWorker=function(e){switch(this.nodeType){case 8:e.writeToOutput("null");break;case 4:e.writeToOutput("false");break;case 3:e.writeToOutput("true");break;default:throw new Error("please implement in derived class")}},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)},t}(a);e.LiteralExpression=c;var h=function(t){function n(){t.call(this,29)}return __extends(n,t),n.prototype.emitWorker=function(t){t.thisFunctionDeclaration&&e.hasFlag(t.thisFunctionDeclaration.getFunctionFlags(),2048)?t.writeToOutput("_this"):t.writeToOutput("this")},n.prototype.structuralEquals=function(e,n){return t.prototype.structuralEquals.call(this,e,n)},n}(a);e.ThisExpression=h;var p=function(e){function t(){e.call(this,30)}return __extends(t,e),t.prototype.emitWorker=function(e){e.emitSuperReference()},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)},t}(a);e.SuperExpression=p;var d=function(e){function t(t){e.call(this,79),this.expression=t}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput("("),this.expression.emit(e),e.writeToOutput(")")},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.expression,t.expression,n)},t}(a);e.ParenthesizedExpression=d;var v=function(e){function t(t,n){e.call(this,t),this.operand=n,this.castTerm=null}return __extends(t,e),t.prototype.emitWorker=function(e){switch(this.nodeType){case 76:this.operand.emit(e),e.writeToOutput("++");break;case 73:e.writeToOutput("!"),this.operand.emit(e);break;case 77:this.operand.emit(e),e.writeToOutput("--");break;case 22:e.emitObjectLiteral(this);break;case 21:e.emitArrayLiteral(this);break;case 72:e.writeToOutput("~"),this.operand.emit(e);break;case 27:e.writeToOutput("-"),(this.operand.nodeType===27||this.operand.nodeType===75)&&e.writeToOutput(" "),this.operand.emit(e);break;case 26:e.writeToOutput("+"),(this.operand.nodeType===26||this.operand.nodeType===74)&&e.writeToOutput(" "),this.operand.emit(e);break;case 74:e.writeToOutput("++"),this.operand.emit(e);break;case 75:e.writeToOutput("--"),this.operand.emit(e);break;case 34:e.writeToOutput("typeof "),this.operand.emit(e);break;case 28:e.writeToOutput("delete "),this.operand.emit(e);break;case 24:e.writeToOutput("void "),this.operand.emit(e);break;case 78:this.operand.emit(e);break;default:throw new Error("please implement in derived class")}},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.castTerm,t.castTerm,n)&&i(this.operand,t.operand,n)},t}(a);e.UnaryExpression=v;var m=function(e){function t(t,n,r,i){e.call(this,t),this.target=n,this.typeArguments=r,this.arguments=i}return __extends(t,e),t.prototype.emitWorker=function(e){this.nodeType===37?e.emitNew(this.target,this.arguments):e.emitCall(this,this.target,this.arguments)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.target,t.target,n)&&i(this.typeArguments,t.typeArguments,n)&&i(this.arguments,t.arguments,n)},t}(a);e.CallExpression=m;var g=function(t){function n(e,n,r){t.call(this,e),this.operand1=n,this.operand2=r}return __extends(n,t),n.getTextForBinaryToken=function(t){switch(t){case 25:return",";case 38:return"=";case 39:return"+=";case 40:return"-=";case 42:return"*=";case 41:return"/=";case 43:return"%=";case 44:return"&=";case 45:return"^=";case 46:return"|=";case 47:return"<<=";case 48:return">>=";case 49:return">>>=";case 51:return"||";case 52:return"&&";case 53:return"|";case 54:return"^";case 55:return"&";case 56:return"==";case 57:return"!=";case 58:return"===";case 59:return"!==";case 60:return"<";case 62:return">";case 61:return"<=";case 63:return">=";case 33:return"instanceof";case 31:return"in";case 69:return"<<";case 70:return">>";case 71:return">>>";case 66:return"*";case 67:return"/";case 68:return"%";case 64:return"+";case 65:return"-"}throw e.Errors.invalidOperation()},n.prototype.emitWorker=function(t){switch(this.nodeType){case 32:t.tryEmitConstant(this)||(this.operand1.emit(t),t.writeToOutput("."),t.emitName(this.operand2,!1));break;case 35:t.emitIndex(this.operand1,this.operand2);break;case 80:if(this.operand2.nodeType===12&&this.operand2.isAccessor()){var r=this.operand2;e.hasFlag(r.getFunctionFlags(),32)?t.writeToOutput("get "):t.writeToOutput("set "),this.operand1.emit(t)}else this.operand1.emit(t),t.writeToOutputTrimmable(": ");this.operand2.emit(t);break;case 25:this.operand1.emit(t),t.writeToOutput(", "),this.operand2.emit(t);break;default:this.operand1.emit(t);var i=n.getTextForBinaryToken(this.nodeType);i==="instanceof"?t.writeToOutput(" instanceof "):i==="in"?t.writeToOutput(" in "):t.writeToOutputTrimmable(" "+i+" "),this.operand2.emit(t)}},n.prototype.structuralEquals=function(e,n){return t.prototype.structuralEquals.call(this,e,n)&&i(this.operand1,e.operand1,n)&&i(this.operand2,e.operand2,n)},n}(a);e.BinaryExpression=g;var y=function(e){function t(t,n,r){e.call(this,50),this.operand1=t,this.operand2=n,this.operand3=r}return __extends(t,e),t.prototype.emitWorker=function(e){this.operand1.emit(e),e.writeToOutput(" ? "),this.operand2.emit(e),e.writeToOutput(" : "),this.operand3.emit(e)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.operand1,t.operand1,n)&&i(this.operand2,t.operand2,n)&&i(this.operand3,t.operand3,n)},t}(a);e.ConditionalExpression=y;var b=function(e){function t(t,n){e.call(this,7),this.value=t,this.text=n}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput(this.text)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&this.value===t.value&&this.text===t.text},t}(a);e.NumberLiteral=b;var w=function(e){function t(t){e.call(this,6),this.text=t}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput(this.text)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&this.text===t.text},t}(a);e.RegexLiteral=w;var E=function(e){function t(t,n){e.call(this,5),this.actualText=t,this.text=n}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput(this.actualText)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&this.actualText===t.actualText},t}(a);e.StringLiteral=E;var S=function(e){function t(t,n){e.call(this,16),this.id=t,this.alias=n,this.isDynamicImport=!1}return __extends(t,e),t.prototype.isStatementOrExpression=function(){return!0},t.prototype.isDeclaration=function(){return!0},t.prototype.emit=function(e){if(e.importStatementShouldBeEmitted(this)){var t=e.modAliasId,n=e.firstModAlias;e.recordSourceMappingStart(this),e.emitComments(this,!0),e.writeToOutput("var "+this.id.actualText+" = "),e.modAliasId=this.id.actualText,e.firstModAlias=this.firstAliasedModToString();var r=this.alias.nodeType===11?this.alias.term:this.alias;e.emitJavascript(r,!1),e.writeToOutput(";"),e.emitComments(this,!1),e.recordSourceMappingEnd(this),e.modAliasId=t,e.firstModAlias=n}},t.prototype.getAliasName=function(e){typeof e=="undefined"&&(e=this.alias);if(e.nodeType===20)return e.actualText;var t=e;return this.getAliasName(t.operand1)+"."+this.getAliasName(t.operand2)},t.prototype.firstAliasedModToString=function(){if(this.alias.nodeType===20)return this.alias.actualText;var e=this.alias,t=e.term.operand1;return t.actualText},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.id,t.id,n)&&i(this.alias,t.alias,n)},t}(o);e.ImportDeclaration=S;var x=function(e){function t(t){e.call(this,87),this.id=t}return __extends(t,e),t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.id,t.id,n)},t.prototype.emit=function(e){e.setExportAssignmentIdentifier(this.id.actualText)},t}(o);e.ExportAssignment=x;var T=function(t){function n(e,n){t.call(this,n),this.id=e,this.init=null,this.isImplicitlyInitialized=!1,this.typeExpr=null,this._varFlags=0}return __extends(n,t),n.prototype.isDeclaration=function(){return!0},n.prototype.isStatementOrExpression=function(){return!0},n.prototype.getVarFlags=function(){return this._varFlags},n.prototype.setVarFlags=function(e){this._varFlags=e},n.prototype.isProperty=function(){return e.hasFlag(this.getVarFlags(),256)},n.prototype.structuralEquals=function(e,n){return t.prototype.structuralEquals.call(this,e,n)&&this._varFlags===e._varFlags&&i(this.init,e.init,n)&&i(this.typeExpr,e.typeExpr,n)&&i(this.id,e.id,n)},n}(o);e.BoundDecl=T;var N=function(t){function n(e){t.call(this,e,17)}return __extends(n,t),n.prototype.isExported=function(){return e.hasFlag(this.getVarFlags(),1)},n.prototype.isStatic=function(){return e.hasFlag(this.getVarFlags(),16)},n.prototype.emit=function(e){e.emitVariableDeclarator(this)},n}(T);e.VariableDeclarator=N;var C=function(e){function t(t){e.call(this,t,19),this.isOptional=!1}return __extends(t,e),t.prototype.isOptionalArg=function(){return this.isOptional||this.init},t.prototype.emitWorker=function(e){e.writeToOutput(this.id.actualText)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&this.isOptional===t.isOptional},t}(T);e.Parameter=C;var k=function(t){function n(e,n,r,i,s,o){t.call(this,o),this.name=e,this.block=n,this.isConstructor=r,this.typeArguments=i,this.arguments=s,this.hint=null,this._functionFlags=0,this.returnTypeAnnotation=null,this.variableArgList=!1,this.classDecl=null}return __extends(n,t),n.prototype.isDeclaration=function(){return!0},n.prototype.getFunctionFlags=function(){return this._functionFlags},n.prototype.setFunctionFlags=function(e){this._functionFlags=e},n.prototype.structuralEquals=function(e,n){return t.prototype.structuralEquals.call(this,e,n)&&this._functionFlags===e._functionFlags&&this.hint===e.hint&&this.variableArgList===e.variableArgList&&i(this.name,e.name,n)&&i(this.block,e.block,n)&&this.isConstructor===e.isConstructor&&i(this.typeArguments,e.typeArguments,n)&&i(this.arguments,e.arguments,n)},n.prototype.shouldEmit=function(){return!e.hasFlag(this.getFunctionFlags(),128)&&!e.hasFlag(this.getFunctionFlags(),8)},n.prototype.emit=function(e){e.emitFunction(this)},n.prototype.getNameText=function(){return this.name?this.name.actualText:this.hint},n.prototype.isMethod=function(){return(this.getFunctionFlags()&256)!==0},n.prototype.isCallMember=function(){return e.hasFlag(this.getFunctionFlags(),512)},n.prototype.isConstructMember=function(){return e.hasFlag(this.getFunctionFlags(),1024)},n.prototype.isIndexerMember=function(){return e.hasFlag(this.getFunctionFlags(),4096)},n.prototype.isSpecialFn=function(){return this.isCallMember()||this.isIndexerMember()||this.isConstructMember()},n.prototype.isAccessor=function(){return e.hasFlag(this.getFunctionFlags(),32)||e.hasFlag(this.getFunctionFlags(),64)},n.prototype.isGetAccessor=function(){return e.hasFlag(this.getFunctionFlags(),32)},n.prototype.isSetAccessor=function(){return e.hasFlag(this.getFunctionFlags(),64)},n.prototype.isStatic=function(){return e.hasFlag(this.getFunctionFlags(),16)},n.prototype.isSignature=function(){return(this.getFunctionFlags()&128)!==0},n}(o);e.FunctionDeclaration=k;var L=function(e){function t(){e.call(this,2),this.moduleElements=null,this.referencedFiles=[],this.requiresExtendsBlock=!1,this.isDeclareFile=!1,this.topLevelMod=null,this.containsUnicodeChar=!1,this.containsUnicodeCharInComment=!1}return __extends(t,e),t.prototype.emit=function(e){this.isDeclareFile||e.emitScriptElements(this,this.requiresExtendsBlock)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.moduleElements,t.moduleElements,n)},t}(o);e.Script=L;var A=function(e){function t(t,n,r){e.call(this,t),this.name=n,this.members=r}return __extends(t,e),t.prototype.isDeclaration=function(){return!0},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.name,t.name,n)&&i(this.members,t.members,n)},t}(o);e.NamedDeclaration=A;var O=function(t){function n(e,n,r){t.call(this,15,e,n),this.endingToken=r,this._moduleFlags=0,this.amdDependencies=[],this.containsUnicodeChar=!1,this.containsUnicodeCharInComment=!1,this.prettyName=this.name.actualText}return __extends(n,t),n.prototype.getModuleFlags=function(){return this._moduleFlags},n.prototype.setModuleFlags=function(e){this._moduleFlags=e},n.prototype.structuralEquals=function(e,n){return t.prototype.structuralEquals.call(this,e,n)?this._moduleFlags===e._moduleFlags:!1},n.prototype.isEnum=function(){return e.hasFlag(this.getModuleFlags(),128)},n.prototype.isWholeFile=function(){return e.hasFlag(this.getModuleFlags(),256)},n.prototype.shouldEmit=function(){if(e.hasFlag(this.getModuleFlags(),8))return!1;if(e.hasFlag(this.getModuleFlags(),128))return!0;for(var t=0,n=this.members.members.length;t<n;t++){var r=this.members.members[t];if(r.nodeType===15){if(r.shouldEmit())return!0}else if(r.nodeType!==14)return!0}return!1},n.prototype.emit=function(e){this.shouldEmit()&&(e.emitComments(this,!0),e.emitModule(this),e.emitComments(this,!1))},n}(A);e.ModuleDeclaration=O;var M=function(e){function t(t,n,r,i,s,o){e.call(this,t,n,o),this.typeParameters=r,this.extendsList=i,this.implementsList=s,this._varFlags=0}return __extends(t,e),t.prototype.getVarFlags=function(){return this._varFlags},t.prototype.setVarFlags=function(e){this._varFlags=e},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&this._varFlags===t._varFlags&&i(this.typeParameters,t.typeParameters,n)&&i(this.extendsList,t.extendsList,n)&&i(this.implementsList,t.implementsList,n)},t}(A);e.TypeDeclaration=M;var _=function(t){function n(e,n,r,i,s){t.call(this,13,e,n,i,s,r),this.constructorDecl=null,this.endingToken=null}return __extends(n,t),n.prototype.shouldEmit=function(){return!e.hasFlag(this.getVarFlags(),8)},n.prototype.emit=function(e){e.emitClass(this)},n}(M);e.ClassDeclaration=_;var D=function(e){function t(t,n,r,i,s){e.call(this,14,t,n,i,s,r)}return __extends(t,e),t.prototype.shouldEmit=function(){return!1},t}(M);e.InterfaceDeclaration=D;var P=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.isStatement=function(){return!0},t.prototype.isStatementOrExpression=function(){return!0},t}(o);e.Statement=P;var H=function(e){function t(t){e.call(this,95),this.expression=t}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput("throw "),this.expression.emit(e),e.writeToOutput(";")},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.expression,t.expression,n)},t}(P);e.ThrowStatement=H;var B=function(e){function t(t){e.call(this,88),this.expression=t}return __extends(t,e),t.prototype.emitWorker=function(e){this.expression.emit(e),e.writeToOutput(";")},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.expression,t.expression,n)},t}(P);e.ExpressionStatement=B;var j=function(e){function t(t,n){e.call(this,92),this.identifier=t,this.statement=n}return __extends(t,e),t.prototype.emitWorker=function(e){e.recordSourceMappingStart(this.identifier),e.writeToOutput(this.identifier.actualText),e.recordSourceMappingEnd(this.identifier),e.writeLineToOutput(":"),e.emitJavascript(this.statement,!0)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.identifier,t.identifier,n)&&i(this.statement,t.statement,n)},t}(P);e.LabeledStatement=j;var F=function(e){function t(t){e.call(this,18),this.declarators=t}return __extends(t,e),t.prototype.emit=function(e){e.emitVariableDeclaration(this)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.declarators,t.declarators,n)},t}(o);e.VariableDeclaration=F;var I=function(t){function n(e){t.call(this,97),this.declaration=e}return __extends(n,t),n.prototype.shouldEmit=function(){if(e.hasFlag(this.getFlags(),32))return!1;var t=this.declaration.declarators.members[0];return!e.hasFlag(t.getVarFlags(),8)||t.init!==null},n.prototype.emitWorker=function(t){e.hasFlag(this.getFlags(),16)?t.emitEnumElement(this.declaration.declarators.members[0]):(this.declaration.emit(t),t.writeToOutput(";"))},n.prototype.structuralEquals=function(e,n){return t.prototype.structuralEquals.call(this,e,n)&&i(this.declaration,e.declaration,n)},n}(P);e.VariableStatement=I;var q=function(e){function t(t){e.call(this,81),this.statements=t,this.closeBraceSpan=null}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeLineToOutput(" {"),e.indenter.increaseIndent(),this.statements&&e.emitModuleElements(this.statements),e.indenter.decreaseIndent(),e.emitIndent(),e.writeToOutput("}")},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.statements,t.statements,n)},t}(P);e.Block=q;var R=function(e){function t(t){e.call(this,t),this.target=null,this.resolvedTarget=null}return __extends(t,e),t.prototype.hasExplicitTarget=function(){return this.target},t.prototype.emitWorker=function(e){this.nodeType===82?e.writeToOutput("break"):e.writeToOutput("continue"),this.hasExplicitTarget()&&e.writeToOutput(" "+this.target),e.writeToOutput(";")},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&this.target===t.target},t}(P);e.Jump=R;var U=function(e){function t(t,n){e.call(this,98),this.cond=t,this.body=n}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput("while ("),this.cond.emit(e),e.writeToOutput(")"),e.emitBlockOrStatement(this.body)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.cond,t.cond,n)&&i(this.body,t.body,n)},t}(P);e.WhileStatement=U;var z=function(e){function t(t,n){e.call(this,85),this.body=t,this.cond=n,this.whileSpan=null}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput("do"),e.emitBlockOrStatement(this.body),e.recordSourceMappingStart(this.whileSpan),e.writeToOutput(" while"),e.recordSourceMappingEnd(this.whileSpan),e.writeToOutput("("),this.cond.emit(e),e.writeToOutput(")"),e.writeToOutput(";")},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.body,t.body,n)&&i(this.cond,t.cond,n)},t}(P);e.DoStatement=z;var W=function(e){function n(n,r,i){e.call(this,91),this.cond=n,this.thenBod=r,this.elseBod=i,this.statement=new t}return __extends(n,e),n.prototype.emitWorker=function(e){e.recordSourceMappingStart(this.statement),e.writeToOutput("if ("),this.cond.emit(e),e.writeToOutput(")"),e.recordSourceMappingEnd(this.statement),e.emitBlockOrStatement(this.thenBod),this.elseBod&&(this.elseBod.nodeType===91?(e.writeToOutput(" else "),this.elseBod.emit(e)):(e.writeToOutput(" else"),e.emitBlockOrStatement(this.elseBod)))},n.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.cond,t.cond,n)&&i(this.thenBod,t.thenBod,n)&&i(this.elseBod,t.elseBod,n)},n}(P);e.IfStatement=W;var X=function(e){function t(t){e.call(this,93),this.returnExpression=t}return __extends(t,e),t.prototype.emitWorker=function(e){this.returnExpression?(e.writeToOutput("return "),this.returnExpression.emit(e),e.writeToOutput(";")):e.writeToOutput("return;")},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.returnExpression,t.returnExpression,n)},t}(P);e.ReturnStatement=X;var V=function(e){function n(n,r,i){e.call(this,89),this.lval=n,this.obj=r,this.body=i,this.statement=new t}return __extends(n,e),n.prototype.emitWorker=function(e){e.recordSourceMappingStart(this.statement),e.writeToOutput("for ("),this.lval.emit(e),e.writeToOutput(" in "),this.obj.emit(e),e.writeToOutput(")"),e.recordSourceMappingEnd(this.statement),e.emitBlockOrStatement(this.body)},n.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.lval,t.lval,n)&&i(this.obj,t.obj,n)&&i(this.body,t.body,n)},n}(P);e.ForInStatement=V;var $=function(e){function t(t,n,r,i){e.call(this,90),this.init=t,this.cond=n,this.incr=r,this.body=i}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput("for ("),this.init&&(this.init.nodeType!==1?this.init.emit(e):(e.setInVarBlock(this.init.members.length),e.emitCommaSeparatedList(this.init))),e.writeToOutput("; "),e.emitJavascript(this.cond,!1),e.writeToOutput("; "),e.emitJavascript(this.incr,!1),e.writeToOutput(")"),e.emitBlockOrStatement(this.body)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.init,t.init,n)&&i(this.cond,t.cond,n)&&i(this.incr,t.incr,n)&&i(this.body,t.body,n)},t}(P);e.ForStatement=$;var J=function(e){function t(t,n){e.call(this,99),this.expr=t,this.body=n}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput("with ("),this.expr&&this.expr.emit(e),e.writeToOutput(")"),e.emitBlockOrStatement(this.body)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.expr,t.expr,n)&&i(this.body,t.body,n)},t}(P);e.WithStatement=J;var K=function(e){function n(n){e.call(this,94),this.val=n,this.defaultCase=null,this.statement=new t}return __extends(n,e),n.prototype.emitWorker=function(e){e.recordSourceMappingStart(this.statement),e.writeToOutput("switch ("),this.val.emit(e),e.writeToOutput(")"),e.recordSourceMappingEnd(this.statement),e.writeLineToOutput(" {"),e.indenter.increaseIndent();var t=null;for(var n=0,r=this.caseList.members.length;n<r;n++){var i=this.caseList.members[n];e.emitSpaceBetweenConstructs(t,i),e.emitJavascript(i,!0),t=i}e.indenter.decreaseIndent(),e.emitIndent(),e.writeToOutput("}")},n.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.caseList,t.caseList,n)&&i(this.val,t.val,n)},n}(P);e.SwitchStatement=K;var Q=function(e){function n(){e.call(this,100),this.expr=null,this.colonSpan=new t}return __extends(n,e),n.prototype.emitWorker=function(e){this.expr?(e.writeToOutput("case "),this.expr.emit(e)):e.writeToOutput("default"),e.recordSourceMappingStart(this.colonSpan),e.writeToOutput(":"),e.recordSourceMappingEnd(this.colonSpan),this.body.members.length===1&&this.body.members[0].nodeType===81?(this.body.members[0].emit(e),e.writeLineToOutput("")):(e.writeLineToOutput(""),e.indenter.increaseIndent(),this.body.emit(e),e.indenter.decreaseIndent())},n.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.expr,t.expr,n)&&i(this.body,t.body,n)},n}(o);e.CaseClause=Q;var G=function(e){function t(t,n){e.call(this,9),this.name=t,this.constraint=n}return __extends(t,e),t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.name,t.name,n)&&i(this.constraint,t.constraint,n)},t}(o);e.TypeParameter=G;var Y=function(e){function t(t,n){e.call(this,10),this.name=t,this.typeArguments=n}return __extends(t,e),t.prototype.emit=function(e){this.name.emit(e)},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.name,t.name,n)&&i(this.typeArguments,t.typeArguments,n)},t}(o);e.GenericType=Y;var Z=function(e){function t(t,n){e.call(this,11),this.term=t,this.arrayCount=n}return __extends(t,e),t.prototype.emit=function(e){throw new Error("should not emit a type ref")},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.term,t.term,n)&&this.arrayCount===t.arrayCount},t}(o);e.TypeReference=Z;var et=function(e){function t(t,n,r){e.call(this,96),this.tryBody=t,this.catchClause=n,this.finallyBody=r}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput("try "),this.tryBody.emit(e),e.emitJavascript(this.catchClause,!1),this.finallyBody&&(e.writeToOutput(" finally"),this.finallyBody.emit(e))},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.tryBody,t.tryBody,n)&&i(this.catchClause,t.catchClause,n)&&i(this.finallyBody,t.finallyBody,n)},t}(P);e.TryStatement=et;var tt=function(e){function n(n,r){e.call(this,101),this.param=n,this.body=r,this.statement=new t}return __extends(n,e),n
.prototype.emitWorker=function(e){e.writeToOutput(" "),e.recordSourceMappingStart(this.statement),e.writeToOutput("catch ("),this.param.id.emit(e),e.writeToOutput(")"),e.recordSourceMappingEnd(this.statement),this.body.emit(e)},n.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)&&i(this.param,t.param,n)&&i(this.body,t.body,n)},n}(o);e.CatchClause=tt;var nt=function(e){function t(){e.call(this,84)}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput("debugger;")},t}(P);e.DebuggerStatement=nt;var rt=function(e){function t(){e.call(this,23)}return __extends(t,e),t.prototype.emitWorker=function(e){},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)},t}(a);e.OmittedExpression=rt;var it=function(e){function t(){e.call(this,86)}return __extends(t,e),t.prototype.emitWorker=function(e){e.writeToOutput(";")},t.prototype.structuralEquals=function(t,n){return e.prototype.structuralEquals.call(this,t,n)},t}(P);e.EmptyStatement=it;var st=function(t){function n(e,n,r){t.call(this,102),this.content=e,this.isBlockComment=n,this.endsLine=r,this.text=null,this.docCommentText=null}return __extends(n,t),n.prototype.structuralEquals=function(e,n){return t.prototype.structuralEquals.call(this,e,n)&&this.minLine===e.minLine&&this.content===e.content&&this.isBlockComment===e.isBlockComment&&this.endsLine===e.endsLine},n.prototype.getText=function(){if(this.text===null)if(this.isBlockComment){this.text=this.content.split("\n");for(var e=0;e<this.text.length;e++)this.text[e]=this.text[e].replace(/^\s+|\s+$/g,"")}else this.text=[this.content.replace(/^\s+|\s+$/g,"")];return this.text},n.prototype.isDocComment=function(){return this.isBlockComment?this.content.charAt(2)==="*"&&this.content.charAt(3)!=="/":!1},n.prototype.getDocCommentTextValue=function(){return this.docCommentText===null&&(this.docCommentText=n.cleanJSDocComment(this.content)),this.docCommentText},n.consumeLeadingSpace=function(t,n,r){var i=t.length;r!==undefined&&(i=e.min(n+r,i));for(;n<i;n++){var s=t.charCodeAt(n);if(s!==32&&s!==9)return n}return i!==t.length?i:-1},n.isSpaceChar=function(e,t){var n=e.length;if(t<n){var r=e.charCodeAt(t);return r===32||r===9}return t===n},n.cleanDocCommentLine=function(e,t,r){var i=n.consumeLeadingSpace(e,0);if(i!==-1){var s=i;if(t&&e.charAt(i)==="*"){var o=i+1;i=n.consumeLeadingSpace(e,o,r);if(i===-1)return null;s=i-o}return{minChar:i,limChar:e.charAt(e.length-1)==="\r"?e.length-1:e.length,jsDocSpacesRemoved:s}}return null},n.cleanJSDocComment=function(e,t){var r=[];e=e.replace("/**",""),e.length>=2&&e.charAt(e.length-1)==="/"&&e.charAt(e.length-2)==="*"&&(e=e.substring(0,e.length-2));var i=e.split("\n"),s=!1;for(var o=0;o<i.length;o++){var u=i[o],a=n.cleanDocCommentLine(u,!0,t);if(!a)continue;var f="",l=a.minChar;for(var c=u.indexOf("@",a.minChar);0<=c&&c<a.limChar;c=u.indexOf("@",c+1)){var h=s;u.indexOf("param",c+1)===c+1&&n.isSpaceChar(u,c+6)?(h||(f+=u.substring(l,c)),l=c,s=!0):h&&(l=c,s=!1)}s||(f+=u.substring(l,a.limChar));var p=n.cleanDocCommentLine(f,!1);p&&(t===undefined&&(t=a.jsDocSpacesRemoved),r.push(f))}return r.join("\n")},n.getDocCommentText=function(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n].getDocCommentTextValue();r!==""&&t.push(r)}return t.join("\n")},n.getParameterDocCommentText=function(e,t){if(t.length===0||!t[0].isBlockComment)return"";for(var r=0;r<t.length;r++){var i=t[r].content;for(var s=i.indexOf("@param",0);0<=s;s=i.indexOf("@param",s)){s+=6;if(!n.isSpaceChar(i,s))continue;s=n.consumeLeadingSpace(i,s);if(s===-1)break;if(i.charCodeAt(s)===123){s++;var o=0;for(var u=1;s<i.length;s++){o=i.charCodeAt(s);if(o===123){u++;continue}if(o===125){u--;if(u===0)break;continue}if(o===64)break}if(s===i.length)break;if(o===64)continue;s=n.consumeLeadingSpace(i,s+1);if(s===-1)break}if(e!==i.substr(s,e.length)||!n.isSpaceChar(i,s+e.length))continue;s=n.consumeLeadingSpace(i,s+e.length);if(s===-1)return"";var a=i.indexOf("@",s),f=i.substring(s,a<0?i.length:a),l=undefined,c=i.substring(0,s).lastIndexOf("\n")+1;c!==0&&c<s&&i.charAt(c+1)==="\r"&&c++;var h=n.consumeLeadingSpace(i,c);return h!==s&&i.charAt(h)==="*"&&(l=s-h-1),n.cleanJSDocComment(f,l)}}return""},n}(o);e.Comment=st})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function s(){return i||(i=new r),i}var t=function(){function e(){this.goChildren=!0}return e}();e.AstWalkOptions=t;var n=function(){function e(e,t,n,r,i){this.childrenWalkers=e,this.pre=t,this.post=n,this.options=r,this.state=i}return e.prototype.walk=function(e,t){var n=this.pre(e,t,this);n===undefined&&(n=e),this.options.goChildren?this.childrenWalkers[e.nodeType](e,t,this):this.options.goChildren=!0;if(this.post){var r=this.post(n,t,this);return r===undefined&&(r=n),r}return n},e}(),r=function(){function r(){this.childrenWalkers=[],this.initChildrenWalkers()}return r.prototype.walk=function(e,t,n,r,i){return this.getWalker(t,n,r,i).walk(e,null)},r.prototype.getWalker=function(e,t,n,r){return this.getSlowWalker(e,t,n,r)},r.prototype.getSlowWalker=function(e,r,i,s){return i||(i=new t),new n(this.childrenWalkers,e,r,i,s)},r.prototype.initChildrenWalkers=function(){this.childrenWalkers[0]=o.walkNone,this.childrenWalkers[86]=o.walkNone,this.childrenWalkers[23]=o.walkNone,this.childrenWalkers[3]=o.walkNone,this.childrenWalkers[4]=o.walkNone,this.childrenWalkers[29]=o.walkNone,this.childrenWalkers[30]=o.walkNone,this.childrenWalkers[5]=o.walkNone,this.childrenWalkers[6]=o.walkNone,this.childrenWalkers[8]=o.walkNone,this.childrenWalkers[21]=o.walkUnaryExpressionChildren,this.childrenWalkers[22]=o.walkUnaryExpressionChildren,this.childrenWalkers[24]=o.walkUnaryExpressionChildren,this.childrenWalkers[25]=o.walkBinaryExpressionChildren,this.childrenWalkers[26]=o.walkUnaryExpressionChildren,this.childrenWalkers[27]=o.walkUnaryExpressionChildren,this.childrenWalkers[28]=o.walkUnaryExpressionChildren,this.childrenWalkers[31]=o.walkBinaryExpressionChildren,this.childrenWalkers[32]=o.walkBinaryExpressionChildren,this.childrenWalkers[33]=o.walkBinaryExpressionChildren,this.childrenWalkers[34]=o.walkUnaryExpressionChildren,this.childrenWalkers[7]=o.walkNone,this.childrenWalkers[20]=o.walkNone,this.childrenWalkers[9]=o.walkTypeParameterChildren,this.childrenWalkers[10]=o.walkGenericTypeChildren,this.childrenWalkers[11]=o.walkTypeReferenceChildren,this.childrenWalkers[35]=o.walkBinaryExpressionChildren,this.childrenWalkers[36]=o.walkCallExpressionChildren,this.childrenWalkers[37]=o.walkCallExpressionChildren,this.childrenWalkers[38]=o.walkBinaryExpressionChildren,this.childrenWalkers[39]=o.walkBinaryExpressionChildren,this.childrenWalkers[40]=o.walkBinaryExpressionChildren,this.childrenWalkers[41]=o.walkBinaryExpressionChildren,this.childrenWalkers[42]=o.walkBinaryExpressionChildren,this.childrenWalkers[43]=o.walkBinaryExpressionChildren,this.childrenWalkers[44]=o.walkBinaryExpressionChildren,this.childrenWalkers[45]=o.walkBinaryExpressionChildren,this.childrenWalkers[46]=o.walkBinaryExpressionChildren,this.childrenWalkers[47]=o.walkBinaryExpressionChildren,this.childrenWalkers[48]=o.walkBinaryExpressionChildren,this.childrenWalkers[49]=o.walkBinaryExpressionChildren,this.childrenWalkers[50]=o.walkTrinaryExpressionChildren,this.childrenWalkers[51]=o.walkBinaryExpressionChildren,this.childrenWalkers[52]=o.walkBinaryExpressionChildren,this.childrenWalkers[53]=o.walkBinaryExpressionChildren,this.childrenWalkers[54]=o.walkBinaryExpressionChildren,this.childrenWalkers[55]=o.walkBinaryExpressionChildren,this.childrenWalkers[56]=o.walkBinaryExpressionChildren,this.childrenWalkers[57]=o.walkBinaryExpressionChildren,this.childrenWalkers[58]=o.walkBinaryExpressionChildren,this.childrenWalkers[59]=o.walkBinaryExpressionChildren,this.childrenWalkers[60]=o.walkBinaryExpressionChildren,this.childrenWalkers[61]=o.walkBinaryExpressionChildren,this.childrenWalkers[62]=o.walkBinaryExpressionChildren,this.childrenWalkers[63]=o.walkBinaryExpressionChildren,this.childrenWalkers[64]=o.walkBinaryExpressionChildren,this.childrenWalkers[65]=o.walkBinaryExpressionChildren,this.childrenWalkers[66]=o.walkBinaryExpressionChildren,this.childrenWalkers[67]=o.walkBinaryExpressionChildren,this.childrenWalkers[68]=o.walkBinaryExpressionChildren,this.childrenWalkers[69]=o.walkBinaryExpressionChildren,this.childrenWalkers[70]=o.walkBinaryExpressionChildren,this.childrenWalkers[71]=o.walkBinaryExpressionChildren,this.childrenWalkers[72]=o.walkUnaryExpressionChildren,this.childrenWalkers[73]=o.walkUnaryExpressionChildren,this.childrenWalkers[74]=o.walkUnaryExpressionChildren,this.childrenWalkers[75]=o.walkUnaryExpressionChildren,this.childrenWalkers[76]=o.walkUnaryExpressionChildren,this.childrenWalkers[77]=o.walkUnaryExpressionChildren,this.childrenWalkers[78]=o.walkUnaryExpressionChildren,this.childrenWalkers[79]=o.walkParenthesizedExpressionChildren,this.childrenWalkers[12]=o.walkFuncDeclChildren,this.childrenWalkers[80]=o.walkBinaryExpressionChildren,this.childrenWalkers[17]=o.walkBoundDeclChildren,this.childrenWalkers[18]=o.walkVariableDeclarationChildren,this.childrenWalkers[19]=o.walkBoundDeclChildren,this.childrenWalkers[93]=o.walkReturnStatementChildren,this.childrenWalkers[82]=o.walkNone,this.childrenWalkers[83]=o.walkNone,this.childrenWalkers[95]=o.walkThrowStatementChildren,this.childrenWalkers[90]=o.walkForStatementChildren,this.childrenWalkers[89]=o.walkForInStatementChildren,this.childrenWalkers[91]=o.walkIfStatementChildren,this.childrenWalkers[98]=o.walkWhileStatementChildren,this.childrenWalkers[85]=o.walkDoStatementChildren,this.childrenWalkers[81]=o.walkBlockChildren,this.childrenWalkers[100]=o.walkCaseClauseChildren,this.childrenWalkers[94]=o.walkSwitchStatementChildren,this.childrenWalkers[96]=o.walkTryStatementChildren,this.childrenWalkers[101]=o.walkCatchClauseChildren,this.childrenWalkers[1]=o.walkListChildren,this.childrenWalkers[2]=o.walkScriptChildren,this.childrenWalkers[13]=o.walkClassDeclChildren,this.childrenWalkers[14]=o.walkTypeDeclChildren,this.childrenWalkers[15]=o.walkModuleDeclChildren,this.childrenWalkers[16]=o.walkImportDeclChildren,this.childrenWalkers[87]=o.walkExportAssignmentChildren,this.childrenWalkers[99]=o.walkWithStatementChildren,this.childrenWalkers[88]=o.walkExpressionStatementChildren,this.childrenWalkers[92]=o.walkLabeledStatementChildren,this.childrenWalkers[97]=o.walkVariableStatementChildren,this.childrenWalkers[102]=o.walkNone,this.childrenWalkers[84]=o.walkNone;for(var t in e.NodeType)if(e.NodeType.hasOwnProperty(t)&&e.StringUtilities.isString(e.NodeType[t])&&this.childrenWalkers[t]===undefined)throw new Error("initWalkers function is not up to date with enum content!")},r}();e.AstWalkerFactory=r;var i;e.getAstWalkerFactory=s;var o;(function(e){function t(e,t,n){}function n(e,t,n){var r=e.members.length;for(var i=0;i<r;i++)e.members[i]=n.walk(e.members[i],e)}function r(e,t,n){e.expression&&(e.expression=n.walk(e.expression,e))}function i(e,t,n){e.castTerm&&(e.castTerm=n.walk(e.castTerm,e)),e.operand&&(e.operand=n.walk(e.operand,e))}function s(e,t,n){e.expression&&(e.expression=n.walk(e.expression,e))}function o(e,t,n){e.operand1&&(e.operand1=n.walk(e.operand1,e)),e.operand2&&(e.operand2=n.walk(e.operand2,e))}function u(e,t,n){e.name&&(e.name=n.walk(e.name,e)),e.constraint&&(e.constraint=n.walk(e.constraint,e))}function a(e,t,n){e.name&&(e.name=n.walk(e.name,e)),e.typeArguments&&(e.typeArguments=n.walk(e.typeArguments,e))}function f(e,t,n){e.term&&(e.term=n.walk(e.term,e))}function l(e,t,n){e.target=n.walk(e.target,e),e.typeArguments&&(e.typeArguments=n.walk(e.typeArguments,e)),e.arguments&&(e.arguments=n.walk(e.arguments,e))}function c(e,t,n){e.operand1&&(e.operand1=n.walk(e.operand1,e)),e.operand2&&(e.operand2=n.walk(e.operand2,e)),e.operand3&&(e.operand3=n.walk(e.operand3,e))}function h(e,t,n){e.name&&(e.name=n.walk(e.name,e)),e.typeArguments&&(e.typeArguments=n.walk(e.typeArguments,e)),e.arguments&&(e.arguments=n.walk(e.arguments,e)),e.returnTypeAnnotation&&(e.returnTypeAnnotation=n.walk(e.returnTypeAnnotation,e)),e.block&&(e.block=n.walk(e.block,e))}function p(e,t,n){e.id&&(e.id=n.walk(e.id,e)),e.init&&(e.init=n.walk(e.init,e)),e.typeExpr&&(e.typeExpr=n.walk(e.typeExpr,e))}function d(e,t,n){e.returnExpression&&(e.returnExpression=n.walk(e.returnExpression,e))}function v(e,t,n){e.init&&(e.init=n.walk(e.init,e)),e.cond&&(e.cond=n.walk(e.cond,e)),e.incr&&(e.incr=n.walk(e.incr,e)),e.body&&(e.body=n.walk(e.body,e))}function m(e,t,n){e.lval=n.walk(e.lval,e),e.obj=n.walk(e.obj,e),e.body&&(e.body=n.walk(e.body,e))}function g(e,t,n){e.cond=n.walk(e.cond,e),e.thenBod&&(e.thenBod=n.walk(e.thenBod,e)),e.elseBod&&(e.elseBod=n.walk(e.elseBod,e))}function y(e,t,n){e.cond=n.walk(e.cond,e),e.body&&(e.body=n.walk(e.body,e))}function b(e,t,n){e.cond=n.walk(e.cond,e),e.body&&(e.body=n.walk(e.body,e))}function w(e,t,n){e.statements&&(e.statements=n.walk(e.statements,e))}function E(e,t,n){e.declarators&&(e.declarators=n.walk(e.declarators,e))}function S(e,t,n){e.expr&&(e.expr=n.walk(e.expr,e)),e.body&&(e.body=n.walk(e.body,e))}function x(e,t,n){e.val&&(e.val=n.walk(e.val,e)),e.caseList&&(e.caseList=n.walk(e.caseList,e))}function T(e,t,n){e.tryBody&&(e.tryBody=n.walk(e.tryBody,e)),e.catchClause&&(e.catchClause=n.walk(e.catchClause,e)),e.finallyBody&&(e.finallyBody=n.walk(e.finallyBody,e))}function N(e,t,n){e.param&&(e.param=n.walk(e.param,e)),e.body&&(e.body=n.walk(e.body,e))}function C(e,t,n){e.name=n.walk(e.name,e),e.members&&(e.members=n.walk(e.members,e))}function k(e,t,n){C(e,t,n)}function L(e,t,n){k(e,t,n),e.typeParameters&&(e.typeParameters=n.walk(e.typeParameters,e)),e.extendsList&&(e.extendsList=n.walk(e.extendsList,e)),e.implementsList&&(e.implementsList=n.walk(e.implementsList,e))}function A(e,t,n){e.moduleElements&&(e.moduleElements=n.walk(e.moduleElements,e))}function O(e,t,n){k(e,t,n),e.typeParameters&&(e.typeParameters=n.walk(e.typeParameters,e)),e.extendsList&&(e.extendsList=n.walk(e.extendsList,e)),e.implementsList&&(e.implementsList=n.walk(e.implementsList,e))}function M(e,t,n){C(e,t,n)}function _(e,t,n){e.id&&(e.id=n.walk(e.id,e)),e.alias&&(e.alias=n.walk(e.alias,e))}function D(e,t,n){e.id&&(e.id=n.walk(e.id,e))}function P(e,t,n){e.expr&&(e.expr=n.walk(e.expr,e)),e.body&&(e.body=n.walk(e.body,e))}function H(e,t,n){e.expression=n.walk(e.expression,e)}function B(e,t,n){e.identifier=n.walk(e.identifier,e),e.statement=n.walk(e.statement,e)}function j(e,t,n){e.declaration=n.walk(e.declaration,e)}e.walkNone=t,e.walkListChildren=n,e.walkThrowStatementChildren=r,e.walkUnaryExpressionChildren=i,e.walkParenthesizedExpressionChildren=s,e.walkBinaryExpressionChildren=o,e.walkTypeParameterChildren=u,e.walkGenericTypeChildren=a,e.walkTypeReferenceChildren=f,e.walkCallExpressionChildren=l,e.walkTrinaryExpressionChildren=c,e.walkFuncDeclChildren=h,e.walkBoundDeclChildren=p,e.walkReturnStatementChildren=d,e.walkForStatementChildren=v,e.walkForInStatementChildren=m,e.walkIfStatementChildren=g,e.walkWhileStatementChildren=y,e.walkDoStatementChildren=b,e.walkBlockChildren=w,e.walkVariableDeclarationChildren=E,e.walkCaseClauseChildren=S,e.walkSwitchStatementChildren=x,e.walkTryStatementChildren=T,e.walkCatchClauseChildren=N,e.walkRecordChildren=C,e.walkNamedTypeChildren=k,e.walkClassDeclChildren=L,e.walkScriptChildren=A,e.walkTypeDeclChildren=O,e.walkModuleDeclChildren=M,e.walkImportDeclChildren=_,e.walkExportAssignmentChildren=D,e.walkWithStatementChildren=P,e.walkExpressionStatementChildren=H,e.walkLabeledStatementChildren=B,e.walkVariableStatementChildren=j})(o||(o={}))})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(t){function n(t,n){var i=function(e,t){return o.options.goChildren=r(!0,e,n),e},s=function(e,t){return r(!1,e,n),e},o=e.getAstWalkerFactory().getWalker(i,s);o.walk(t,null)}function r(t,n,r){var i=n.nodeType,s=e.NodeType[i]+"Callback";return r[s]?r[s](t,n):r.DefaultCallback?r.DefaultCallback(t,n):!0}t.walk=n})(e.AstWalkerWithDetailCallback||(e.AstWalkerWithDetailCallback={}));var t=e.AstWalkerWithDetailCallback})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function t(e,t){return e>=t?e:t}function n(e,t){return e<=t?e:t}function i(e){return e===null?!1:e.minChar===-1||e.limChar===-1?!1:!0}function u(t,n,r,o){typeof r=="undefined"&&(r=!0),typeof o=="undefined"&&(o=0);var u=function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var i=e[t].minChar,s=e[t].limChar+(r?e[t].trailingTriviaWidth:0);e[t].isBlockComment||s++,n>=i&&n<s&&f.path.push(e[t])}},a=function(s,a,l){if(i(s)){var c=e.hasFlag(o,1)||s.nodeType===20||s.nodeType===32||s.nodeType===11||n===t.limChar+t.trailingTriviaWidth,h=s.minChar,p=s.limChar+(r?s.trailingTriviaWidth:0)+(c?1:0);if(n>=h&&n<p){var d=f.path.ast();(d===null||s.minChar>=d.minChar&&s.limChar+(r?s.trailingTriviaWidth:0)<=d.limChar+(r?d.trailingTriviaWidth:0))&&f.path.push(s)}n<p&&u(s.preComments),n>=h&&u(s.postComments),e.hasFlag(o,2)||(l.options.goChildren=h<=n&&n<=p)}return s},f=new s;return e.getAstWalkerFactory().walk(t,a,null,null,f),f.path}function a(t,n){var i=function(e,t,r){var i=r.state;return i.push(e),n(i,r),e},s=function(e,t,n){var r=n.state;return r.pop(),e},o=new r;e.getAstWalkerFactory().walk(t,i,s,null,o)}e.max=t,e.min=n;var r=function(){function e(){this.asts=[],this.top=-1}return e.reverseIndexOf=function(e,t){return e===null||e.length<=t?null:e[e.length-t-1]},e.prototype.clone=function(){var t=new e;return t.asts=this.asts.map(function(e){return e}),t.top=this.top,t},e.prototype.pop=function(){var e=this.ast();this.up();while(this.asts.length>this.count())this.asts.pop();return e},e.prototype.push=function(e){while(this.asts.length>this.count())this.asts.pop();this.top=this.asts.length,this.asts.push(e)},e.prototype.up=function(){if(this.top<=-1)throw new Error("Invalid call to 'up'");this.top--},e.prototype.down=function(){if(this.top===this.ast.length-1)throw new Error("Invalid call to 'down'");this.top++},e.prototype.nodeType=function(){return this.ast()===null?0:this.ast().nodeType},e.prototype.ast=function(){return e.reverseIndexOf(this.asts,this.asts.length-(this.top+1))},e.prototype.parent=function(){return e.reverseIndexOf(this.asts,this.asts.length-this.top)},e.prototype.count=function(){return this.top+1},e.prototype.get=function(e){return this.asts[e]},e.prototype.isNameOfClass=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===13&&this.parent().name===this.ast()},e.prototype.isNameOfInterface=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===14&&this.parent().name===this.ast()},e.prototype.isNameOfArgument=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===19&&this.parent().id===this.ast()},e.prototype.isNameOfVariable=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===17&&this.parent().id===this.ast()},e.prototype.isNameOfModule=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===15&&this.parent().name===this.ast()},e.prototype.isNameOfFunction=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===12&&this.parent().name===this.ast()},e.prototype.isBodyOfFunction=function(){return this.count()>=2&&this.asts[this.top-1].nodeType===12&&this.asts[this.top-1].block===this.asts[this.top-0]},e.prototype.isArgumentListOfFunction=function(){return this.count()>=2&&this.asts[this.top-0].nodeType===1&&this.asts[this.top-1].nodeType===12&&this.asts[this.top-1].arguments===this.asts[this.top-0]},e.prototype.isTargetOfCall=function(){return this.count()>=2&&this.asts[this.top-1].nodeType===36&&this.asts[this.top-1].target===this.asts[this.top]},e.prototype.isTargetOfNew=function(){return this.count()>=2&&this.asts[this.top-1].nodeType===37&&this.asts[this.top-1].target===this.asts[this.top]},e.prototype.isInClassImplementsList=function(){return this.ast()===null||this.parent()===null?!1:this.parent().nodeType===13&&this.isMemberOfList(this.parent().implementsList,this.ast())},e.prototype.isInInterfaceExtendsList=function(){return this.ast()===null||this.parent()===null?!1:this.parent().nodeType===14&&this.isMemberOfList(this.parent().extendsList,this.ast())},e.prototype.isMemberOfMemberAccessExpression=function(){return this.count()>1&&this.parent().nodeType===32&&this.parent().operand2===this.asts[this.top]?!0:!1},e.prototype.isCallExpression=function(){return this.count()>=1&&(this.asts[this.top-0].nodeType===36||this.asts[this.top-0].nodeType===37)},e.prototype.isCallExpressionTarget=function(){if(this.count()<2)return!1;var e=this.top,t=this.asts[e].nodeType;(t===29||t===30||t===20)&&e--;while(e>=0){if(e<this.top&&this.asts[e].nodeType===32&&this.asts[e].operand2===this.asts[e+1]){e--;continue}break}return e<this.top&&(this.asts[e].nodeType===36||this.asts[e].nodeType===37)&&this.asts[e+1]===this.asts[e].target},e.prototype.isDeclaration=function(){if(this.ast()!==null)switch(this.ast().nodeType){case 13:case 14:case 15:case 12:case 17:return!0}return!1},e.prototype.isMemberOfList=function(e,t){if(e&&e.members)for(var n=0,r=e.members.length;n<r;n++)if(e.members[n]===t)return!0;return!1},e}();e.AstPath=r,e.isValidAstNode=i;var s=function(){function t(){this.path=new e.AstPath}return t}();e.AstPathContext=s,function(e){e[e.Default=0]="Default",e[e.EdgeInclusive=1]="EdgeInclusive",e[e.DontPruneSearchBasedOnPosition=2]="DontPruneSearchBasedOnPosition"}(e.GetAstPathOptions||(e.GetAstPathOptions={}));var o=e.GetAstPathOptions;e.getAstPathToPosition=u,e.walkAST=a})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e.encode=function(t){if(t<64)return e.encodedValues.charAt(t);throw TypeError(t+": not a 64 based value")},e.decodeChar=function(t){if(t.length===1)return e.encodedValues.indexOf(t);throw TypeError('"'+t+'" must have length 1')},e.encodedValues="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e}(),n=function(){function e(){}return e.encode=function(e){e<0?e=(-e<<1)+1:e<<=1;var n="";do{var r=e&31;e>>=5,e>0&&(r|=32),n+=t.encode(r)}while(e>0);return n},e.decode=function(e){var n=0,r=!1,i=0;for(var s=0;s<e.length;s++){var o=t.decodeChar(e[s]);s===0?((o&1)===1&&(r=!0),n=o>>1&15):n|=(o&31)<<i,i+=s===0?4:5;if((o&32)!==32)return{value:r?-n:n,rest:e.substr(s+1)}}throw new Error('Base64 value "'+e+'" finished with a continuation bit')},e}();e.Base64VLQFormat=n})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e}();e.SourceMapPosition=t;var n=function(){function e(){this.start=new t,this.end=new t,this.nameIndex=-1,this.childMappings=[]}return e}();e.SourceMapping=n;var r=function(){function t(t,n,r,i,s,o){this.sourceMapFileName=r,this.jsFile=i,this.sourceMapOut=s,this.sourceMappings=[],this.currentMappings=[],this.names=[],this.currentNameIndex=[],this.currentMappings.push(this.sourceMappings),n=e.switchToForwardSlashes(n),this.jsFileName=e.getPrettyName(n,!1,!0);var u=n.lastIndexOf(this.jsFileName),a=n.substring(0,u);o&&(n.indexOf("://")===-1&&(n="file:///"+n),this.jsFileName=n),this.tsFileName=e.getRelativePathToFixedPath(a,t)}return t.emitSourceMapping=function(n){var r=n[0];r.jsFile.WriteLine("//@ sourceMappingURL="+r.jsFileName+t.MapFileExtension);var i=r.sourceMapOut,s="",o=[],u=0,a=0,f=0,l=0,c=0,h=0,p=[],d=0,v=!1,m=null;for(var g=0;g<n.length;g++){r=n[g];var y=o.length;o.push(r.tsFileName),r.names.length>0&&p.push.apply(p,r.names);var b=function(t,n){if(m!==null&&m.emittedColumn===t.emittedColumn&&m.emittedLine===t.emittedLine)return;if(a!==t.emittedLine){while(a<t.emittedLine)u=0,s+=";",a++;v=!1}else v&&(s+=",");s+=e.Base64VLQFormat.encode(t.emittedColumn-u),u=t.emittedColumn,s+=e.Base64VLQFormat.encode(y-c),c=y,s+=e.Base64VLQFormat.encode(t.sourceLine-1-l),l=t.sourceLine-1,s+=e.Base64VLQFormat.encode(t.sourceColumn-f),f=t.sourceColumn,n>=0&&(s+=e.Base64VLQFormat.encode(d+n-h),h=d+n),v=!0,m=t},w=function(e){for(var t=0;t<e.length;t++){var n=e[t];b(n.start,n.nameIndex),w(n.childMappings),b(n.end,n.nameIndex)}};w(r.sourceMappings),d+=r.names.length}i.Write(JSON.stringify({version:3,file:r.jsFileName,sources:o,names:p,mappings:s})),i.Close()},t.MapFileExtension=".map",t}();e.SourceMapper=r})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){e[e.Prog=0]="Prog",e[e.Module=1]="Module",e[e.DynamicModule=2]="DynamicModule",e[e.Class=3]="Class",e[e.Constructor=4]="Constructor",e[e.Function=5]="Function",e[e.Args=6]="Args",e[e.Interface=7]="Interface"})(e.EmitContainer||(e.EmitContainer={}));var t=e.EmitContainer,n=function(){function e(){this.column=0,this.line=0,this.container=0}return e}();e.EmitState=n;var r=function(){function e(e){this.compilationSettings=e,this.ioHost=null,this.outputMany=!0,this.commonDirectoryPath=""}return e.prototype.mapOutputFileName=function(e,t){if(this.outputMany){var n=e;return this.compilationSettings.outputOption!==""&&(n=e.replace(this.commonDirectoryPath,""),n=this.compilationSettings.outputOption+n),t(n,!1)}return t(this.compilationSettings.outputOption,!0)},e}();e.EmitOptions=r;var i=function(){function e(){this.indentAmt=0}return e.prototype.increaseIndent=function(){this.indentAmt+=e.indentStep},e.prototype.decreaseIndent=function(){this.indentAmt-=e.indentStep},e.prototype.getIndent=function(){var t=e.indentStrings[this.indentAmt];if(t===undefined){t="";for(var n=0;n<this.indentAmt;n+=e.indentStep)t+=e.indentStepString;e.indentStrings[this.indentAmt]=t}return t},e.indentStep=4,e.indentStepString="    ",e.indentStrings=[],e}();e.Indenter=i;var s=function(){function t(t,r,s,o){this.emittingFileName=t,this.outfile=r,this.emitOptions=s,this.semanticInfoChain=o,this.globalThisCapturePrologueEmitted=!1,this.extendsPrologueEmitted=!1,this.thisClassNode=null,this.thisFunctionDeclaration=null,this.moduleName="",this.emitState=new n,this.indenter=new i,this.modAliasId=null,this.firstModAlias=null,this.allSourceMappers=[],this.sourceMapper=null,this.captureThisStmtString="var _this = this;",this.varListCountStack=[0],this.pullTypeChecker=null,this.declStack=[],this.resolvingContext=new e.PullTypeResolutionContext,this.exportAssignmentIdentifier=null,this.document=null,e.globalSemanticInfoChain=o,e.globalBinder.semanticInfoChain=o,this.pullTypeChecker=new e.PullTypeChecker(s.compilationSettings,o)}return t.prototype.pushDecl=function(e){e&&(this.declStack[this.declStack.length]=e)},t.prototype.popDecl=function(e){e&&this.declStack.length--},t.prototype.getEnclosingDecl=function(){var e=this.declStack.length,t=e>0?this.declStack[e-1]:null;return t},t.prototype.setTypeCheckerUnit=function(e){if(!this.pullTypeChecker.resolver){this.pullTypeChecker.setUnit(e);return}this.pullTypeChecker.resolver.setUnitPath(e)},t.prototype.setExportAssignmentIdentifier=function(e){this.exportAssignmentIdentifier=e},t.prototype.getExportAssignmentIdentifier=function(){return this.exportAssignmentIdentifier},t.prototype.setDocument=function(e){this.document=e},t.prototype.importStatementShouldBeEmitted=function(e,t){if(!e.isDynamicImport)return!0;var n=this.semanticInfoChain.getDeclForAST(e,this.document.fileName),r=n.getSymbol();return r.getIsUsedAsValue()},t.prototype.setSourceMappings=function(e){this.allSourceMappers.push(e),this.sourceMapper=e},t.prototype.writeToOutput=function(e){this.outfile.Write(e),this.emitState.column+=e.length},t.prototype.writeToOutputTrimmable=function(e){this.emitOptions.compilationSettings.minWhitespace&&(e=e.replace(/[\s]*/g,"")),this.writeToOutput(e)},t.prototype.writeLineToOutput=function(e){if(this.emitOptions.compilationSettings.minWhitespace){this.writeToOutput(e);var t=e.charCodeAt(e.length-1);t!==32&&t!==59&&t!==91&&this.writeToOutput(" ")}else this.outfile.WriteLine(e),this.emitState.column=0,this.emitState.line++},t.prototype.writeCaptureThisStatement=function(e){this.emitIndent(),this.recordSourceMappingStart(e),this.writeToOutput(this.captureThisStmtString),this.recordSourceMappingEnd(e),this.writeLineToOutput("")},t.prototype.setInVarBlock=function(e){this.varListCountStack[this.varListCountStack.length-1]=e},t.prototype.setContainer=function(e){var t=this.emitState.container;return this.emitState.container=e,t},t.prototype.getIndentString=function(){return this.emitOptions.compilationSettings.minWhitespace?"":this.indenter.getIndent()},t.prototype.emitIndent=function(){this.writeToOutput(this.getIndentString())},t.prototype.emitCommentInPlace=function(e){var t=e.getText(),n=!1;if(e.isBlockComment){this.emitState.column===0&&this.emitIndent(),this.recordSourceMappingStart(e),this.writeToOutput(t[0]);if(t.length>1||e.endsLine){for(var r=1;r<t.length;r++)this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput(t[r]);this.recordSourceMappingEnd(e),this.writeLineToOutput(""),n=!0}else this.recordSourceMappingEnd(e)}else this.emitState.column===0&&this.emitIndent(),this.recordSourceMappingStart(e),this.writeToOutput(t[0]),this.recordSourceMappingEnd(e),this.writeLineToOutput(""),n=!0;n?this.emitIndent():this.writeToOutput(" ")},t.prototype.emitComments=function(e,t){var n=t?e.preComments:e.postComments;if(this.emitOptions.compilationSettings.emitComments&&n&&n.length!==0)for(var r=0;r<n.length;r++)this.emitCommentInPlace(n[r])},t.prototype.emitObjectLiteral=function(t){var n=!e.hasFlag(t.getFlags(),2);this.writeToOutput("{");var r=t.operand;r.members.length>0&&(n?this.writeLineToOutput(""):this.writeToOutput(" "),this.indenter.increaseIndent(),this.emitCommaSeparatedList(r,n),this.indenter.decreaseIndent(),n?this.emitIndent():this.writeToOutput(" ")),this.writeToOutput("}")},t.prototype.emitArrayLiteral=function(t){var n=!e.hasFlag(t.getFlags(),2);this.writeToOutput("[");var r=t.operand;r.members.length>0&&(n&&this.writeLineToOutput(""),this.indenter.increaseIndent(),this.emitCommaSeparatedList(r,n),this.indenter.decreaseIndent(),n&&this.emitIndent()),this.writeToOutput("]")},t.prototype.emitNew=function(e,t){this.writeToOutput("new ");if(e.nodeType===11){var n=e;n.arrayCount?this.writeToOutput("Array()"):(n.term.emit(this),this.writeToOutput("()"))}else e.emit(this),this.recordSourceMappingStart(t),this.writeToOutput("("),this.emitCommaSeparatedList(t),this.writeToOutput(")"),this.recordSourceMappingEnd(t)},t.prototype.getVarDeclFromIdentifier=function(t){e.CompilerDiagnostics.assert(t.boundDecl&&t.boundDecl.init&&t.boundDecl.init.nodeType===20,"The init expression of bound declaration when emitting as constant has to be indentifier");var n=t.boundDecl.init,r=n;this.setTypeCheckerUnit(this.document.fileName);var i=this.resolvingContext.resolvingTypeReference?this.pullTypeChecker.resolver.resolveTypeNameExpression(r,t.pullDecl.getParentDecl(),this.resolvingContext).symbol:this.pullTypeChecker.resolver.resolveNameExpression(r,t.pullDecl.getParentDecl(),this.resolvingContext).symbol;if(i){var s=i.getDeclarations();if(s.length===1){var o=s[0],u=this.semanticInfoChain.getASTForDecl(o);if(u&&u.nodeType===17)return{boundDecl:u,pullDecl:o}}}return null},t.prototype.getConstantValue=function(e){var t=e.boundDecl.init;if(t){if(t.nodeType===7){var n=t;return n.value}if(t.nodeType===69){var r=t;if(r.operand1.nodeType===7&&r.operand2.nodeType===7)return r.operand1.value<<r.operand2.value}else if(t.nodeType===20){var i=this.getVarDeclFromIdentifier(e);if(i)return this.getConstantValue(i)}}return null},t.prototype.getConstantDecl=function(e){this.setTypeCheckerUnit(this.document.fileName);var t=this.pullTypeChecker.resolver.resolveDottedNameExpression(e,this.getEnclosingDecl(),this.resolvingContext).symbol;if(t&&t.hasFlag(524288)){var n=t.getDeclarations();if(n.length===1){var r=n[0],i=this.semanticInfoChain.getASTForDecl(r);if(i&&i.nodeType===17)return{boundDecl:i,pullDecl:r}}}return null},t.prototype.tryEmitConstant=function(e){if(!this.emitOptions.compilationSettings.propagateConstants)return!1;var t=e.operand2,n=this.getConstantDecl(e);if(n){var r=this.getConstantValue(n);if(r!==null){this.writeToOutput(r.toString());var i=" /* ";return i+=t.actualText,i+=" */",this.writeToOutput(i),!0}}return!1},t.prototype.emitCall=function(e,t,n){this.emitSuperCall(e)||(t.nodeType===12&&this.writeToOutput("("),e.target.nodeType===30&&this.emitState.container===4?this.writeToOutput("_super.call"):this.emitJavascript(t,!1),t.nodeType===12&&this.writeToOutput(")"),this.recordSourceMappingStart(n),this.writeToOutput("("),e.target.nodeType===30&&this.emitState.container===4&&(this.writeToOutput("this"),n&&n.members.length&&this.writeToOutput(", ")),this.emitCommaSeparatedList(n),this.writeToOutput(")"),this.recordSourceMappingEnd(n))},
t.prototype.emitInnerFunction=function(t,n,r){typeof r=="undefined"&&(r=!0);var i=this.semanticInfoChain.getDeclForAST(t,this.document.fileName);this.pushDecl(i);var s=!1;r&&this.emitComments(t,!0),s&&this.writeToOutput("("),this.recordSourceMappingStart(t);var o=t.isAccessor()?e.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain,this.document.fileName):null,u=o?o.getContainer():null,a=u?u.getKind():0;(!t.isAccessor()||a===8||a===33554432)&&this.writeToOutput("function "),t.isConstructor&&this.writeToOutput(this.thisClassNode.name.actualText);if(n){var f=t.getNameText();f&&!t.isAccessor()&&(t.name&&this.recordSourceMappingStart(t.name),this.writeToOutput(f),t.name&&this.recordSourceMappingEnd(t.name))}this.writeToOutput("(");var l=0;if(t.arguments){this.emitComments(t.arguments,!0);var c=this.setContainer(6);l=t.arguments.members.length;var h=l;t.variableArgList&&h--;for(var p=0;p<h;p++){var d=t.arguments.members[p];d.emit(this),p<h-1&&this.writeToOutput(", ")}this.setContainer(c),this.emitComments(t.arguments,!1)}this.writeLineToOutput(") {"),t.isConstructor?this.recordSourceMappingNameStart("constructor"):t.isGetAccessor()?this.recordSourceMappingNameStart("get_"+t.getNameText()):t.isSetAccessor()?this.recordSourceMappingNameStart("set_"+t.getNameText()):this.recordSourceMappingNameStart(t.getNameText()),this.indenter.increaseIndent(),this.emitDefaultValueAssignments(t),this.emitRestParameterInitializer(t),this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t),t.isConstructor?this.emitConstructorStatements(t):this.emitModuleElements(t.block.statements),this.indenter.decreaseIndent(),this.emitIndent(),this.recordSourceMappingStart(t.block.closeBraceSpan),this.writeToOutput("}"),this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.block.closeBraceSpan),this.recordSourceMappingEnd(t),s&&this.writeToOutput(")"),this.recordSourceMappingEnd(t),this.emitComments(t,!1),this.popDecl(i)},t.prototype.emitDefaultValueAssignments=function(e){var t=e.arguments.members.length;e.variableArgList&&t--;for(var n=0;n<t;n++){var r=e.arguments.members[n];r.init&&(this.emitIndent(),this.recordSourceMappingStart(r),this.writeToOutput("if (typeof "+r.id.actualText+' === "undefined") { '),this.recordSourceMappingStart(r.id),this.writeToOutput(r.id.actualText),this.recordSourceMappingEnd(r.id),this.writeToOutput(" = "),this.emitJavascript(r.init,!1),this.writeLineToOutput("; }"),this.recordSourceMappingEnd(r))}},t.prototype.emitRestParameterInitializer=function(e){if(e.variableArgList){var t=e.arguments.members.length,n=e.arguments.members[t-1];this.emitIndent(),this.recordSourceMappingStart(n),this.writeToOutput("var "),this.recordSourceMappingStart(n.id),this.writeToOutput(n.id.actualText),this.recordSourceMappingEnd(n.id),this.writeLineToOutput(" = [];"),this.recordSourceMappingEnd(n),this.emitIndent(),this.writeToOutput("for ("),this.recordSourceMappingStart(n),this.writeToOutput("var _i = 0;"),this.recordSourceMappingEnd(n),this.writeToOutput(" "),this.recordSourceMappingStart(n),this.writeToOutput("_i < (arguments.length - "+(t-1)+")"),this.recordSourceMappingEnd(n),this.writeToOutput("; "),this.recordSourceMappingStart(n),this.writeToOutput("_i++"),this.recordSourceMappingEnd(n),this.writeLineToOutput(") {"),this.indenter.increaseIndent(),this.emitIndent(),this.recordSourceMappingStart(n),this.writeToOutput(n.id.actualText+"[_i] = arguments[_i + "+(t-1)+"];"),this.recordSourceMappingEnd(n),this.writeLineToOutput(""),this.indenter.decreaseIndent(),this.emitIndent(),this.writeLineToOutput("}")}},t.prototype.getImportDecls=function(t){var n=this.semanticInfoChain.getUnit(this.document.fileName),r=[],i=n.getTopLevelDecls();while(i.length>0){var s=i.shift();if(s.getKind()&256){var o=n.getASTForDecl(s);if(o.alias.nodeType===20){var u=o.alias.actualText;if(e.isQuoted(u)){var a=s.getSymbol(),f=a&&a.getType();f&&f!==this.semanticInfoChain.anyTypeSymbol&&!f.isError()&&r.push(s)}}}i=i.concat(s.getChildDecls())}return r},t.prototype.getModuleImportAndDependencyList=function(e){var t="",n="",r=this.semanticInfoChain.getUnit(this.document.fileName),i=this.getImportDecls(this.document.fileName);if(i.length)for(var s=0;s<i.length;s++){var o=i[s],u=o.getSymbol(),a=r.getASTForDecl(o);u.getIsUsedAsValue()&&(s<=i.length-1&&(n+=", ",t+=", "),t+="__"+o.getName()+"__",n+=a.firstAliasedModToString())}for(var s=0;s<e.amdDependencies.length;s++)n+=', "'+e.amdDependencies[s]+'"';return{importList:t,dependencyList:n}},t.prototype.shouldCaptureThis=function(e){if(e.nodeType===2){var t=this.semanticInfoChain.getUnit(this.document.fileName).getTopLevelDecls()[0];return(t.getFlags()&262144)===262144}var n=this.semanticInfoChain.getDeclForAST(e,this.document.fileName);return n?(n.getFlags()&262144)===262144:!1},t.prototype.emitModule=function(t){var n=this.semanticInfoChain.getDeclForAST(t,this.document.fileName);this.pushDecl(n);var r=t.name.actualText;e.isTSFile(r)&&t.name.setText(r.substring(0,r.length-3));var i=e.hasFlag(t.getModuleFlags(),512),s=this.outfile,o=this.emittingFileName,u=this.allSourceMappers,a=this.sourceMapper,f=this.emitState.column,l=this.emitState.line,c=this.setContainer(1),h=this.moduleName,p=e.hasFlag(t.getModuleFlags(),1),d=e.hasFlag(t.getModuleFlags(),256);this.moduleName=t.name.actualText;if(i){this.setExportAssignmentIdentifier(null),this.setContainer(2),this.recordSourceMappingStart(t);if(this.emitOptions.compilationSettings.moduleGenTarget===1){var v='["require", "exports"',m="require, exports",g=this.getModuleImportAndDependencyList(t);m+=g.importList,v+=g.dependencyList+"]",this.writeLineToOutput("define("+v+","+" function("+m+") {")}}else p||(this.recordSourceMappingStart(t),this.writeToOutput("var "),this.recordSourceMappingStart(t.name),this.writeToOutput(this.moduleName),this.recordSourceMappingEnd(t.name),this.writeLineToOutput(";"),this.recordSourceMappingEnd(t),this.emitIndent()),this.writeToOutput("("),this.recordSourceMappingStart(t),this.writeToOutput("function ("),this.recordSourceMappingStart(t.name),this.writeToOutput(this.moduleName),this.recordSourceMappingEnd(t.name),this.writeLineToOutput(") {");d||this.recordSourceMappingNameStart(this.moduleName),(!i||this.emitOptions.compilationSettings.moduleGenTarget===1)&&this.indenter.increaseIndent(),this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t),this.emitModuleElements(t.members),(!i||this.emitOptions.compilationSettings.moduleGenTarget===1)&&this.indenter.decreaseIndent(),this.emitIndent();if(i){var y=this.getExportAssignmentIdentifier(),b=n.getSymbol().getExportAssignedValueSymbol();this.emitOptions.compilationSettings.moduleGenTarget===1?(y&&b&&!(b.getKind()&e.PullElementKind.SomeTypeReference)&&(this.indenter.increaseIndent(),this.emitIndent(),this.writeLineToOutput("return "+y+";"),this.indenter.decreaseIndent()),this.writeToOutput("});")):y&&b&&!(b.getKind()&e.PullElementKind.SomeTypeReference)&&(this.emitIndent(),this.writeLineToOutput("module.exports = "+y+";")),d||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t),this.outfile!==s&&(this.emitSourceMapsAndClose(),a!==null&&(this.allSourceMappers=u,this.sourceMapper=a,this.emitState.column=f,this.emitState.line=l),this.outfile=s,this.emittingFileName=o)}else{var w=c===2;this.recordSourceMappingStart(t.endingToken);if(c===0&&p)this.writeToOutput("}"),d||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")(this."+this.moduleName+" || (this."+this.moduleName+" = {}));");else if(p||c===0){var E=h!==""?(w?"exports":h)+".":h;this.writeToOutput("}"),d||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")("+E+this.moduleName+" || ("+E+this.moduleName+" = {}));")}else!p&&c!==0?(this.writeToOutput("}"),d||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")("+this.moduleName+" || ("+this.moduleName+" = {}));")):(this.writeToOutput("}"),d||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")();"));this.recordSourceMappingEnd(t),c!==0&&p&&(this.recordSourceMappingStart(t),w?(this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput("var "+this.moduleName+" = exports."+this.moduleName+";")):(this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput("var "+this.moduleName+" = "+h+"."+this.moduleName+";")),this.recordSourceMappingEnd(t))}this.setContainer(c),this.moduleName=h,this.popDecl(n)},t.prototype.emitEnumElement=function(e){this.writeToOutput(this.moduleName),this.writeToOutput("["),this.writeToOutput(this.moduleName),this.writeToOutput('["'),this.writeToOutput(e.id.text),this.writeToOutput('"] = '),e.init.emit(this),this.writeToOutput('] = "'),this.writeToOutput(e.id.text),this.writeToOutput('";')},t.prototype.emitIndex=function(e,t){e.emit(this),this.writeToOutput("["),t.emit(this),this.writeToOutput("]")},t.prototype.emitFunction=function(t){if(e.hasFlag(t.getFunctionFlags(),128))return;var n,r=this.thisFunctionDeclaration;this.thisFunctionDeclaration=t,t.isConstructor?n=this.setContainer(4):n=this.setContainer(5);var i=t.getNameText();if(n!==4||(t.getFunctionFlags()&256)===0)this.recordSourceMappingStart(t),this.emitInnerFunction(t,t.name&&!t.name.isMissing());this.setContainer(n),this.thisFunctionDeclaration=r;if(!e.hasFlag(t.getFunctionFlags(),128))if(e.hasFlag(t.getFunctionFlags(),16))this.thisClassNode&&(this.writeLineToOutput(""),t.isAccessor()?this.emitPropertyAccessor(t,this.thisClassNode.name.actualText,!1):(this.emitIndent(),this.recordSourceMappingStart(t),this.writeToOutput(this.thisClassNode.name.actualText+"."+i+" = "+i+";"),this.recordSourceMappingEnd(t)));else if((this.emitState.container===1||this.emitState.container===2)&&e.hasFlag(t.getFunctionFlags(),1)){this.writeLineToOutput(""),this.emitIndent();var s=this.emitState.container===1?this.moduleName:"exports";this.recordSourceMappingStart(t),this.writeToOutput(s+"."+i+" = "+i+";"),this.recordSourceMappingEnd(t)}},t.prototype.emitAmbientVarDecl=function(e){e.init&&(this.emitComments(e,!0),this.recordSourceMappingStart(e),this.recordSourceMappingStart(e.id),this.writeToOutput(e.id.actualText),this.recordSourceMappingEnd(e.id),this.writeToOutput(" = "),this.emitJavascript(e.init,!1),this.recordSourceMappingEnd(e),this.emitComments(e,!1))},t.prototype.varListCount=function(){return this.varListCountStack[this.varListCountStack.length-1]},t.prototype.emitVarDeclVar=function(){return this.varListCount()>=0&&(this.writeToOutput("var "),this.setInVarBlock(-this.varListCount())),!0},t.prototype.onEmitVar=function(){this.varListCount()>0?this.setInVarBlock(this.varListCount()-1):this.varListCount()<0&&this.setInVarBlock(this.varListCount()+1)},t.prototype.emitVariableDeclaration=function(t){var n=t.declarators.members[0],r=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(n,this.document.fileName),i=r&&r.symbol,s=i?i.getContainer():null,o=s?s.getKind():0,u=o===8;this.emitComments(t,!0),this.recordSourceMappingStart(t),this.setInVarBlock(t.declarators.members.length);var a=e.hasFlag(n.getVarFlags(),8)&&n.init===null;if(!a)for(var f=0,l=t.declarators.members.length;f<l;f++){var c=t.declarators.members[f];f>0&&(u?this.writeToOutputTrimmable(";"):this.writeToOutputTrimmable(", ")),c.emit(this)}this.recordSourceMappingEnd(t),this.emitComments(t,!1)},t.prototype.emitVariableDeclarator=function(e){var t=this.semanticInfoChain.getDeclForAST(e,this.document.fileName);this.pushDecl(t);if((e.getVarFlags()&8)===8)this.emitAmbientVarDecl(e),this.onEmitVar();else{this.emitComments(e,!0),this.recordSourceMappingStart(e);var n=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(e,this.document.fileName),r=n&&n.symbol,i=r?r.getContainer():null,s=i?i.getKind():0,o=i?i.getAssociatedContainerType():null,u=o?o.getKind():0;s===8?this.emitState.container!==6&&(e.isStatic()?this.writeToOutput(i.getName()+"."):this.writeToOutput("this.")):s===64||s===32||u===4||u===32||u===64?!e.isExported()&&!e.isProperty()?this.emitVarDeclVar():this.emitState.container===2?this.writeToOutput("exports."):this.writeToOutput(this.moduleName+"."):this.emitVarDeclVar(),this.recordSourceMappingStart(e.id),this.writeToOutput(e.id.actualText),this.recordSourceMappingEnd(e.id);var a=e.init!==null;a&&(this.writeToOutputTrimmable(" = "),this.varListCountStack.push(0),e.init.emit(this),this.varListCountStack.pop()),s===8&&this.emitState.container!==6&&this.writeToOutput(";"),this.onEmitVar(),this.recordSourceMappingEnd(e),this.emitComments(e,!1)}this.popDecl(t)},t.prototype.symbolIsUsedInItsEnclosingContainer=function(e,t){typeof t=="undefined"&&(t=!1);var n=e.getDeclarations();if(n.length){var r=this.getEnclosingDecl();if(r){var i=n[0].getParentDecl();if(i){var s=i,o=r;while(s){if(s.getKind()===(t?32:4))break;s=s.getParentDecl()}if(s)while(o){if(o.getKind()===(t?32:4))break;o=o.getParentDecl()}if(s&&o){var u=s===o;return!u&&e.hasFlag(32768)&&(u=s===o.getParentDecl()),u}}}}return!1},t.prototype.emitName=function(t,n){this.emitComments(t,!0),this.recordSourceMappingStart(t);if(!t.isMissing()){this.setTypeCheckerUnit(this.document.fileName);var r=this.resolvingContext.resolvingTypeReference?this.pullTypeChecker.resolver.resolveTypeNameExpression(t,this.getEnclosingDecl(),this.resolvingContext):this.pullTypeChecker.resolver.resolveNameExpression(t,this.getEnclosingDecl(),this.resolvingContext),i=r.symbol,s=r.symbolAlias,o=i.getKind(),u=s&&s.getDeclarations()[0].getParentDecl()==this.getEnclosingDecl();if(n&&this.emitState.container!==6&&i){var a=i.getContainer();if(a){var f=a.getKind();if(f===8)i.hasFlag(16)?this.writeToOutput(a.getName()+"."):o===4096&&(this.emitThis(),this.writeToOutput("."));else if(e.PullHelpers.symbolIsModule(a)||f===64||a.hasFlag(163840))o===4096||o===67108864?this.writeToOutput(a.getDisplayName()+"."):i.hasFlag(1)&&o===1024&&!i.hasFlag(163840)?this.writeToOutput(a.getDisplayName()+"."):i.hasFlag(1)&&!this.symbolIsUsedInItsEnclosingContainer(i)&&this.writeToOutput(a.getDisplayName()+".");else if(f===32||a.hasFlag(65536))o===4096?this.writeToOutput("exports."):i.hasFlag(1)&&!u&&!i.hasFlag(e.PullElementFlags.ImplicitVariable)&&i.getKind()!==32768&&i.getKind()!==8&&i.getKind()!==64&&this.writeToOutput("exports.");else if(o===4096)a.getKind()===8&&(this.emitThis(),this.writeToOutput("."));else{var l=i.getDeclarations(),c=!0;for(var h=0;h<l.length;h++)l[h].getScriptName()===this.document.fileName&&(c=!1);c&&this.writeToOutput(a.getName()+".")}}}if(i&&o===32)if(this.emitOptions.compilationSettings.moduleGenTarget===1)this.writeToOutput("__"+this.modAliasId+"__");else{var p=this.semanticInfoChain.getASTForSymbol(i,this.document.fileName),d=t.actualText,v=i.hasFlag(8);d=v?d:this.firstModAlias?this.firstModAlias:e.quoteBaseName(d),d=v?d:e.isRelative(e.stripQuotes(d))?d:e.quoteStr("./"+e.stripQuotes(d)),this.writeToOutput("require("+d+")")}else this.writeToOutput(t.actualText)}this.recordSourceMappingEnd(t),this.emitComments(t,!1)},t.prototype.recordSourceMappingNameStart=function(e){if(this.sourceMapper){var t=e;e?this.sourceMapper.currentNameIndex.length>0&&(t=this.sourceMapper.names[this.sourceMapper.currentNameIndex[this.sourceMapper.currentNameIndex.length-1]]+"."+e):t="",this.sourceMapper.names.push(t),this.sourceMapper.currentNameIndex.push(this.sourceMapper.names.length-1)}},t.prototype.recordSourceMappingNameEnd=function(){this.sourceMapper&&this.sourceMapper.currentNameIndex.pop()},t.prototype.recordSourceMappingStart=function(t){if(this.sourceMapper&&e.isValidAstNode(t)){var n={line:-1,character:-1},r=new e.SourceMapping;r.start.emittedColumn=this.emitState.column,r.start.emittedLine=this.emitState.line;var i=this.document.lineMap;i.fillLineAndCharacterFromPosition(t.minChar,n),r.start.sourceColumn=n.character,r.start.sourceLine=n.line+1,i.fillLineAndCharacterFromPosition(t.limChar,n),r.end.sourceColumn=n.character,r.end.sourceLine=n.line+1,this.sourceMapper.currentNameIndex.length>0&&(r.nameIndex=this.sourceMapper.currentNameIndex[this.sourceMapper.currentNameIndex.length-1]);var s=this.sourceMapper.currentMappings[this.sourceMapper.currentMappings.length-1];s.push(r),this.sourceMapper.currentMappings.push(r.childMappings)}},t.prototype.recordSourceMappingEnd=function(t){if(this.sourceMapper&&e.isValidAstNode(t)){this.sourceMapper.currentMappings.pop();var n=this.sourceMapper.currentMappings[this.sourceMapper.currentMappings.length-1],r=n[n.length-1];r.end.emittedColumn=this.emitState.column,r.end.emittedLine=this.emitState.line}},t.prototype.emitSourceMapsAndClose=function(){this.sourceMapper!==null&&e.SourceMapper.emitSourceMapping(this.allSourceMappers);try{this.outfile.Close()}catch(n){t.throwEmitterError(n)}},t.prototype.emitParameterPropertyAndMemberVariableAssignments=function(){var t=this.thisClassNode.constructorDecl;if(t&&t.arguments)for(var n=0,r=t.arguments.members.length;n<r;n++){var i=t.arguments.members[n];(i.getVarFlags()&256)!==0&&(this.emitIndent(),this.recordSourceMappingStart(i),this.recordSourceMappingStart(i.id),this.writeToOutput("this."+i.id.actualText),this.recordSourceMappingEnd(i.id),this.writeToOutput(" = "),this.recordSourceMappingStart(i.id),this.writeToOutput(i.id.actualText),this.recordSourceMappingEnd(i.id),this.writeLineToOutput(";"),this.recordSourceMappingEnd(i))}for(var n=0,r=this.thisClassNode.members.members.length;n<r;n++)if(this.thisClassNode.members.members[n].nodeType===17){var s=this.thisClassNode.members.members[n];!e.hasFlag(s.getVarFlags(),16)&&s.init&&(this.emitIndent(),this.emitVariableDeclarator(s),this.writeLineToOutput(""))}},t.prototype.emitCommaSeparatedList=function(e,t){typeof t=="undefined"&&(t=!1);if(e===null)return;for(var n=0,r=e.members.length;n<r;n++){var i=e.members[n];this.emitJavascript(i,t),n<r-1&&this.writeToOutput(t?",":", "),t&&this.writeLineToOutput("")}},t.prototype.emitModuleElements=function(e){if(e===null)return;this.emitComments(e,!0);var t=null;for(var n=0,r=e.members.length;n<r;n++){var i=e.members[n];i.shouldEmit()&&(this.emitSpaceBetweenConstructs(t,i),this.emitJavascript(i,!0),this.writeLineToOutput(""),t=i)}this.emitComments(e,!1)},t.prototype.isDirectivePrologueElement=function(e){if(e.nodeType===88){var t=e;return t.expression.nodeType===5}return!1},t.prototype.emitSpaceBetweenConstructs=function(e,t){if(e===null||t===null)return;if(e.minChar===-1||e.limChar===-1||t.minChar===-1||t.limChar===-1)return;var n=this.document.lineMap,r=n.getLineNumberFromPosition(e.limChar),i=n.getLineNumberFromPosition(t.minChar);i-r>1&&this.writeLineToOutput("")},t.prototype.emitScriptElements=function(e,t){var n=e.moduleElements;this.emitComments(n,!0);for(var r=0,i=n.members.length;r<i;r++){var s=n.members[r];if(!this.isDirectivePrologueElement(s))break;this.emitJavascript(s,!0),this.writeLineToOutput("")}this.emitPrologue(e,t);var o=null;for(;r<i;r++){var s=n.members[r];s.shouldEmit()&&(this.emitSpaceBetweenConstructs(o,s),this.emitJavascript(s,!0),this.writeLineToOutput(""),o=s)}this.emitComments(n,!1)},t.prototype.emitConstructorStatements=function(e){var t=e.block.statements;if(t===null)return;this.emitComments(t,!0);var n=this.thisClassNode.extendsList&&this.thisClassNode.extendsList.members.length>0,r=n?1:0,i=null;for(var s=0,o=t.members.length;s<o;s++){s===r&&this.emitParameterPropertyAndMemberVariableAssignments();var u=t.members[s];u.shouldEmit()&&(this.emitSpaceBetweenConstructs(i,u),this.emitJavascript(u,!0),this.writeLineToOutput(""),i=u)}s===r&&this.emitParameterPropertyAndMemberVariableAssignments(),this.emitComments(t,!1)},t.prototype.emitJavascript=function(e,t){if(e===null)return;t&&this.indenter.indentAmt>0&&this.emitIndent(),e.emit(this)},t.prototype.emitPropertyAccessor=function(t,n,r){if(!e.hasFlag(t.getFunctionFlags(),32)){var i=e.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain,this.document.fileName);if(i.getGetter())return}this.emitIndent(),this.recordSourceMappingStart(t),this.writeLineToOutput("Object.defineProperty("+n+(r?'.prototype, "':', "')+t.name.actualText+'"'+", {"),this.indenter.increaseIndent();var s=e.PullHelpers.getGetterAndSetterFunction(t,this.semanticInfoChain,this.document.fileName);s.getter&&(this.emitIndent(),this.recordSourceMappingStart(s.getter),this.writeToOutput("get: "),this.emitInnerFunction(s.getter,!1),this.writeLineToOutput(",")),s.setter&&(this.emitIndent(),this.recordSourceMappingStart(s.setter),this.writeToOutput("set: "),this.emitInnerFunction(s.setter,!1),this.writeLineToOutput(",")),this.emitIndent(),this.writeLineToOutput("enumerable: true,"),this.emitIndent(),this.writeLineToOutput("configurable: true"),this.indenter.decreaseIndent(),this.emitIndent(),this.writeLineToOutput("});"),this.recordSourceMappingEnd(t)},t.prototype.emitPrototypeMember=function(e,t){e.isAccessor()?this.emitPropertyAccessor(e,t,!0):(this.emitIndent(),this.recordSourceMappingStart(e),this.emitComments(e,!0),this.writeToOutput(t+".prototype."+e.getNameText()+" = "),this.emitInnerFunction(e,!1,!1),this.writeLineToOutput(";"))},t.prototype.emitClass=function(t){var n=this.semanticInfoChain.getDeclForAST(t,this.document.fileName);this.pushDecl(n);var r=this.thisClassNode;this.thisClassNode=t;var i=t.name.actualText;this.emitComments(t,!0);var s=this.setContainer(3);this.recordSourceMappingStart(t),this.writeToOutput("var "+i);var o=t.extendsList&&t.extendsList.members.length,u=null,a=null,f=null;o?this.writeLineToOutput(" = (function (_super) {"):this.writeLineToOutput(" = (function () {"),this.recordSourceMappingNameStart(i),this.indenter.increaseIndent(),o&&(u=t.extendsList.members[0],a=u.nodeType===36?u.target:u,this.emitIndent(),this.writeLineToOutput("__extends("+i+", _super);")),this.emitIndent();var l=t.constructorDecl;l?(l.emit(this),this.writeLineToOutput("")):(this.recordSourceMappingStart(t),this.indenter.increaseIndent(),this.writeLineToOutput("function "+t.name.actualText+"() {"),this.recordSourceMappingNameStart("constructor"),o&&(this.emitIndent(),this.writeLineToOutput("_super.apply(this, arguments);")),this.emitParameterPropertyAndMemberVariableAssignments(),this.indenter.decreaseIndent(),this.emitIndent(),this.writeLineToOutput("}"),this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t)),this.emitClassMembers(t),this.emitIndent(),this.recordSourceMappingStart(t.endingToken),this.writeLineToOutput("return "+i+";"),this.recordSourceMappingEnd(t.endingToken),this.indenter.decreaseIndent(),this.emitIndent(),this.recordSourceMappingStart(t.endingToken),this.writeToOutput("}"),this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.recordSourceMappingStart(t),this.writeToOutput(")("),o&&(this.resolvingContext.resolvingTypeReference=!0,this.emitJavascript(a,!1),this.resolvingContext.resolvingTypeReference=!1),this.writeToOutput(");"),this.recordSourceMappingEnd(t);if((s===1||s===2)&&e.hasFlag(t.getVarFlags(),1)){this.writeLineToOutput(""),this.emitIndent();var c=s===1?this.moduleName:"exports";this.recordSourceMappingStart(t),this.writeToOutput(c+"."+i+" = "+i+";"),this.recordSourceMappingEnd(t)}this.recordSourceMappingEnd(t),this.emitComments(t,!1),this.setContainer(s),this.thisClassNode=r,this.popDecl(n)},t.prototype.emitClassMembers=function(t){var n=null;for(var r=0,i=t.members.members.length;r<i;r++){var s=t.members.members[r];if(s.nodeType===12){var o=s;e.hasFlag(o.getFunctionFlags(),256)&&!o.isSignature()&&(this.emitSpaceBetweenConstructs(n,o),e.hasFlag(o.getFunctionFlags(),16)?o.isAccessor()?this.emitPropertyAccessor(o,this.thisClassNode.name.actualText,!1):(this.emitIndent(),this.recordSourceMappingStart(o),this.writeToOutput(t.name.actualText+"."+o.name.actualText+" = "),this.emitInnerFunction(o,!1),this.writeLineToOutput(";")):this.emitPrototypeMember(o,t.name.actualText),n=o)}}for(var r=0,i=t.members.members.length;r<i;r++){var s=t.members.members[r];if(s.nodeType===17){var u=s;e.hasFlag(u.getVarFlags(),16)&&u.init&&(this.emitSpaceBetweenConstructs(n,u),this.emitIndent(),this.recordSourceMappingStart(u),this.writeToOutput(t.name.actualText+"."+u.id.actualText+" = "),u.init.emit(this),this.writeLineToOutput(";"),this.recordSourceMappingEnd(u),n=u)}}},t.prototype.emitPrologue=function(e,t){this.extendsPrologueEmitted||t&&(this.extendsPrologueEmitted=!0,this.writeLineToOutput("var __extends = this.__extends || function (d, b) {"),this.writeLineToOutput("    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];"),this.writeLineToOutput("    function __() { this.constructor = d; }"),this.writeLineToOutput("    __.prototype = b.prototype;"),this.writeLineToOutput("    d.prototype = new __();"),this.writeLineToOutput("};")),this.globalThisCapturePrologueEmitted||this.shouldCaptureThis(e)&&(this.globalThisCapturePrologueEmitted=!0,this.writeLineToOutput(this.captureThisStmtString))},t.prototype.emitSuperReference=function(){this.writeToOutput("_super.prototype")},t.prototype.emitSuperCall=function(e){if(e.target.nodeType===32){var t=e.target;if(t.operand1.nodeType===30)return t.emit(this),this.writeToOutput(".call("),this.emitThis(),e.arguments&&e.arguments.members.length>0&&(this.writeToOutput(", "),this.emitCommaSeparatedList(e.arguments)),this.writeToOutput(")"),!0}return!1},t.prototype.emitThis=function(){this.thisFunctionDeclaration&&!this.thisFunctionDeclaration.isMethod()&&!this.thisFunctionDeclaration.isConstructor?this.writeToOutput("_this"):this.writeToOutput("this")},t.prototype.emitBlockOrStatement=function(e){e.nodeType===81?e.emit(this):(this.writeLineToOutput(""),this.indenter.increaseIndent(),this.emitJavascript(e,!0),this.indenter.decreaseIndent())},t.throwEmitterError=function(e){var t=new Error(e.message);throw t.isEmitterError=!0,t},t.handleEmitterError=function(t,n){if(n.isEmitterError===!0)return[new e.Diagnostic(t,0,0,278,[n.message])];throw n},t}();e.Emitter=s})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){this.prefix="",this.suffix=""}return e.prototype.isString=function(){return!1},e.prototype.isArray=function(){return!1},e.prototype.isMarker=function(){return!this.isString()&&!this.isArray()},e.prototype.toString=function(){return e.memberNameToString(this)},e.memberNameToString=function(t,n,r){typeof r=="undefined"&&(r=0);var i=t.prefix;if(t.isString())i+=t.text;else if(t.isArray()){var s=t;for(var o=0;o<s.entries.length;o++){if(s.entries[o].isMarker()){n&&n.push(r+i.length);continue}i+=e.memberNameToString(s.entries[o],n,r+i.length),i+=s.delim}}return i+=t.suffix,i},e.create=function(e,t,i){if(typeof e=="string")return new n(e);var s=new r;return t&&(s.prefix=t),i&&(s.suffix=i),s.entries.push(e),s},e}();e.MemberName=t;var n=function(e){function t(t){e.call(this),this.text=t}return __extends(t,e),t.prototype.isString=function(){return!0},t}(t);e.MemberNameString=n;var r=function(e){function t(){e.call(this),this.delim="",this.entries=[]}return __extends(t,e),t.prototype.isArray=function(){return!0},t.prototype.add=function(e){this.entries.push(e)},t.prototype.addAll=function(e){for(var t=0;t<e.length;t++)this.entries.push(e[t])},t}(t);e.MemberNameArray=r})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function t(e){return e.replace(/"/g,"").replace(/'/g,"")}function n(e){return e.indexOf("'")!==-1}function r(e){return e.indexOf('"')!==-1||n(e)}function i(e){return'"'+e+'"'}function s(e){return e.indexOf('"')!==-1?(e=e.replace('"',"'"),e=e.replace('"',"'")):(e=e.replace("'",'"'),e=e.replace("'",'"')),e}function o(e){return e.replace(/\\/g,"/")}function u(e){return e.length>5&&e.substring(e.length-5,e.length)===".d.ts"?e.substring(0,e.length-5):e.length>3&&e.substring(e.length-3,e.length)===".ts"?e.substring(0,e.length-3):e.length>3&&e.substring(e.length-3,e.length)===".js"?e.substring(0,e.length-3):e}function a(e){return c(e)?g(e):g(e)}function f(e,t){var n=e.toLocaleUpperCase(),r=t.toLocaleUpperCase(),i=r.length;return n.length>i&&n.substring(n.length-i,n.length)===r}function l(e){return f(e,".js")}function c(e){return f(e,".ts")}function h(e){return f(e,".d.ts")}function p(e,n,r){typeof n=="undefined"&&(n=!0),typeof r=="undefined"&&(r=!1);var s=r?o(e):u(t(e)),a=this.getPathComponents(s);return a.length?n?i(a[a.length-1]):a[a.length-1]:e}function d(e){return e.split("/")}function v(e,t){t=o(t);var n=this.getPathComponents(t),r=this.getPathComponents(e),i=0;for(;i<n.length&&i<r.length;i++)if(r[i]!==n[i])break;if(i!==0){var s="",u=n.slice(i,n.length);for(;i<r.length;i++)r[i]!==""&&(s+="../");return s+u.join("/")}return t}function m(e){var n=u(t(e)),r=w(n);if(r==="")return e;var s=n.split(r),o=s.length>1?1:0;return i(s[o])}function g(e){return u(t(e))+".d.ts"}function y(e){return e.charAt(0)==="."}function b(e){return e.charAt(0)==="\\"||e.charAt(0)==="/"||e.indexOf(":\\")!==-1||e.indexOf(":/")!==-1}function w(e){if(e==="")return e;var t=e.indexOf("/")!==-1;return t?S(e):""}function E(e){e=o(e);var t=d(e);return t.slice(0,t.length-1)}function S(e){var t=E(e);return t.join("/")+"/"}function x(t){/^\\\\[^\\]/.test(t)&&(t="file:"+t);var n=this.getPathComponents(o(t)),r=[];for(var i=0;i<n.length;i++){var s=n[i];if(s===".")continue;if(r.length>0&&e.ArrayUtilities.last(r)!==".."&&s===".."){r.pop();continue}r.push(s)}return r.join("/")}e.stripQuotes=t,e.isSingleQuoted=n,e.isQuoted=r,e.quoteStr=i,e.swapQuotes=s,e.switchToForwardSlashes=o,e.trimModName=u,e.getDeclareFilePath=a,e.isJSFile=l,e.isTSFile=c,e.isDTSFile=h,e.getPrettyName=p,e.getPathComponents=d,e.getRelativePathToFixedPath=v,e.quoteBaseName=m,e.changePathToDTS=g,e.isRelative=y,e.isRooted=b,e.getRootFilePath=w,e.filePathComponents=E,e.filePath=S,e.normalizePath=x})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(e,t){this.path=e,this.fileInformation=t,this.referencedFiles=null,this.lineStarts=null}return t.prototype.getText=function(e,t){return this.fileInformation.contents().substring(e,t)},t.prototype.getLength=function(){return this.fileInformation.contents().length},t.prototype.getLineStartPositions=function(){return this.lineStarts===null&&(this.lineStarts=e.LineMap.fromString(this.fileInformation.contents()).lineStarts()),this.lineStarts},t.prototype.getTextChangeRangeSinceVersion=function(t){throw e.Errors.notYetImplemented()},t}();e.SourceUnit=t;var n=function(){function t(t,n){this.compilationSettings=t,this.ioHost=n,this.code=[],this.inputFileNameToOutputFileName=new e.StringHashTable}return t.prototype.getSourceUnit=function(t){var n=e.switchToForwardSlashes(t.toUpperCase());for(var r=0,i=this.code.length;r<i;r++){var s=this.code[r],o=e.switchToForwardSlashes(s.path.toUpperCase());if(n===o)return s}return null},t}();e.CompilationEnvironment=n;var r=function(){function n(e){this.environment=e,this.visited={}}return n.prototype.resolveCode=function(n,r,i,s){var o={fileInformation:null,path:n},u=this.environment.ioHost,a=e.isRelative(n),f=a?!1:e.isRooted(n),l=a?u.resolvePath(r+"/"+n):f||!r||i?n:r+"/"+n;e.isTSFile(l)||(l+=".ts"),l=e.switchToForwardSlashes(e.stripQuotes(l));var c=this.environment.compilationSettings.useCaseSensitiveFileResolution?l:l.toLocaleUpperCase();if(!this.visited[c]){if(a||f||!i)try{e.CompilerDiagnostics.debugPrint("   Reading code from "+l);try{o.fileInformation=u.readFile(l)}catch(h){if(h.isUnsupportedEncoding){s.errorReporter.addDiagnostic(new e.Diagnostic(null,0,0,279,[l]));return}e.isTSFile(l)&&(l=e.changePathToDTS(l),e.CompilerDiagnostics.debugPrint("   Reading code from "+l),o.fileInformation=u.readFile(l))}e.CompilerDiagnostics.debugPrint("   Found code at "+l),o.path=l,this.visited[c]=!0}catch(p){if(p.isUnsupportedEncoding){s.errorReporter.addDiagnostic(new e.Diagnostic(null,0,0,279,[l]));return}return e.CompilerDiagnostics.debugPrint("   Did not find code for "+n),!1}else{try{o=u.findFile(r,l),o||e.isTSFile(l)&&(l=e.changePathToDTS(l),o=u.findFile(r,l))}catch(d){return e.CompilerDiagnostics.debugPrint("   Did not find code for "+l),!1}o?(o.path=e.switchToForwardSlashes(e.stripQuotes(o.path)),e.CompilerDiagnostics.debugPrint(n+" resolved to: "+o.path),o.fileInformation=o.fileInformation,this.visited[c]=!0):e.CompilerDiagnostics.debugPrint("Could not find "+n)}if(o&&o.fileInformation!==null){var v=u.dirName(o.path),m=new t(o.path,o.fileInformation),g=e.preProcessFile(o.path,m,this.environment.compilationSettings),y=u.resolvePath(o.path),b;m.referencedFiles=g.referencedFiles;for(var w=0;w<g.referencedFiles.length;w++){var E=g.referencedFiles[w];l=e.isRooted(E.path)?E.path:v+"/"+E.path,l=u.resolvePath(l);if(y===l){s.errorReporter.addDiagnostic(new e.Diagnostic(l,E.position,E.length,273,null));continue}b=this.resolveCode(E.path,v,!1,s),b||s.errorReporter.addDiagnostic(new e.Diagnostic(y,E.position,E.length,274,[E.path]))}for(var w=0;w<g.importedFiles.length;w++){var S=g.importedFiles[w];b=this.resolveCode(S.path,v
,!0,s),b||s.errorReporter.addDiagnostic(new e.Diagnostic(y,S.position,S.length,275,[S.path]))}s.postResolution(m.path,m)}}return!0},n}();e.CodeResolver=r})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function n(t){var n=/^(\/\/\/\s*<reference\s+path=)('|")(.+?)\2\s*(static=('|")(.+?)\2\s*)*\/>/gim,r=n.exec(t);if(r){var i=e.normalizePath(r[3]),s=e.normalizePath(i),o=r.length>=7&&r[6]==="true";return o&&e.CompilerDiagnostics.debugPrint(i+" is resident"),{line:0,character:0,position:0,length:0,path:e.switchToForwardSlashes(s),isResident:o}}return null}function r(e){var t=/^(\/\/\/\s*<implicit-import\s*)*\/>/gim,n=t.exec(e);return n?!0:!1}function i(e,t){var n=f(e,t,null,!1);return n.referencedFiles}function u(t,n,r,i){var s=0,u={line:-1,character:-1};while(r.tokenKind!==10){if(r.tokenKind===49){var a=s+r.leadingTriviaWidth();r=n.scan(o,!1);if(e.SyntaxFacts.isIdentifierNameOrAnyKeyword(r)){r=n.scan(o,!1);if(r.tokenKind===108){r=n.scan(o,!1);if(r.tokenKind===66||r.tokenKind===67){r=n.scan(o,!1);if(r.tokenKind===73){var f=n.absoluteIndex();r=n.scan(o,!1),t.fillLineAndCharacterFromPosition(a,u);if(r.tokenKind===14){var l={line:u.line,character:u.character,position:f+r.leadingTriviaWidth(),length:r.width(),path:e.stripQuotes(e.switchToForwardSlashes(r.text())),isResident:!1};i.push(l)}}}}}}s=n.absoluteIndex(),r=n.scan(o,!1)}}function a(e,t,r,i){var s=t.leadingTrivia(),o=0,u={line:-1,character:-1},a=!1;for(var f=0,l=s.count();f<l;f++){var c=s.syntaxTriviaAt(f);if(c.kind()===7){var h=c.fullText(),p=n(h);p&&(e.fillLineAndCharacterFromPosition(o,u),p.position=o,p.length=c.fullWidth(),p.line=u.line,p.character=u.character,i.push(p));if(r){var d=/^(\/\/\/\s*<reference\s+no-default-lib=)('|")(.+?)\2\s*\/>/gim,v=d.exec(h);v&&(a=v[3]==="true")}}o+=c.fullWidth()}return{noDefaultLib:a}}function f(n,r,i,f){typeof f=="undefined"&&(f=!0),i=i||new t;var l=e.SimpleText.fromScriptSnapshot(r),c=new e.Scanner(n,l,i.codeGenTarget,s),h=c.scan(o,!1),p=[];f&&u(l.lineMap(),c,h,p);var d=[],v=a(l.lineMap(),h,i,d);return o.length=0,{settings:i,referencedFiles:d,importedFiles:p,isLibFile:v.noDefaultLib}}function l(t){return new e.ParseOptions(t.allowAutomaticSemicolonInsertion,t.allowModuleKeywordInExternalModuleReference)}var t=function(){function e(){this.propagateConstants=!1,this.minWhitespace=!1,this.noOutputOnError=!1,this.ignoreTypeErrors=!1,this.emitComments=!1,this.watch=!1,this.exec=!1,this.resolve=!0,this.disallowBool=!1,this.allowAutomaticSemicolonInsertion=!0,this.allowModuleKeywordInExternalModuleReference=!0,this.useDefaultLib=!0,this.codeGenTarget=0,this.moduleGenTarget=0,this.outputOption="",this.mapSourceFiles=!1,this.emitFullSourceMapPath=!1,this.generateDeclarationFiles=!1,this.useCaseSensitiveFileResolution=!1,this.gatherDiagnostics=!1,this.updateTC=!1,this.implicitAny=!1}return e}();e.CompilationSettings=t,e.getImplicitImport=r,e.getReferencedFiles=i;var s=e.ArrayUtilities.createArray(2048,0),o=[];e.preProcessFile=f,e.getParseOptions=l})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(e,t,n){this.ioHost=e,this.path=t,this.writeByteOrderMark=n,this.contents="",this.onNewLine=!0}return t.prototype.Write=function(e){this.contents+=e,this.onNewLine=!1},t.prototype.WriteLine=function(e){this.contents+=e,this.contents+="\r\n",this.onNewLine=!0},t.prototype.Close=function(){try{this.ioHost.writeFile(this.path,this.contents,this.writeByteOrderMark)}catch(t){e.Emitter.throwEmitterError(t)}},t}();e.TextWriter=t;var n=function(){function n(n,r,i,s){this.emittingFileName=n,this.semanticInfoChain=r,this.emitOptions=i,this.writeByteOrderMark=s,this.fileName=null,this.declFile=null,this.indenter=new e.Indenter,this.declarationContainerStack=[],this.isDottedModuleName=[],this.ignoreCallbackAst=null,this.singleDeclFile=null,this.varListCount=0,this.declFile=new t(i.ioHost,n,s)}return n.prototype.widenType=function(e){return e===this.semanticInfoChain.undefinedTypeSymbol||e===this.semanticInfoChain.nullTypeSymbol?this.semanticInfoChain.anyTypeSymbol:e},n.prototype.close=function(){try{this.declFile.Close()}catch(t){e.Emitter.throwEmitterError(t)}},n.prototype.emitDeclarations=function(t){e.AstWalkerWithDetailCallback.walk(t,this)},n.prototype.getAstDeclarationContainer=function(){return this.declarationContainerStack[this.declarationContainerStack.length-1]},n.prototype.emitDottedModuleName=function(){return this.isDottedModuleName.length===0?!1:this.isDottedModuleName[this.isDottedModuleName.length-1]},n.prototype.getIndentString=function(e){return typeof e=="undefined"&&(e=!1),this.emitOptions.compilationSettings.minWhitespace?"":this.indenter.getIndent()},n.prototype.emitIndent=function(){this.declFile.Write(this.getIndentString())},n.prototype.canEmitSignature=function(t,n,r,i){typeof r=="undefined"&&(r=!0),typeof i=="undefined"&&(i=!0);var s;i?s=this.getAstDeclarationContainer():s=this.declarationContainerStack[this.declarationContainerStack.length-2];if(s.nodeType===15&&!e.hasFlag(t,1)){var o=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(n,this.fileName).symbol;return o&&o.isExternallyVisible()}return!r&&s.nodeType===2&&e.hasFlag(t,8)?!1:!0},n.prototype.canEmitPrePostAstSignature=function(t,n,r){return this.ignoreCallbackAst?(e.CompilerDiagnostics.assert(this.ignoreCallbackAst!==n,"Ignore Callback AST mismatch"),this.ignoreCallbackAst=null,!1):r&&!this.canEmitSignature(t,n,!0,r)?(this.ignoreCallbackAst=n,!1):!0},n.prototype.getDeclFlagsString=function(t,n){var r=this.getIndentString();if(e.hasFlag(t,16))e.hasFlag(t,2)&&(r+="private "),r+="static ";else if(e.hasFlag(t,2))r+="private ";else if(e.hasFlag(t,4))r+="public ";else{var i=!e.hasFlag(t,1),s=this.getAstDeclarationContainer();s.nodeType===15&&e.hasFlag(s.getModuleFlags(),256)&&e.hasFlag(t,1)&&(r+="export ",i=!0),i&&n!=="interface"&&(r+="declare "),r+=n+" "}return r},n.prototype.emitDeclFlags=function(e,t){this.declFile.Write(this.getDeclFlagsString(e,t))},n.prototype.canEmitTypeAnnotationSignature=function(t){return typeof t=="undefined"&&(t=0),!e.hasFlag(t,2)},n.prototype.pushDeclarationContainer=function(e){this.declarationContainerStack.push(e)},n.prototype.popDeclarationContainer=function(t){e.CompilerDiagnostics.assert(t!==this.getAstDeclarationContainer(),"Declaration container mismatch"),this.declarationContainerStack.pop()},n.prototype.emitTypeNamesMember=function(e,t){typeof t=="undefined"&&(t=!1),e.prefix==="{ "?(t&&this.emitIndent(),this.declFile.WriteLine("{"),this.indenter.increaseIndent(),t=!0):e.prefix!==""&&(t&&this.emitIndent(),this.declFile.Write(e.prefix),t=!1);if(e.isString())t&&this.emitIndent(),this.declFile.Write(e.text);else if(e.isArray()){var n=e;for(var r=0;r<n.entries.length;r++)this.emitTypeNamesMember(n.entries[r],t),n.delim==="; "&&this.declFile.WriteLine(";")}e.suffix==="}"?(this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.Write(e.suffix)):this.declFile.Write(e.suffix)},n.prototype.emitTypeSignature=function(e){var t=this.getAstDeclarationContainer(),n=this.semanticInfoChain.getDeclForAST(t,this.fileName),r=n.getSymbol(),i=e.getScopedNameEx(r);this.emitTypeNamesMember(i)},n.prototype.emitComment=function(e){var t=e.getText();this.declFile.onNewLine?this.emitIndent():e.isBlockComment||(this.declFile.WriteLine(""),this.emitIndent()),this.declFile.Write(t[0]);for(var n=1;n<t.length;n++)this.declFile.WriteLine(""),this.emitIndent(),this.declFile.Write(t[n]);e.endsLine||!e.isBlockComment?this.declFile.WriteLine(""):this.declFile.Write(" ")},n.prototype.emitDeclarationComments=function(e,t){typeof t=="undefined"&&(t=!0);if(!this.emitOptions.compilationSettings.emitComments)return;var n=e.getDocComments();this.writeDeclarationComments(n,t)},n.prototype.writeDeclarationComments=function(e,t){typeof t=="undefined"&&(t=!0);if(e.length>0){for(var n=0;n<e.length;n++)this.emitComment(e[n]);t?this.declFile.onNewLine||this.declFile.WriteLine(""):this.declFile.onNewLine&&this.emitIndent()}},n.prototype.emitTypeOfBoundDecl=function(e){var t=this.semanticInfoChain.getDeclForAST(e,this.fileName),n=t.getSymbol(),r=this.widenType(n.getType());if(!r)return;if(e.typeExpr||e.init&&r!==this.semanticInfoChain.anyTypeSymbol)this.declFile.Write(": "),this.emitTypeSignature(r)},n.prototype.VariableDeclaratorCallback=function(t,n){if(t&&this.canEmitSignature(e.ToDeclFlags(n.getVarFlags()),n,!1)){var r=this.getAstDeclarationContainer().nodeType===14;this.emitDeclarationComments(n),r?(this.emitIndent(),this.declFile.Write(n.id.actualText),e.hasFlag(n.id.getFlags(),4)&&this.declFile.Write("?")):(this.varListCount>=0&&(this.emitDeclFlags(e.ToDeclFlags(n.getVarFlags()),"var"),this.varListCount=-this.varListCount),this.declFile.Write(n.id.actualText)),this.canEmitTypeAnnotationSignature(e.ToDeclFlags(n.getVarFlags()))&&this.emitTypeOfBoundDecl(n),this.varListCount>0?this.varListCount--:this.varListCount<0&&this.varListCount++,this.varListCount<0?this.declFile.Write(", "):this.declFile.WriteLine(";")}return!1},n.prototype.BlockCallback=function(e,t){return!1},n.prototype.VariableStatementCallback=function(e,t){return!0},n.prototype.VariableDeclarationCallback=function(e,t){return e?this.varListCount=t.declarators.members.length:this.varListCount=0,!0},n.prototype.emitArgDecl=function(t,n){this.indenter.increaseIndent(),this.emitDeclarationComments(t,!1),this.declFile.Write(t.id.actualText),t.isOptionalArg()&&this.declFile.Write("?"),this.indenter.decreaseIndent(),this.canEmitTypeAnnotationSignature(e.ToDeclFlags(n.getFunctionFlags()))&&this.emitTypeOfBoundDecl(t)},n.prototype.isOverloadedCallSignature=function(e){var t=this.semanticInfoChain.getDeclForAST(e,this.fileName),n=t.getSymbol(),r=n.getType(),i=r.getCallSignatures();return i&&i.length>1},n.prototype.FunctionDeclarationCallback=function(t,n){if(!t)return!1;if(n.isAccessor())return this.emitPropertyAccessorSignature(n);var r=this.getAstDeclarationContainer().nodeType===14,i=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(n,this.fileName).symbol,s=i.getType();if(n.block){var o=s.getConstructSignatures();if(o&&o.length>1)return!1;if(this.isOverloadedCallSignature(n))return!1}else if(!r&&e.hasFlag(n.getFunctionFlags(),2)&&this.isOverloadedCallSignature(n)){var u=s.getCallSignatures();e.Debug.assert(u&&u.length>1);var a=u[0].isDefinition()?u[1]:u[0],f=a.getDeclarations()[0],l=this.semanticInfoChain.getASTForDecl(f);if(l!==n)return!1}if(!this.canEmitSignature(e.ToDeclFlags(n.getFunctionFlags()),n,!1))return!1;var c=this.semanticInfoChain.getDeclForAST(n,this.fileName).getSignatureSymbol();this.emitDeclarationComments(n);if(n.isConstructor)this.emitIndent(),this.declFile.Write("constructor"),this.emitTypeParameters(n.typeArguments,c);else{var h=n.getNameText();r?(this.emitIndent(),n.isConstructMember()?(this.declFile.Write("new"),this.emitTypeParameters(n.typeArguments,c)):!n.isCallMember()&&!n.isIndexerMember()?(this.declFile.Write(h),this.emitTypeParameters(n.typeArguments,c),e.hasFlag(n.name.getFlags(),4)&&this.declFile.Write("? ")):this.emitTypeParameters(n.typeArguments,c)):(this.emitDeclFlags(e.ToDeclFlags(n.getFunctionFlags()),"function"),h!=="__missing"||!n.name||!n.name.isMissing()?this.declFile.Write(h):n.isConstructMember()&&this.declFile.Write("new"),this.emitTypeParameters(n.typeArguments,c))}n.isIndexerMember()?this.declFile.Write("["):this.declFile.Write("(");if(n.arguments){var p=n.arguments.members.length;n.variableArgList&&p--;for(var d=0;d<p;d++){var v=n.arguments.members[d];this.emitArgDecl(v,n),d<p-1&&this.declFile.Write(", ")}}if(n.variableArgList){var m=n.arguments.members[n.arguments.members.length-1];n.arguments.members.length>1?this.declFile.Write(", ..."):this.declFile.Write("..."),this.emitArgDecl(m,n)}n.isIndexerMember()?this.declFile.Write("]"):this.declFile.Write(")");if(!n.isConstructor&&this.canEmitTypeAnnotationSignature(e.ToDeclFlags(n.getFunctionFlags()))){var g=c.getReturnType();if(n.returnTypeAnnotation||g&&g!==this.semanticInfoChain.anyTypeSymbol)this.declFile.Write(": "),this.emitTypeSignature(g)}return this.declFile.WriteLine(";"),!1},n.prototype.emitBaseExpression=function(e,t){var n=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(e.members[t],this.fileName),r=n&&n.symbol;this.emitTypeSignature(r)},n.prototype.emitBaseList=function(e,t){var n=t?e.extendsList:e.implementsList;if(n&&n.members.length>0){var r=t?"extends":"implements";this.declFile.Write(" "+r+" ");var i=n.members.length;for(var s=0;s<i;s++)s>0&&this.declFile.Write(", "),this.emitBaseExpression(n,s)}},n.prototype.emitAccessorDeclarationComments=function(t){if(!this.emitOptions.compilationSettings.emitComments)return;var n=e.PullHelpers.getGetterAndSetterFunction(t,this.semanticInfoChain,this.fileName),r=[];n.getter&&(r=r.concat(n.getter.getDocComments())),n.setter&&(r=r.concat(n.setter.getDocComments())),this.writeDeclarationComments(r)},n.prototype.emitPropertyAccessorSignature=function(t){var n=e.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain,this.fileName);if(!e.hasFlag(t.getFunctionFlags(),32)&&n.getGetter())return!1;this.emitAccessorDeclarationComments(t),this.emitDeclFlags(e.ToDeclFlags(t.getFunctionFlags()),"var"),this.declFile.Write(t.name.actualText);if(this.canEmitTypeAnnotationSignature(e.ToDeclFlags(t.getFunctionFlags()))){this.declFile.Write(" : ");var r=n.getType();this.emitTypeSignature(r)}return this.declFile.WriteLine(";"),!1},n.prototype.emitClassMembersFromConstructorDefinition=function(t){if(t.arguments){var n=t.arguments.members.length;t.variableArgList&&n--;for(var r=0;r<n;r++){var i=t.arguments.members[r];e.hasFlag(i.getVarFlags(),256)&&(this.emitDeclarationComments(i),this.emitDeclFlags(e.ToDeclFlags(i.getVarFlags()),"var"),this.declFile.Write(i.id.actualText),this.canEmitTypeAnnotationSignature(e.ToDeclFlags(i.getVarFlags()))&&this.emitTypeOfBoundDecl(i),this.declFile.WriteLine(";"))}}},n.prototype.ClassDeclarationCallback=function(t,n){if(!this.canEmitPrePostAstSignature(e.ToDeclFlags(n.getVarFlags()),n,t))return!1;if(t){var r=n.name.actualText;this.emitDeclarationComments(n),this.emitDeclFlags(e.ToDeclFlags(n.getVarFlags()),"class"),this.declFile.Write(r),this.pushDeclarationContainer(n),this.emitTypeParameters(n.typeParameters),this.emitBaseList(n,!0),this.emitBaseList(n,!1),this.declFile.WriteLine(" {"),this.indenter.increaseIndent(),n.constructorDecl&&this.emitClassMembersFromConstructorDefinition(n.constructorDecl)}else this.indenter.decreaseIndent(),this.popDeclarationContainer(n),this.emitIndent(),this.declFile.WriteLine("}");return!0},n.prototype.emitTypeParameters=function(e,t){if(!e||!e.members.length)return;this.declFile.Write("<");var n=this.getAstDeclarationContainer(),r=this.semanticInfoChain.getDeclForAST(n,this.fileName),i=r.getSymbol(),s;if(t)s=t.getTypeParameters();else{s=i.getTypeArguments();if(!s||!s.length)s=i.getTypeParameters()}for(var o=0;o<s.length;o++){o&&this.declFile.Write(", ");var u=s[o].getScopedNameEx(i,!0);this.emitTypeNamesMember(u)}this.declFile.Write(">")},n.prototype.InterfaceDeclarationCallback=function(t,n){if(!this.canEmitPrePostAstSignature(e.ToDeclFlags(n.getVarFlags()),n,t))return!1;if(t){var r=n.name.actualText;this.emitDeclarationComments(n),this.emitDeclFlags(e.ToDeclFlags(n.getVarFlags()),"interface"),this.declFile.Write(r),this.pushDeclarationContainer(n),this.emitTypeParameters(n.typeParameters),this.emitBaseList(n,!0),this.declFile.WriteLine(" {"),this.indenter.increaseIndent()}else this.indenter.decreaseIndent(),this.popDeclarationContainer(n),this.emitIndent(),this.declFile.WriteLine("}");return!0},n.prototype.ImportDeclarationCallback=function(t,n){if(t){var r=this.semanticInfoChain.getDeclForAST(n,this.fileName),i=r.getSymbol();if(i.getTypeUsedExternally()||e.PullContainerTypeSymbol.usedAsSymbol(i.getContainer(),i))this.emitDeclarationComments(n),this.emitIndent(),this.declFile.Write("import "),this.declFile.Write(n.id.actualText+" = "),n.isDynamicImport?this.declFile.WriteLine("require("+n.getAliasName()+");"):this.declFile.WriteLine(n.getAliasName()+";")}return!1},n.prototype.emitEnumSignature=function(t){if(!this.canEmitSignature(e.ToDeclFlags(t.getModuleFlags()),t))return!1;this.emitDeclarationComments(t),this.emitDeclFlags(e.ToDeclFlags(t.getModuleFlags()),"enum"),this.declFile.WriteLine(t.name.actualText+" {"),this.indenter.increaseIndent();var n=t.members.members.length;for(var r=0;r<n;r++){var i=t.members.members[r];if(i.nodeType===97&&!e.hasFlag(i.getFlags(),32)){var s=i;this.emitDeclarationComments(i),this.emitIndent(),this.declFile.WriteLine(s.declaration.declarators.members[0].id.actualText+",")}}return this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.WriteLine("}"),!1},n.prototype.ModuleDeclarationCallback=function(n,r){if(e.hasFlag(r.getModuleFlags(),256)){if(e.hasFlag(r.getModuleFlags(),512))if(n){if(!this.emitOptions.outputMany){this.singleDeclFile=this.declFile,e.CompilerDiagnostics.assert(this.indenter.indentAmt===0,"Indent has to be 0 when outputing new file");var i=this.emitOptions.mapOutputFileName(this.fileName,e.TypeScriptCompiler.mapToDTSFileName),s=r.containsUnicodeChar||this.emitOptions.compilationSettings.emitComments&&r.containsUnicodeCharInComment;this.declFile=new t(this.emitOptions.ioHost,i,this.writeByteOrderMark)}this.pushDeclarationContainer(r)}else{if(!this.emitOptions.outputMany){e.CompilerDiagnostics.assert(this.singleDeclFile!==this.declFile,"singleDeclFile cannot be null as we are going to revert back to it"),e.CompilerDiagnostics.assert(this.indenter.indentAmt===0,"Indent has to be 0 when outputing new file");try{this.declFile.Close()}catch(o){e.Emitter.throwEmitterError(o)}this.declFile=this.singleDeclFile}this.popDeclarationContainer(r)}return!0}if(r.isEnum())return n&&this.emitEnumSignature(r),!1;if(!this.canEmitPrePostAstSignature(e.ToDeclFlags(r.getModuleFlags()),r,n))return!1;if(n){this.emitDottedModuleName()?this.dottedModuleEmit+=".":this.dottedModuleEmit=this.getDeclFlagsString(e.ToDeclFlags(r.getModuleFlags()),"module"),this.dottedModuleEmit+=r.name.actualText;var u=r.members.members.length===1&&r.members.members[0].nodeType===15&&!r.members.members[0].isEnum()&&e.hasFlag(r.members.members[0].getModuleFlags(),1),a=r.getDocComments();u=u&&(a===null||a.length===0),this.isDottedModuleName.push(u),this.pushDeclarationContainer(r),u||(this.emitDeclarationComments(r),this.declFile.Write(this.dottedModuleEmit),this.declFile.WriteLine(" {"),this.indenter.increaseIndent())}else this.emitDottedModuleName()||(this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.WriteLine("}")),this.popDeclarationContainer(r),this.isDottedModuleName.pop();return!0},n.prototype.ExportAssignmentCallback=function(e,t){return e&&(this.emitIndent(),this.declFile.Write("export = "),this.declFile.Write(t.id.actualText),this.declFile.WriteLine(";")),!1},n.prototype.ScriptCallback=function(t,n){if(t){if(this.emitOptions.outputMany)for(var r=0;r<n.referencedFiles.length;r++){var i=n.referencedFiles[r].path,s;e.isRooted(i)?s=this.emitOptions.mapOutputFileName(i,e.TypeScriptCompiler.mapToDTSFileName):s=e.getDeclareFilePath(n.referencedFiles[r].path),this.declFile.WriteLine('/// <reference path="'+s+'" />')}this.pushDeclarationContainer(n)}else this.popDeclarationContainer(n);return!0},n.prototype.DefaultCallback=function(e,t){return!t.isStatement()},n}();e.DeclarationEmitter=n})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(e){var n=Math.max(1,t.computeM(e)),r=Math.max(1,t.computeK(e)),i=n+7&-8;this.bitArray=[];for(var s=0,o=i;s<o;s++)this.bitArray[s]=!1;this.hashFunctionCount=r}return t.computeM=function(e){var n=t.falsePositiveProbability,r=e,i=r*Math.log(n),s=Math.log(1/Math.pow(2,Math.log(2)));return Math.ceil(i/s)},t.computeK=function(e){var n=e,r=t.computeM(e),i=Math.log(2)*r/n;return Math.round(i)},t.prototype.computeHash=function(t,n){var r=1540483477,i=24,s=t.length,o=Math.abs(n^s),u=0;while(s>=2){var a=this.getCharacter(t,u),f=this.getCharacter(t,u+1),l=Math.abs(a|f<<16);l=e.IntegerUtilities.integerMultiplyLow32Bits(l,r),l^=l>>i,l=e.IntegerUtilities.integerMultiplyLow32Bits(l,r),o=e.IntegerUtilities.integerMultiplyLow32Bits(o,r),o^=l,u+=2,s-=2}return s==1&&(o^=this.getCharacter(t,u),o=e.IntegerUtilities.integerMultiplyLow32Bits(o,r)),o^=o>>13,o=e.IntegerUtilities.integerMultiplyLow32Bits(o,r),o^=o>>15,Math.round(o)},t.prototype.getCharacter=function(e,t){return e.charCodeAt(t)},t.prototype.addKeys=function(e){for(var t in e)this.add(t)},t.prototype.add=function(e){for(var t=0;t<this.hashFunctionCount;t++){var n=this.computeHash(e,t);n%=this.bitArray.length,this.bitArray[Math.abs(n)]=!0}},t.prototype.probablyContains=function(e){for(var t=0;t<this.hashFunctionCount;t++){var n=this.computeHash(e,t);n%=this.bitArray.length;if(!this.bitArray[Math.abs(n)])return!1}return!0},t.prototype.isEquivalent=function(e){return t.isEquivalent(this.bitArray,e.bitArray)&&this.hashFunctionCount==e.hashFunctionCount},t.isEquivalent=function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},t.falsePositiveProbability=1e-4,t}();e.BloomFilter=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(e){function t(t){e.call(this),this.list=t}return __extends(t,e),t.prototype.visitToken=function(e){this.list[e.text()]=!0},t}(e.SyntaxWalker);e.IdentifierWalker=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){this.map={}}return e.prototype.link=function(e,t){this.map[e]=t},e.prototype.unlink=function(e){this.map[e]=undefined},e.prototype.read=function(e){return this.map[e]},e.prototype.flush=function(){this.map={}},e.prototype.unpatch=function(){return null},e}();e.DataMap=t;var n=function(e){function t(t){e.call(this),this.parent=t,this.diffs={}}return __extends(t,e),t.prototype.link=function(e,t){this.diffs[e]=t},t.prototype.unlink=function(e){this.diffs[e]=undefined},t.prototype.read=function(e){var t=this.diffs[e];return t?t:this.parent.read(e)},t.prototype.flush=function(){this.diffs={}},t.prototype.unpatch=function(){return this.flush(),this.parent},t}(t);e.PatchedDataMap=n})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){e[e.None=0]="None",e[e.Exported=1]="Exported",e[e.Private=2]="Private",e[e.Public=4]="Public",e[e.Ambient=8]="Ambient",e[e.Static=16]="Static",e[e.GetAccessor=32]="GetAccessor",e[e.SetAccessor=64]="SetAccessor",e[e.Optional=128]="Optional",e[e.Call=256]="Call",e[e.Constructor=512]="Constructor",e[e.Index=1024]="Index",e[e.Signature=2048]="Signature",e[e.Enum=4096]="Enum",e[e.FatArrow=8192]="FatArrow",e[e.ClassConstructorVariable=16384]="ClassConstructorVariable",e[e.InitializedModule=32768]="InitializedModule",e[e.InitializedDynamicModule=65536]="InitializedDynamicModule",e[e.InitializedEnum=1<<17]="InitializedEnum",e[e.MustCaptureThis=1<<18]="MustCaptureThis",e[e.Constant=1<<19]="Constant",e[e.ExpressionElement=1<<20]="ExpressionElement",e[e.DeclaredInAWithBlock=1<<21]="DeclaredInAWithBlock",e[e.ImplicitVariable=e.ClassConstructorVariable|e.InitializedModule|e.InitializedDynamicModule|e.InitializedEnum]="ImplicitVariable",e[e.SomeInitializedModule=e.InitializedModule|e.InitializedDynamicModule|e.InitializedEnum]="SomeInitializedModule"})(e.PullElementFlags||(e.PullElementFlags={}));var t=e.PullElementFlags;(function(e){e[e.None=0]="None",e[e.Global=0]="Global",e[e.Script=1]="Script",e[e.Primitive=2]="Primitive",e[e.Container=4]="Container",e[e.Class=8]="Class",e[e.Interface=16]="Interface",e[e.DynamicModule=32]="DynamicModule",e[e.Enum=64]="Enum",e[e.Array=128]="Array",e[e.TypeAlias=256]="TypeAlias",e[e.ObjectLiteral=512]="ObjectLiteral",e[e.Variable=1024]="Variable",e[e.Parameter=2048]="Parameter",e[e.Property=4096]="Property",e[e.TypeParameter=8192]="TypeParameter",e[e.Function=16384]="Function",e[e.ConstructorMethod=32768]="ConstructorMethod",e[e.Method=65536]="Method",e[e.FunctionExpression=1<<17]="FunctionExpression",e[e.GetAccessor=1<<18]="GetAccessor",e[e.SetAccessor=1<<19]="SetAccessor",e[e.CallSignature=1<<20]="CallSignature",e[e.ConstructSignature=1<<21]="ConstructSignature",e[e.IndexSignature=1<<22]="IndexSignature",e[e.ObjectType=1<<23]="ObjectType",e[e.FunctionType=1<<24]="FunctionType",e[e.ConstructorType=1<<25]="ConstructorType",e[e.EnumMember=1<<26]="EnumMember",e[e.ErrorType=1<<27]="ErrorType",e[e.Expression=1<<28]="Expression",e[e.WithBlock=1<<29]="WithBlock",e[e.CatchBlock=1<<30]="CatchBlock",e[e.All=e.Script|e.Global|e.Primitive|e.Container|e.Class|e.Interface|e.DynamicModule|e.Enum|e.Array|e.TypeAlias|e.ObjectLiteral|e.Variable|e.Parameter|e.Property|e.TypeParameter|e.Function|e.ConstructorMethod|e.Method|e.FunctionExpression|e.GetAccessor|e.SetAccessor|e.CallSignature|e.ConstructSignature|e.IndexSignature|e.ObjectType|e.FunctionType|e.ConstructorType|e.EnumMember|e.ErrorType|e.Expression|e.WithBlock|e.CatchBlock]="All",e[e.SomeFunction=e.Function|e.ConstructorMethod|e.Method|e.FunctionExpression|e.GetAccessor|e.SetAccessor|e.CallSignature|e.ConstructSignature|e.IndexSignature]="SomeFunction",e[e.SomeValue=e.Variable|e.Parameter|e.Property|e.EnumMember|e.SomeFunction]="SomeValue",e[e.SomeType=e.Script|e.Global|e.Primitive|e.Class|e.Interface|e.Enum|e.Array|e.ObjectType|e.FunctionType|e.ConstructorType|e.TypeParameter|e.ErrorType]="SomeType",e[e.AcceptableAlias=e.Variable|e.SomeFunction|e.Class|e.Interface|e.Enum|e.Container|e.ObjectType|e.FunctionType|e.ConstructorType]="AcceptableAlias",e[e.SomeContainer=e.Container|e.DynamicModule|e.TypeAlias]="SomeContainer",e[e.SomeBlock=e.WithBlock|e.CatchBlock]="SomeBlock",e[e.SomeSignature=e.CallSignature|e.ConstructSignature|e.IndexSignature]="SomeSignature",e[e.SomeAccessor=e.GetAccessor|e.SetAccessor]="SomeAccessor",e[e.SomeTypeReference=e.Interface|e.ObjectType|e.FunctionType|e.ConstructorType]="SomeTypeReference",e[e.SomeLHS=e.Variable|e.Property|e.Parameter|e.SetAccessor|e.Method]="SomeLHS",e[e.InterfaceTypeExtension=e.Interface|e.Class|e.Enum]="InterfaceTypeExtension",e[e.ClassTypeExtension=e.Interface|e.Class]="ClassTypeExtension",e[e.EnumTypeExtension=e.Interface|e.Enum]="EnumTypeExtension"})(e.PullElementKind||(e.PullElementKind={}));var n=e.PullElementKind;(function(e){e[e.TypedAs=0]="TypedAs",e[e.ContextuallyTypedAs=1]="ContextuallyTypedAs",e[e.ProvidesInferredType=2]="ProvidesInferredType",e[e.ArrayType=3]="ArrayType",e[e.ArrayOf=4]="ArrayOf",e[e.PublicMember=5]="PublicMember",e[e.PrivateMember=6]="PrivateMember",e[e.ConstructorMethod=7]="ConstructorMethod",e[e.Aliases=8]="Aliases",e[e.ExportAliases=9]="ExportAliases",e[e.ContainedBy=10]="ContainedBy",e[e.Extends=11]="Extends",e[e.Implements=12]="Implements",e[e.Parameter=13]="Parameter",e[e.ReturnType=14]="ReturnType",e[e.CallSignature=15]="CallSignature",e[e.ConstructSignature=16]="ConstructSignature",e[e.IndexSignature=17]="IndexSignature",e[e.TypeParameter=18]="TypeParameter",e[e.TypeArgument=19]="TypeArgument",e[e.TypeParameterSpecializedTo=20]="TypeParameterSpecializedTo",e[e.SpecializedTo=21]="SpecializedTo",e[e.TypeConstraint=22]="TypeConstraint",e[e.ContributesToExpression=23]="ContributesToExpression",e[e.GetterFunction=24]="GetterFunction",e[e.SetterFunction=25]="SetterFunction"})(e.SymbolLinkKind||(e.SymbolLinkKind={}));var r=e.SymbolLinkKind})(TypeScript||(TypeScript={}));var TypeScript;(function(e){e.pullDeclID=0,e.lastBoundPullDeclId=0;var t=function(){function t(t,n,r,i,s,o){this.symbol=null,this.declGroups=new e.BlockIntrinsics,this.signatureSymbol=null,this.specializingSignatureSymbol=null,this.childDecls=[],this.typeParameters=[],this.childDeclTypeCache=new e.BlockIntrinsics,this.childDeclValueCache=new e.BlockIntrinsics,this.childDeclNamespaceCache=new e.BlockIntrinsics,this.childDeclTypeParameterCache=new e.BlockIntrinsics,this.declID=e.pullDeclID++,this.declFlags=0,this.diagnostics=null,this.parentDecl=null,this._parentPath=null,this._isBound=!1,this.synthesizedValDecl=null,this.declName=t,this.declType=r,this.declFlags=i,this.span=s,this.scriptName=o,n!==this.declName&&(this.declDisplayName=n)}return t.prototype.getDeclID=function(){return this.declID},t.prototype.getName=function(){return this.declName},t.prototype.getKind=function(){return this.declType},t.prototype.getDisplayName=function(){return this.declDisplayName===undefined?this.declName:this.declDisplayName},t.prototype.setSymbol=function(e){this.symbol=e},t.prototype.ensureSymbolIsBound=function(t){typeof t=="undefined"&&(t=!1);if(!(t&&this.signatureSymbol||this.symbol)&&!this._isBound&&this.declType!=1){var n=e.globalBinder.semanticInfo;e.globalBinder.setUnit(this.scriptName),e.globalBinder.bindDeclToPullSymbol(this),n&&e.globalBinder.setUnit(n.getPath())}},t.prototype.getSymbol=function(){return this.declType==1?null:(this.ensureSymbolIsBound(),this.symbol)},t.prototype.hasSymbol=function(){return this.symbol!=null},t.prototype.setSignatureSymbol=function(e){this.signatureSymbol=e},t.prototype.getSignatureSymbol=function(){return this.ensureSymbolIsBound(!0),this.signatureSymbol},t.prototype.hasSignature=function(){return this.signatureSymbol!=null},t.prototype.setSpecializingSignatureSymbol=function(e){this.specializingSignatureSymbol=e},t.prototype.getSpecializingSignatureSymbol=function(){return this.specializingSignatureSymbol?this.specializingSignatureSymbol:this.signatureSymbol},t.prototype.getFlags=function(){return this.declFlags},t.prototype.setFlags=function(e){this.declFlags=e},t.prototype.getSpan=function(){return this.span},t.prototype.setSpan=function(e){this.span=e},t.prototype.getScriptName=function(){return this.scriptName},t.prototype.setValueDecl=function(e){this.synthesizedValDecl=e},t.prototype.getValueDecl=function(){return this.synthesizedValDecl},t.prototype.isEqual=function(e){return this.declName===e.declName&&this.declType===e.declType&&this.declFlags===e.declFlags&&this.scriptName===e.scriptName&&this.span.start()===e.span.start()&&this.span.end()===e.span.end()},t.prototype.getParentDecl=function(){return this.parentDecl},t.prototype.setParentDecl=function(e){this.parentDecl=e},t.prototype.addDiagnostic=function(e){e&&(this.diagnostics||(this.diagnostics=[]),this.diagnostics[this.diagnostics.length]=e)},t.prototype.getDiagnostics=function(){return this.diagnostics},t.prototype.setErrors=function(e){if(e){this.diagnostics=[];for(var t=0;t<e.length;t++)e[t].adjustOffset(this.span.start()),this.diagnostics[this.diagnostics.length]=e[t]}},t.prototype.resetErrors=function(){this.diagnostics=[]},t.prototype.getChildDeclCache=function(t){return t===8192?this.childDeclTypeParameterCache:e.hasFlag(t,e.PullElementKind.SomeContainer)?this.childDeclNamespaceCache:e.hasFlag(t,e.PullElementKind.SomeType)?this.childDeclTypeCache:this.childDeclValueCache},t.prototype.addChildDecl=function(e){e.getKind()===8192?this.typeParameters[this.typeParameters.length]=e:this.childDecls[this.childDecls.length]=e;var t=e.getName(),n=this.getChildDeclCache(e.getKind()),r=n[t];r||(r=[]),r.push(e),n[t]=r},t.prototype.searchChildDecls=function(t,n){var r=n&e.PullElementKind.SomeType?this.childDeclTypeCache:n&e.PullElementKind.SomeContainer?this.childDeclNamespaceCache:this.childDeclValueCache,i=r[t];if(i)return i;if(n&e.PullElementKind.SomeType){i=this.childDeclTypeParameterCache[t];if(i)return i}return[]},t.prototype.getChildDecls=function(){return this.childDecls},t.prototype.getTypeParameters=function(){return this.typeParameters},t.prototype.addVariableDeclToGroup=function(e){var t=this.declGroups[e.getName()];t?t.addDecl(e):(t=new r(e.getName()),t.addDecl(e),this.declGroups[e.getName()]=t)},t.prototype.getVariableDeclGroups=function(){var e=[];for(var t in this.declGroups)this.declGroups[t]&&(e[e.length]=this.declGroups[t].getDecls());return e},t.prototype.getParentPath=function(){return this._parentPath},t.prototype.setParentPath=function(e){this._parentPath=e},t.prototype.setIsBound=function(e){this._isBound=e},t.prototype.isBound=function(){return this._isBound},t}();e.PullDecl=t;var n=function(e){function t(t,n,r,i){e.call(this,"","",131072,n,r,i),this.functionExpressionName=t}return __extends(t,e),t.prototype.getFunctionExpressionName=function(){return this.functionExpressionName},t}(t);e.PullFunctionExpressionDecl=n;var r=function(){function e(e){this.name=e,this._decls=[]}return e.prototype.addDecl=function(e){e.getName()===this.name&&(this._decls[this._decls.length]=e)},e.prototype.getDecls=function(){return this._decls},e}();e.PullDeclGroup=r})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function y(e,n,i,s){var o=i.getCachedArrayType();if(!o||(o.getKind()&16)===0)return null;if(o.isGeneric()){var u=o.getDeclarations()[0];return S(o,[n],i,u,s)}if(n.getArrayType())return n.getArrayType();var a=new g;a.addDeclaration(o.getDeclarations()[0]),n.setArrayType
(a),a.addOutgoingLink(n,4);var f=null,l=null,c=null,p=null,d=null,v=null,m=null,y=null,b=null,w=null,E=null,x=null,T=null,N=null,C=o.getMembers();for(var k=0;k<C.length;k++){i.resolveDeclaredSymbol(C[k],null,s);if(C[k].getKind()===65536){p=C[k],i.resolveDeclaredSymbol(p,null,s),d=p.getType(),v=new t(p.getName(),65536),m=new h,v.setType(m),v.addDeclaration(p.getDeclarations()[0]),y=d.getCallSignatures();for(var L=0;L<y.length;L++){b=new r(1048576),b.addDeclaration(y[L].getDeclarations()[0]),w=y[L].getParameters(),T=y[L].getReturnType(),T===e?b.setReturnType(n):b.setReturnType(T);for(var A=0;A<w.length;A++){E=new t(w[A].getName(),w[A].getKind()),x=w[A].getType();if(x===null)continue;x===e?E.setType(n):E.setType(x),b.addParameter(E)}m.addSignature(b)}a.addMember(v,5)}else f=C[k],l=new t(f.getName(),f.getKind()),l.addDeclaration(f.getDeclarations()[0]),c=f.getType(),c===e?l.setType(n):l.setType(c),a.addMember(l,5)}return a.addOutgoingLink(o,3),a}function b(e,t){if(e.isTypeParameter())return e==t;var n=e.getTypeArguments();if(n)for(var r=0;r<n.length;r++)if(b(n[r],t))return!0;return!1}function w(e){var t=e.getDeclarations()[0];return e.isGeneric()?e.getKind()&24?t.getSymbol().getType():e:e}function E(e,t){if(e==t)return!1;if(!e.isTypeParameter()||!t.isTypeParameter())return!0;var n=e.getDeclarations()[0].getParentDecl(),r=t.getDeclarations()[0].getParentDecl();if(n==r)return!0;while(n){if(n.getFlags()&16)return!0;if(n==r)return!1;n=n.getParentDecl()}return!0}function S(n,s,o,u,f,l){if(n.isPrimitive()||!n.isGeneric())return n;var c=s!=null;if(s===null||f.specializingToAny&&s.length)s=[];if(n.isTypeParameter()){if(f.specializingToAny)return o.semanticInfoChain.anyTypeSymbol;var h=f.findSpecializationForType(n);return h!=n&&E(h,n)?h:s&&s.length&&E(s[0],n)?s[0]:n}if(n.isArray()){if(n.currentlyBeingSpecialized())return n;var p=null;if(!f.specializingToAny){var d=n.getElementType();p=S(d,s,o,u,f,l)}else p=o.semanticInfoChain.anyTypeSymbol;var m=S(o.getCachedArrayType(),[p],o,u,f);return m}var y=n.getTypeParameters();!f.specializingToAny&&c&&y.length>s.length&&(c=!1);var T=null,N=n.getDeclarations()[0],C=w(n),k=n===o.getCachedArrayType()||n.isArray();if(c||f.specializingToAny){if(!s.length||f.specializingToAny)for(var L=0;L<y.length;L++)s[s.length]=o.semanticInfoChain.anyTypeSymbol;k?T=s[0].getArrayType():s.length&&(T=C.getSpecialization(s)),!T&&!y.length&&f.specializingToAny&&(T=C.getSpecialization([o.semanticInfoChain.anyTypeSymbol]));for(var L=0;L<s.length;L++)if(!s[L].isTypeParameter()&&(s[L]==C||b(s[L],y[L])))return _=o.semanticInfoChain.getASTForDecl(N),_&&s[L]!=o.getCachedArrayType()?(M=f.postError(u.getScriptName(),_.minChar,_.getLength(),227,null,u,!0),o.getNewErrorTypeSymbol(M)):o.semanticInfoChain.anyTypeSymbol}else{var A=n.getTypeArguments(),O=A?A:y,M,_;for(var L=0;L<O.length;L++){if(!O[L].isTypeParameter()&&(s[L]==C||b(O[L],y[L])))return _=o.semanticInfoChain.getASTForDecl(N),_&&s[L]!=o.getCachedArrayType()?(M=f.postError(u.getScriptName(),_.minChar,_.getLength(),227,null,u,!0),o.getNewErrorTypeSymbol(M)):o.semanticInfoChain.anyTypeSymbol;h=S(O[L],null,o,u,f,l),s[L]=h!=null?h:O[L]}T=C.getSpecialization(s)}var D=C.getTypeParameters();if(D.length&&D.length==s.length){for(var L=0;L<s.length;L++)if(s[L]!=D[L])break;if(L==D.length)return C}if(T){if(!!T.isResolved()||!!T.currentlyBeingSpecialized())return T;n.invalidateSpecializations()}var P=f.inSpecialization;f.inSpecialization=!0,e.nSpecializationsCreated++,T=n.isClass()?new a(n.getName()):k?new g:n.isTypeParameter()?new v(n.getName(),n.isFunctionTypeParameter()):new i(n.getName(),n.getKind()),T.setRootSymbol(C),T.setIsBeingSpecialized(),T.setTypeArguments(s),C.addSpecialization(T,s),k&&(T.setElementType(s[0]),s[0].setArrayType(T));if(n.currentlyBeingSpecialized())return T;var H=n.currentlyBeingSpecialized();n.getKind()==33554432&&n.setIsBeingSpecialized();var B={};for(var L=0;L<y.length;L++)y[L]!=s[L]&&(B[y[L].getSymbolID().toString()]=s[L]),T.addMember(y[L],18,!0);var j=n.getExtendedTypes(),F,I,q,R=n.getDeclarations();if(j.length)for(var L=0;L<R.length;L++){F=R[L],I=o.semanticInfoChain.getASTForDecl(F);if(I.extendsList){q=o.getUnitPath(),o.setUnitPath(F.getScriptName()),f.pushTypeSpecializationCache(B);var U=o.resolveTypeReference(new e.TypeReference(I.extendsList.members[0],0),F,f).symbol;o.setUnitPath(q),f.popTypeSpecializationCache(),T.addExtendedType(U)}}var z=n.getImplementedTypes();if(z.length)for(var L=0;L<R.length;L++){F=R[L],I=o.semanticInfoChain.getASTForDecl(F);if(I.implementsList){q=o.getUnitPath(),o.setUnitPath(F.getScriptName()),f.pushTypeSpecializationCache(B);var W=o.resolveTypeReference(new e.TypeReference(I.implementsList.members[0],0),F,f).symbol;o.setUnitPath(q),f.popTypeSpecializationCache(),T.addImplementedType(W)}}var X=n.getCallSignatures(!1),V=n.getConstructSignatures(!1),$=n.getIndexSignatures(!1),J=n.getMembers(),K,Q,G=null,_=null,Y,Z,et=null,tt=null;for(var L=0;L<X.length;L++){Q=X[L];if(!Q.currentlyBeingSpecialized()){f.pushTypeSpecializationCache(B),G=Q.getDeclarations()[0],q=o.getUnitPath(),o.setUnitPath(G.getScriptName()),K=new r(Q.getKind()),e.nSpecializedSignaturesCreated++,K.mimicSignature(Q,o),_=o.semanticInfoChain.getASTForDecl(G),e.Debug.assert(_!=null,"Call signature for type '"+n.toString()+"' could not be specialized because of a stale declaration"),tt=G.getSpecializingSignatureSymbol(),G.setSpecializingSignatureSymbol(K),!Q.isResolved()&&!Q.isResolving()&&o.resolveDeclaredSymbol(Q,u,new e.PullTypeResolutionContext),o.resolveAST(_,!1,N,f),G.setSpecializingSignatureSymbol(tt),Y=Q.getParameters(),Z=K.getParameters();for(var nt=0;nt<Y.length;nt++)Z[nt].setType(Y[nt].getType());K.setResolved(),o.setUnitPath(q),et=K.getReturnType(),et||K.setReturnType(Q.getReturnType()),Q.setIsBeingSpecialized(),K.setRootSymbol(Q),K=x(K,!0,B,null,o,N,f),Q.setIsSpecialized(),f.popTypeSpecializationCache();if(!K)return f.inSpecialization=P,n.setValueIsBeingSpecialized(H),e.Debug.assert(!1,"returning from call"),o.semanticInfoChain.anyTypeSymbol}else K=Q;T.addCallSignature(K),K.hasGenericParameter()&&T.setHasGenericSignature()}for(var L=0;L<V.length;L++){Q=V[L];if(!Q.currentlyBeingSpecialized()){f.pushTypeSpecializationCache(B),G=Q.getDeclarations()[0],q=o.getUnitPath(),o.setUnitPath(G.getScriptName()),K=new r(Q.getKind()),e.nSpecializedSignaturesCreated++,K.mimicSignature(Q,o),_=o.semanticInfoChain.getASTForDecl(G),e.Debug.assert(_!=null,"Construct signature for type '"+n.toString()+"' could not be specialized because of a stale declaration"),tt=G.getSpecializingSignatureSymbol(),G.setSpecializingSignatureSymbol(K),!Q.isResolved()&&!Q.isResolving()&&o.resolveDeclaredSymbol(Q,u,new e.PullTypeResolutionContext),o.resolveAST(_,!1,N,f),G.setSpecializingSignatureSymbol(tt),Y=Q.getParameters(),Z=K.getParameters();for(var nt=0;nt<Y.length;nt++)Z[nt].setType(Y[nt].getType());K.setResolved(),o.setUnitPath(q),et=K.getReturnType(),et||K.setReturnType(Q.getReturnType()),Q.setIsBeingSpecialized(),K.setRootSymbol(Q),K=x(K,!0,B,null,o,N,f),Q.setIsSpecialized(),f.popTypeSpecializationCache();if(!K)return f.inSpecialization=P,n.setValueIsBeingSpecialized(H),e.Debug.assert(!1,"returning from construct"),o.semanticInfoChain.anyTypeSymbol}else K=Q;T.addConstructSignature(K),K.hasGenericParameter()&&T.setHasGenericSignature()}for(var L=0;L<$.length;L++){Q=$[L];if(!Q.currentlyBeingSpecialized()){f.pushTypeSpecializationCache(B),G=Q.getDeclarations()[0],q=o.getUnitPath(),o.setUnitPath(G.getScriptName()),K=new r(Q.getKind()),e.nSpecializedSignaturesCreated++,K.mimicSignature(Q,o),_=o.semanticInfoChain.getASTForDecl(G),e.Debug.assert(_!=null,"Index signature for type '"+n.toString()+"' could not be specialized because of a stale declaration"),tt=G.getSpecializingSignatureSymbol(),G.setSpecializingSignatureSymbol(K),!Q.isResolved()&&!Q.isResolving()&&o.resolveDeclaredSymbol(Q,u,new e.PullTypeResolutionContext),o.resolveAST(_,!1,N,f),G.setSpecializingSignatureSymbol(tt),Y=Q.getParameters(),Z=K.getParameters();for(var nt=0;nt<Y.length;nt++)Z[nt].setType(Y[nt].getType());K.setResolved(),o.setUnitPath(q),et=K.getReturnType(),et||K.setReturnType(Q.getReturnType()),Q.setIsBeingSpecialized(),K.setRootSymbol(Q),K=x(K,!0,B,null,o,N,f),Q.setIsSpecialized(),f.popTypeSpecializationCache();if(!K)return f.inSpecialization=P,n.setValueIsBeingSpecialized(H),e.Debug.assert(!1,"returning from index"),o.semanticInfoChain.anyTypeSymbol}else K=Q;T.addIndexSignature(K),K.hasGenericParameter()&&T.setHasGenericSignature()}var rt=null,it=null,st=null,ot=null,ut=null,at=null;for(var L=0;L<J.length;L++)rt=J[L],rt.setIsBeingSpecialized(),R=rt.getDeclarations(),it=new t(rt.getName(),rt.getKind()),it.setRootSymbol(rt),rt.getIsOptional()&&it.setIsOptional(),rt.isResolved()||o.resolveDeclaredSymbol(rt,N,f),st=rt.getType(),st||(st=T),ut=B[st.getSymbolID().toString()],ut?it.setType(ut):st.isGeneric()&&!st.isFixed()?(q=o.getUnitPath(),o.setUnitPath(R[0].getScriptName()),f.pushTypeSpecializationCache(B),ot=S(st,st.getIsSpecialized()?null:s,o,N,f,l),o.setUnitPath(q),f.popTypeSpecializationCache(),it.setType(ot)):it.setType(st),rt.setIsSpecialized(),T.addMember(it,rt.hasFlag(2)?6:5);if(n.isClass()){var ft=n.getConstructorMethod();if(!ft.isResolved()){var lt=f.isSpecializingConstructorMethod;f.isSpecializingConstructorMethod=!0,o.resolveDeclaredSymbol(ft,u,f),f.isSpecializingConstructorMethod=lt}var ct=new t(ft.getName(),32768),ht=S(ft.getType(),s,o,N,f,l);ct.setType(ht);var pt=ft.getDeclarations();ct.setRootSymbol(ft),T.setConstructorMethod(ct)}return T.setIsSpecialized(),T.setResolved(),n.setValueIsBeingSpecialized(H),f.inSpecialization=P,T}function x(n,i,s,o,u,a,f,l){if(n.currentlyBeingSpecialized())return n;!n.isResolved()&&!n.isResolving()&&u.resolveDeclaredSymbol(n,a,f);var c=n.getSpecialization(o);if(c)return c;n.setIsBeingSpecialized();var h=f.inSpecialization;f.inSpecialization=!0,c=new r(n.getKind()),e.nSpecializedSignaturesCreated++,c.setRootSymbol(n),n.hasVariableParamList()&&c.setHasVariableParamList(),n.hasGenericParameter()&&c.setHasGenericParameter(),n.addSpecialization(c,o);var p=n.getParameters(),d=n.getTypeParameters(),v=n.getReturnType();for(var m=0;m<d.length;m++)c.addTypeParameter(d[m]);n.hasGenericParameter()&&c.setHasGenericParameter();var g,y,b,w,E,x=new e.BlockIntrinsics,T=null;if(i)for(var m=0;m<d.length;m++)x[d[m].getName()]=!0,T||(T={}),T[d[m].getSymbolID().toString()]=d[m];f.pushTypeSpecializationCache(s),i&&T&&f.pushTypeSpecializationCache(T);var N=x[v.getName()]?v:S(v,null,u,a,f,l);i&&T&&f.popTypeSpecializationCache(),f.popTypeSpecializationCache(),c.setReturnType(N);for(var C=0;C<p.length;C++)g=new t(p[C].getName(),p[C].getKind()),g.setRootSymbol(p[C]),w=p[C].getType(),f.pushTypeSpecializationCache(s),i&&T&&f.pushTypeSpecializationCache(T),y=x[w.getName()]?w:S(w,null,u,a,f,l),i&&T&&f.popTypeSpecializationCache(),f.popTypeSpecializationCache(),p[C].getIsOptional()&&g.setIsOptional(),p[C].getIsVarArg()&&(g.setIsVarArg(),c.setHasVariableParamList()),u.isTypeArgumentOrWrapper(y)&&c.setHasGenericParameter(),g.setType(y),c.addParameter(g,g.getIsOptional());return n.setIsSpecialized(),f.inSpecialization=h,c}function T(e){var t="";for(var n=0;n<e.length;n++)t+=e[n].getSymbolID().toString()+"#";return t}e.pullSymbolID=0,e.lastBoundPullSymbolID=0,e.globalTyvarID=0;var t=function(){function t(t,n){this.pullSymbolID=e.pullSymbolID++,this.outgoingLinks=new e.LinkList,this.incomingLinks=new e.LinkList,this.declarations=new e.LinkList,this.cachedPathIDs={},this.cachedContainerLink=null,this.cachedTypeLink=null,this.cachedDeclarations=null,this.hasBeenResolved=!1,this.isOptional=!1,this.inResolution=!1,this.isSynthesized=!1,this.isBound=!1,this.rebindingID=0,this.isVarArg=!1,this.isSpecialized=!1,this.isBeingSpecialized=!1,this.rootSymbol=null,this.typeChangeUpdateVersion=-1,this.addUpdateVersion=-1,this.removeUpdateVersion=-1,this.docComments=null,this.isPrinting=!1,this.name=t,this.declKind=n}return t.prototype.getSymbolID=function(){return this.pullSymbolID},t.prototype.isType=function(){return(this.declKind&e.PullElementKind.SomeType)!=0},t.prototype.isSignature=function(){return(this.declKind&e.PullElementKind.SomeSignature)!=0},t.prototype.isArray=function(){return(this.declKind&128)!=0},t.prototype.isPrimitive=function(){return this.declKind===2},t.prototype.isAccessor=function(){return!1},t.prototype.isError=function(){return!1},t.prototype.isAlias=function(){return!1},t.prototype.isContainer=function(){return!1},t.prototype.findAliasedType=function(e){for(var t=0;t<e.length;t++){var n=e[t].getChildDecls();for(var r=0;r<n.length;r++)if(n[r].getKind()===256){var i=n[r].getSymbol();if(f.usedAsSymbol(i,this))return i}}return null},t.prototype.getAliasedSymbol=function(e){if(!e)return null;var t=e.pathToRoot();if(t.length&&t[t.length-1].getKind()===32){var n=t[t.length-1].getDeclarations(),r=this.findAliasedType(n);return r}return null},t.prototype.getName=function(e,t){var n=this.getAliasedSymbol(e);return n?n.getName():this.name},t.prototype.getDisplayName=function(e,t){var n=this.getAliasedSymbol(e);return n?n.getDisplayName():this.getDeclarations()[0].getDisplayName()},t.prototype.getKind=function(){return this.declKind},t.prototype.setKind=function(e){this.declKind=e},t.prototype.setIsOptional=function(){this.isOptional=!0},t.prototype.getIsOptional=function(){return this.isOptional},t.prototype.getIsVarArg=function(){return this.isVarArg},t.prototype.setIsVarArg=function(){this.isVarArg=!0},t.prototype.setIsSynthesized=function(){this.isSynthesized=!0},t.prototype.getIsSynthesized=function(){return this.isSynthesized},t.prototype.setIsSpecialized=function(){this.isSpecialized=!0,this.isBeingSpecialized=!1},t.prototype.getIsSpecialized=function(){return this.isSpecialized},t.prototype.currentlyBeingSpecialized=function(){return this.isBeingSpecialized},t.prototype.setIsBeingSpecialized=function(){this.isBeingSpecialized=!0},t.prototype.setValueIsBeingSpecialized=function(e){this.isBeingSpecialized=e},t.prototype.getRootSymbol=function(){return this.rootSymbol?this.rootSymbol:this},t.prototype.setRootSymbol=function(e){this.rootSymbol=e},t.prototype.setIsBound=function(e){this.isBound=!0,this.rebindingID=e},t.prototype.getRebindingID=function(){return this.rebindingID},t.prototype.getIsBound=function(){return this.isBound},t.prototype.addCacheID=function(e){this.cachedPathIDs[e]||(this.cachedPathIDs[e]=!0)},t.prototype.invalidateCachedIDs=function(e){for(var t in this.cachedPathIDs)e[t]&&(e[t]=undefined)},t.prototype.addDeclaration=function(t){e.Debug.assert(!!t);if(this.rootSymbol)return;this.declarations.addItem(t),this.cachedDeclarations?this.cachedDeclarations[this.cachedDeclarations.length]=t:this.cachedDeclarations=[t]},t.prototype.getDeclarations=function(){return this.rootSymbol?this.rootSymbol.getDeclarations():(this.cachedDeclarations||(this.cachedDeclarations=[]),this.cachedDeclarations)},t.prototype.removeDeclaration=function(e){if(this.rootSymbol)return;this.declarations.remove(function(t){return t===e}),this.cachedDeclarations=this.declarations.find(function(e){return e})},t.prototype.updateDeclarations=function(e,t){if(this.rootSymbol)return;this.declarations.update(e,t)},t.prototype.addOutgoingLink=function(t,n){var r=new e.PullSymbolLink(this,t,n);return this.outgoingLinks.addItem(r),t.incomingLinks.addItem(r),r},t.prototype.findOutgoingLinks=function(e){return this.outgoingLinks.find(e)},t.prototype.findIncomingLinks=function(e){return this.incomingLinks.find(e)},t.prototype.removeOutgoingLink=function(e){e&&(this.outgoingLinks.remove(function(t){return t===e}),e.end.incomingLinks&&e.end.incomingLinks.remove(function(t){return t===e}))},t.prototype.updateOutgoingLinks=function(e,t){this.outgoingLinks&&this.outgoingLinks.update(e,t)},t.prototype.updateIncomingLinks=function(e,t){this.incomingLinks&&this.incomingLinks.update(e,t)},t.prototype.removeAllLinks=function(){var e=this;this.updateOutgoingLinks(function(t){return e.removeOutgoingLink(t)},null),this.updateIncomingLinks(function(e){return e.start.removeOutgoingLink(e)},null)},t.prototype.setContainer=function(e){var t=this.addOutgoingLink(e,10);this.cachedContainerLink=t,e.addContainedByLink(t)},t.prototype.getContainer=function(){if(this.cachedContainerLink)return this.cachedContainerLink.end;if(this.getIsSpecialized()){var e=this.findIncomingLinks(function(e){return e.kind==21});if(e.length==1)return e[0].start.getContainer()}return null},t.prototype.unsetContainer=function(){this.cachedContainerLink&&this.removeOutgoingLink(this.cachedContainerLink),this.invalidate()},t.prototype.setType=function(e){this.cachedTypeLink&&this.unsetType(),this.cachedTypeLink=this.addOutgoingLink(e,0)},t.prototype.getType=function(){return this.cachedTypeLink?this.cachedTypeLink.end:null},t.prototype.unsetType=function(){var e=!1;this.cachedTypeLink&&(this.removeOutgoingLink(this.cachedTypeLink),e=!0),e&&this.invalidate()},t.prototype.isTyped=function(){return this.getType()!=null},t.prototype.setResolved=function(){this.hasBeenResolved=!0,this.inResolution=!1},t.prototype.isResolved=function(){return this.hasBeenResolved},t.prototype.startResolving=function(){this.inResolution=!0},t.prototype.isResolving=function(){return this.inResolution},t.prototype.setUnresolved=function(){this.hasBeenResolved=!1,this.isBound=!1,this.inResolution=!1},t.prototype.invalidate=function(){this.docComments=null,this.hasBeenResolved=!1,this.isBound=!1,this.declarations.update(function(e){return e.resetErrors()},null)},t.prototype.hasFlag=function(e){var t=this.getDeclarations();for(var n=0,r=t.length;n<r;n++)if((t[n].getFlags()&e)!==0)return!0;return!1},t.prototype.allDeclsHaveFlag=function(e){var t=this.getDeclarations();for(var n=0,r=t.length;n<r;n++)if((t[n].getFlags()&e)===0)return!1;return!0},t.prototype.pathToRoot=function(){var e=[],t=this;while(t){if(t.isType()){var n=t.getAssociatedContainerType();n&&(t=n)}e[e.length]=t,t=t.getContainer()}return e},t.prototype.findCommonAncestorPath=function(e){var t=this.pathToRoot();if(t.length===1)return t;var n;if(!e)return t;n=e.pathToRoot();var r=-1;for(var i=0,s=t.length;i<s;i++){var o=t[i];for(var u=0,a=n.length;u<a;u++){var f=n[u];if(o===f){var l=null;if(i>0){var c=t[i-1].getDeclarations();c.length&&(l=c[0].getParentDecl())}var h=null;if(u>0){var c=n[u-1].getDeclarations();c.length&&(h=c[0].getParentDecl())}if(!l||!h||l==h){r=i;break}}}if(r>=0)break}return r>=0?t.slice(0,r):t},t.prototype.toString=function(e){var t=this.getNameAndTypeName();return t},t.prototype.getNamePartForFullName=function(){return this.getDisplayName(null,!0)},t.prototype.fullName=function(t){var n=this.pathToRoot(),r="",i=this.getAliasedSymbol(t);if(i)return i.getDisplayName();for(var s=1;s<n.length;s++){i=n[s].getAliasedSymbol(t);if(i){r=i.getDisplayName()+"."+r;break}var o=n[s].getNamePartForFullName();if(n[s].getKind()==32&&!e.isQuoted(o))break;if(o==="")break;r=o+"."+r}return r+=this.getNamePartForFullName(),r},t.prototype.getScopedName=function(t,n){var r=this.findCommonAncestorPath(t),i="",s=this.getAliasedSymbol(t);if(s)return s.getDisplayName();for(var o=1;o<r.length;o++){var u=r[o].getKind();if(u!==4&&u!==32)break;s=r[o].getAliasedSymbol(t);if(s){i=s.getDisplayName()+"."+i;break}if(u!==4){var a=r[o].getDisplayName();e.isQuoted(a)&&(i=a+"."+i);break}i=r[o].getDisplayName()+"."+i}return i+=this.getDisplayName(t,n),i},t.prototype.getScopedNameEx=function(t,n,r,i){var s=this.getScopedName(t,n);return e.MemberName.create(s)},t.prototype.getTypeName=function(e,t){var n=this.getTypeNameEx(e,t);return n.toString()},t.prototype.getTypeNameEx=function(t,n){var r=this.getType();if(r){var i=n?this.getTypeNameForFunctionSignature("",t,n):null;return i||(i=r.getScopedNameEx(t,!0,n)),i}return e.MemberName.create("")},t.prototype.getTypeNameForFunctionSignature=function(t,n,i){var s=this.getType();if(s&&!s.isNamedTypeSymbol()&&this.declKind!=4096&&this.declKind!=1024&&this.declKind!=2048){var o=s.getCallSignatures(),u=new e.MemberNameArray,a=r.getSignaturesTypeNameEx(o,t,!1,!1,n,i);return u.addAll(a),u}return null},t.prototype.getNameAndTypeName=function(e){var t=this.getNameAndTypeNameEx(e);return t.toString()},t.prototype.getNameAndTypeNameEx=function(t){var n=this.getType(),r=this.getScopedNameEx(t);if(n){var i=r.toString()+(this.getIsOptional()?"?":""),s=this.getTypeNameForFunctionSignature(i,t);if(!s){var o=n.getScopedNameEx(t);s=e.MemberName.create(o,i+": ","")}return s}return r},t.getTypeParameterString=function(e,n,r){return t.getTypeParameterStringEx(e,n,undefined,r).toString()},t.getTypeParameterStringEx=function(t,n,r,i){var s=new e.MemberNameArray;s.prefix="";if(t&&t.length){s.add(e.MemberName.create("<"));for(var o=0;o<t.length;o++)o&&s.add(e.MemberName.create(", ")),r&&s.add(new e.MemberName),s.add(t[o].getScopedNameEx(n,i)),r&&s.add(new e.MemberName);s.add(e.MemberName.create(">"))}return s},t.getIsExternallyVisible=function(e,t,n){if(n){for(var r=0;r<n.length;r++)if(n[r]===e)return!0}else n=[];return t===e?!0:(n=n.concat(t),e.isExternallyVisible(n))},t.prototype.isExternallyVisible=function(e){var n=this.getKind();if(n===2)return!0;if(this.isType()){var r=this.getAssociatedContainerType();if(r)return t.getIsExternallyVisible(r,this,e)}if(this.hasFlag(2))return!1;var i=this.getContainer();if(i===null)return!0;if(i.getKind()==32||i.getAssociatedContainerType()&&i.getAssociatedContainerType().getKind()==32){var s=i.getKind()==32?i:i.getAssociatedContainerType();if(f.usedAsSymbol(s,this))return!0}return!this.hasFlag(1)&&n!=4096&&n!=65536?!1:t.getIsExternallyVisible(i,this,e)},t.prototype.isModule=function(){return this.getKind()==4||this.isOneDeclarationOfKind(4)},t.prototype.isOneDeclarationOfKind=function(e){var t=this.getDeclarations();for(var n=0;n<t.length;n++)if(t[n].getKind()===e)return!0;return!1},t}();e.PullSymbol=t;var n=function(e){function t(){e.call(this,"",268435456),this.contributingSymbols=[]}return __extends(t,e),t.prototype.addContributingSymbol=function(e){var t=this.addOutgoingLink(e,23);this.contributingSymbols[this.contributingSymbols.length]=e},t.prototype.getContributingSymbols=function(){return this.contributingSymbols},t}(t);e.PullExpressionSymbol=n;var r=function(n){function r(e){n.call(this,"",e),this.parameterLinks=null,this.typeParameterLinks=null,this.returnTypeLink=null,this.hasOptionalParam=!1,this.nonOptionalParamCount=0,this.hasVarArgs=!1,this.specializationCache={},this.memberTypeParameterNameCache=null,this.hasAGenericParameter=!1,this.stringConstantOverload=undefined}return __extends(r,n),r.prototype.isDefinition=function(){return!1},r.prototype.hasVariableParamList=function(){return this.hasVarArgs},r.prototype.setHasVariableParamList=function(){this.hasVarArgs=!0},r.prototype.setHasGenericParameter=function(){this.hasAGenericParameter=!0},r.prototype.hasGenericParameter=function(){return this.hasAGenericParameter},r.prototype.isGeneric=function(){return this.hasAGenericParameter||this.typeParameterLinks&&this.typeParameterLinks.length!=0},r.prototype.addParameter=function(e,t){typeof t=="undefined"&&(t=!1),this.parameterLinks||(this.parameterLinks=[]);var n=this.addOutgoingLink(e,13);this.parameterLinks[this.parameterLinks.length]=n,this.hasOptionalParam=t,t||this.nonOptionalParamCount++},r.prototype.addSpecialization=function(e,t){t&&t.length&&(this.specializationCache[T(t)]=e)},r.prototype.getSpecialization=function(e){if(e){var t=this.specializationCache[T(e)];if(t)return t}return null},r.prototype.addTypeParameter=function(t){this.typeParameterLinks||(this.typeParameterLinks=[]),this.memberTypeParameterNameCache||(this.memberTypeParameterNameCache=new e.BlockIntrinsics);var n=this.addOutgoingLink(t,18);this.typeParameterLinks[this.typeParameterLinks.length]=n,this.memberTypeParameterNameCache[n.end.getName()]=n.end},r.prototype.getNonOptionalParameterCount=function(){return this.nonOptionalParamCount},r.prototype.setReturnType=function(e){e&&(this.returnTypeLink&&this.removeOutgoingLink(this.returnTypeLink),this.returnTypeLink=this.addOutgoingLink(e,14))},r.prototype.getParameters=function(){var e=[];if(this.parameterLinks)for(var t=0;t<this.parameterLinks.length;t++)e[e.length]=this.parameterLinks[t].end;return e},r.prototype.getTypeParameters=function(){var e=[];if(this.typeParameterLinks)for(var t=0;t<this.typeParameterLinks.length;t++)e[e.length]=this.typeParameterLinks[t].end;return e},r.prototype.findTypeParameter=function(t){var n;if(!this.memberTypeParameterNameCache){this.memberTypeParameterNameCache=new e.BlockIntrinsics;if(this.typeParameterLinks)for(var r=0;r<this.typeParameterLinks.length;r++)this.memberTypeParameterNameCache[this.typeParameterLinks[r].end.getName()]=this.typeParameterLinks[r].end}return n=this.memberTypeParameterNameCache[t],n},r.prototype.removeParameter=function(e){var t;if(this.parameterLinks)for(var n=0;n<this.parameterLinks.length;n++)if(e===this.parameterLinks[n].end){t=this.parameterLinks[n],this.removeOutgoingLink(t);break}this.invalidate()},r.prototype.mimicSignature=function(e,n){var r=e.getTypeParameters(),i;if(r)for(var s=0;s<r.length;s++)this.addTypeParameter(r[s]);var o=e.getParameters(),u;if(o)for(var a=0;a<o.length;a++)u=new t(o[a].getName(),2048),u.setRootSymbol(o[a]),o[a].getIsOptional()&&u.setIsOptional(),o[a].getIsVarArg()&&(u.setIsVarArg(),this.setHasVariableParamList()),this.addParameter(u);var f=e.getReturnType();n.isTypeArgumentOrWrapper(f)||this.setReturnType(f)},r.prototype.getReturnType=function(){if(this.returnTypeLink)return this.returnTypeLink.end;var e=this.findOutgoingLinks(function(e){return e.kind===14});return e.length?(this.returnTypeLink=e[0],this.returnTypeLink.end):null},r.prototype.parametersAreFixed=function(){if(!this.isGeneric())return!0;if(this.parameterLinks){var e;for(var t=0;t<this.parameterLinks.length;t++){e=this.parameterLinks[t].end.getType();if(e&&!e.isFixed())return!1}}return!0},r.prototype.isFixed=function(){if(!this.isGeneric())return!0;if(this.parameterLinks){var e=null;for(var t=0;t<this.parameterLinks.length;t++){e=this.parameterLinks[t].end.getType();if(e&&!e.isFixed())return!1}}if(this.returnTypeLink){var n=this.returnTypeLink.end;return n.isFixed()}return!0},r.prototype.invalidate=function(){this.parameterLinks=this.findOutgoingLinks(function(e){return e.kind===13}),this.nonOptionalParamCount=0,this.hasOptionalParam=!1,this.hasAGenericParameter=!1,this.stringConstantOverload=undefined;if(this.parameterLinks)for(var e=0;e<this.parameterLinks.length;e++){this.parameterLinks[e].end.invalidate();if(!!this.parameterLinks[e].end.getIsOptional()){this.hasOptionalParam;break}this.nonOptionalParamCount++}n.prototype.invalidate.call(this)},r.prototype.isStringConstantOverloadSignature=function(){if(this.stringConstantOverload===undefined){var e=this.getParameters();this.stringConstantOverload=!1;for(var t=0;t<e.length;t++){var n=e[t].getType();n&&n.isPrimitive()&&n.isStringConstant()&&(this.stringConstantOverload=!0)}}return this.stringConstantOverload},r.getSignatureTypeMemberName=function(t,n,i){var s=new e.MemberNameArray,o=r.getSignaturesTypeNameEx(n,"",!1,!1,i,!0,t);return s.addAll(o),s},r.getSignaturesTypeNameEx=function(t,n,r,i,s,o,u){var a=[],f=t.length;!o&&f>1&&(r=!1);var l=!1;u&&u.isDefinition()&&f>1&&(u=null);for(var c=0;c<f;c++){if(f>1&&t[c].isDefinition()){l=!0;continue}var h=t[c];o&&u&&(h=u),a.push(h.getSignatureTypeNameEx(n,r,i,s));if(o)break}if(o&&a.length&&f>1){var p=a[a.length-1];for(var c=c+1;c<f;c++)if(t[c].isDefinition()){l=!0;break}var d=" (+ "+(l?f-2:f-1)+" overload(s))";p.add(e.MemberName.create(d))}return a},r.prototype.toString=function(e){var t=this.getSignatureTypeNameEx(this.getScopedNameEx().toString(),!1,!1,undefined,undefined,e).toString();return t},r.prototype.getSignatureTypeNameEx=function(n,r,i,s,o,u){var a=new e.MemberNameArray;a.add(t.getTypeParameterStringEx(this.getTypeParameters(),s,u,!0)),i?a.add(e.MemberName.create("[")):a.add(e.MemberName.create("("));var f=new e.MemberNameArray;f.prefix=n,u?(f.prefix=n,f.addAll(a.entries)):f.prefix=n+a.toString();var l=this.getParameters(),c=l.length;for(var h=0;h<c;h++){var p=l[h].getType(),d=p?": ":"",v=l[h].getIsVarArg(),m=v?"...":"",g=!v&&l[h].getIsOptional()?"?":"";o&&f.add(new e.MemberName),f.add(e.MemberName.create(m+l[h].getScopedNameEx(s).toString()+g+d)),p&&f.add(p.getScopedNameEx(s)),o&&f.add(new e.MemberName),h<c-1&&f.add(e.MemberName.create(", "))}r?i?f.add(e.MemberName.create("] => ")):f.add(e.MemberName.create(") => ")):i?f.add(e.MemberName.create("]: ")):f.add(e.MemberName.create("): "));var y=this.getReturnType();return y?f.add(y.getScopedNameEx(s)):f.add(e.MemberName.create("any")),f},r}(t);e.PullSignatureSymbol=r;var i=function(n){function i(){n.apply(this,arguments),this.memberLinks=null,this.typeParameterLinks=null,this.specializationLinks=null,this.containedByLinks=null,this.memberNameCache=null,this.memberTypeNameCache=null,this.memberTypeParameterNameCache=null,this.containedMemberCache=null,this.typeArguments=null,this.specializedTypeCache=null,this.memberCache=null,this.implementedTypeLinks=null,this.extendedTypeLinks=null,this.callSignatureLinks=null,this.constructSignatureLinks=null,this.indexSignatureLinks=null,this.arrayType=null,this.hasGenericSignature=!1,this.hasGenericMember=!1,this.knownBaseTypeCount=0,this._hasBaseTypeConflict=!1,this.invalidatedSpecializations=!1,this.associatedContainerTypeSymbol=null,this.constructorMethod=null,this.hasDefaultConstructor=!1}return __extends(i,n),i.prototype.getKnownBaseTypeCount=function(){return this.knownBaseTypeCount},i.prototype.resetKnownBaseTypeCount=function(){this.knownBaseTypeCount=0},i.prototype.incrementKnownBaseCount=function(){this.knownBaseTypeCount++},i.prototype.setHasBaseTypeConflict=function(){this._hasBaseTypeConflict=!0},i.prototype.hasBaseTypeConflict=function(){return this._hasBaseTypeConflict},i.prototype.setUnresolved=function(){n.prototype.setUnresolved.call(this);var e=this.getKnownSpecializations();for(var t=0;t<e.length;t++)e[t].setUnresolved()},i.prototype.isType=function(){return!0},i.prototype.isClass=function(){return this.getKind()==8||this.constructorMethod!=null},i.prototype.hasMembers=function(){var e=this.memberLinks&&this.memberLinks.length!=0;if(e)return!0;var t=this.getExtendedTypes();for(var n=0;n<t.length;n++)if(t[n].hasMembers())return!0;return!1},i.prototype.isFunction=function(){return!1},i.prototype.isConstructor=function(){return!1},i.prototype.isTypeParameter=function(){return!1},i.prototype.isTypeVariable=function(){return!1},i.prototype.isError=function(){return!1},i.prototype.setHasGenericSignature=function(){this.hasGenericSignature=!0},i.prototype.getHasGenericSignature=function(){return this.hasGenericSignature},i.prototype.setHasGenericMember=function(){this.hasGenericMember=!0},i.prototype.getHasGenericMember=function(){return this.hasGenericMember},i.prototype.setAssociatedContainerType=function(e){this.associatedContainerTypeSymbol=e},i.prototype.getAssociatedContainerType=function(){return this.associatedContainerTypeSymbol},i.prototype.getType=function(){return this},i.prototype.getArrayType=function(){return this.arrayType},i.prototype.getElementType=function(){var e=this.findOutgoingLinks(function(e){return e.kind===4});return e.length?e[0].end:null},i.prototype.setArrayType=function(e){this.arrayType=e,e.addOutgoingLink(this,4)},i.prototype.addContainedByLink=function(t){this.containedByLinks||(this.containedByLinks=[]),this.containedMemberCache||(this.containedMemberCache=new e.BlockIntrinsics),this.containedByLinks[this.containedByLinks.length]=t,this.containedMemberCache[t.start.getName()]=t.start},i.prototype.findContainedMember=function(t){if(!this.containedByLinks){this.containedByLinks=this.findIncomingLinks(function(e){return e.kind===10}),this.containedMemberCache=new e.BlockIntrinsics;for(var n=0;n<this.containedByLinks.length;n++)this.containedMemberCache[this.containedByLinks[n].start.getName()]=this.containedByLinks[n].start}return this.containedMemberCache[t]},i.prototype.addMember=function(t,n,r){var i=this.addOutgoingLink(t,n);r||t.setContainer(this),this.memberLinks||(this.memberLinks=[]),(!this.memberCache||!this.memberNameCache)&&this.populateMemberCache(),t.isType()?t.isTypeParameter()?(this.typeParameterLinks||(this.typeParameterLinks=[]),this.memberTypeParameterNameCache||(this.memberTypeParameterNameCache=new e.BlockIntrinsics),this.typeParameterLinks[this.typeParameterLinks.length]=i,this.memberTypeParameterNameCache[t.getName()]=t):(this.memberTypeNameCache||(this.memberTypeNameCache=new e.BlockIntrinsics),this.memberLinks[this.memberLinks.length]=i,this.memberTypeNameCache[t.getName()]=t,this.memberCache[this.memberCache.length]=t):(this.memberLinks[this.memberLinks.length]=i,this
.memberCache[this.memberCache.length]=t,this.memberNameCache||this.populateMemberCache(),this.memberNameCache[t.getName()]=t)},i.prototype.removeMember=function(e){var t,n,r=e.isType()&&e.isTypeParameter()?this.typeParameterLinks:this.memberLinks;if(r)for(var i=0;i<r.length;i++)if(e===r[i].end){t=r[i],n=t.end,n.unsetContainer(),this.removeOutgoingLink(t);break}this.invalidate()},i.prototype.getMembers=function(){if(this.memberCache)return this.memberCache;var e=[];if(this.memberLinks)for(var t=0;t<this.memberLinks.length;t++)e[e.length]=this.memberLinks[t].end;return e.length&&(this.memberCache=e),e},i.prototype.setHasDefaultConstructor=function(e){typeof e=="undefined"&&(e=!0),this.hasDefaultConstructor=e},i.prototype.getHasDefaultConstructor=function(){return this.hasDefaultConstructor},i.prototype.getConstructorMethod=function(){return this.constructorMethod},i.prototype.setConstructorMethod=function(e){this.constructorMethod=e},i.prototype.getTypeParameters=function(){var e=[];if(this.typeParameterLinks)for(var t=0;t<this.typeParameterLinks.length;t++)e[e.length]=this.typeParameterLinks[t].end;return e},i.prototype.isGeneric=function(){return this.typeParameterLinks&&this.typeParameterLinks.length!=0||this.hasGenericSignature||this.hasGenericMember||this.typeArguments&&this.typeArguments.length},i.prototype.isFixed=function(){if(!this.isGeneric())return!0;if(this.typeParameterLinks&&this.typeArguments){if(!this.typeArguments.length||this.typeArguments.length<this.typeParameterLinks.length)return!1;for(var e=0;e<this.typeArguments.length;e++)if(!this.typeArguments[e].isFixed())return!1;return!0}return!1},i.prototype.addSpecialization=function(t,n){if(!n||!n.length)return;this.specializedTypeCache||(this.specializedTypeCache=new e.BlockIntrinsics),this.specializationLinks||(this.specializationLinks=[]),this.specializationLinks[this.specializationLinks.length]=this.addOutgoingLink(t,21),this.specializedTypeCache[T(n)]=t},i.prototype.getSpecialization=function(t){if(!t||!t.length)return null;if(!this.specializedTypeCache)return this.specializedTypeCache=new e.BlockIntrinsics,null;var n=this.specializedTypeCache[T(t)];return n?n:null},i.prototype.getKnownSpecializations=function(){var e=[];if(this.specializedTypeCache)for(var t in this.specializedTypeCache)this.specializedTypeCache[t]&&(e[e.length]=this.specializedTypeCache[t]);return e},i.prototype.invalidateSpecializations=function(){if(this.invalidatedSpecializations)return;var e=this.getKnownSpecializations();for(var t=0;t<e.length;t++)e[t].invalidate();if(this.specializationLinks&&this.specializationLinks.length)for(var t=0;t<this.specializationLinks.length;t++)this.removeOutgoingLink(this.specializationLinks[t]);this.specializationLinks=null,this.specializedTypeCache=null,this.invalidatedSpecializations=!0},i.prototype.removeSpecialization=function(e){if(this.specializationLinks&&this.specializationLinks.length)for(var t=0;t<this.specializationLinks.length;t++)if(this.specializationLinks[t].end===e){this.removeOutgoingLink(this.specializationLinks[t]);break}if(this.specializedTypeCache)for(var n in this.specializedTypeCache)this.specializedTypeCache[n]===e&&(this.specializedTypeCache[n]=undefined)},i.prototype.getTypeArguments=function(){return this.typeArguments},i.prototype.setTypeArguments=function(e){this.typeArguments=e},i.prototype.addCallSignature=function(e){this.callSignatureLinks||(this.callSignatureLinks=[]);var t=this.addOutgoingLink(e,15);this.callSignatureLinks[this.callSignatureLinks.length]=t,e.isGeneric()&&(this.hasGenericSignature=!0)},i.prototype.addCallSignatures=function(e){this.callSignatureLinks||(this.callSignatureLinks=[]);for(var t=0;t<e.length;t++)this.addCallSignature(e[t])},i.prototype.addConstructSignature=function(e){this.constructSignatureLinks||(this.constructSignatureLinks=[]);var t=this.addOutgoingLink(e,16);this.constructSignatureLinks[this.constructSignatureLinks.length]=t,e.isGeneric()&&(this.hasGenericSignature=!0)},i.prototype.addConstructSignatures=function(e){this.constructSignatureLinks||(this.constructSignatureLinks=[]);for(var t=0;t<e.length;t++)this.addConstructSignature(e[t])},i.prototype.addIndexSignature=function(e){this.indexSignatureLinks||(this.indexSignatureLinks=[]);var t=this.addOutgoingLink(e,17);this.indexSignatureLinks[this.indexSignatureLinks.length]=t,e.isGeneric()&&(this.hasGenericSignature=!0)},i.prototype.addIndexSignatures=function(e){this.indexSignatureLinks||(this.indexSignatureLinks=[]);for(var t=0;t<e.length;t++)this.addIndexSignature(e[t])},i.prototype.hasOwnCallSignatures=function(){return!!this.callSignatureLinks},i.prototype.getCallSignatures=function(e){typeof e=="undefined"&&(e=!0);var t=[];if(this.callSignatureLinks)for(var n=0;n<this.callSignatureLinks.length;n++)t[t.length]=this.callSignatureLinks[n].end;if(e){var r=this.getExtendedTypes();for(var n=0;n<r.length;n++){if(r[n].hasBase(this))continue;t=t.concat(r[n].getCallSignatures())}}return t},i.prototype.hasOwnConstructSignatures=function(){return!!this.constructSignatureLinks},i.prototype.getConstructSignatures=function(e){typeof e=="undefined"&&(e=!0);var t=[];if(this.constructSignatureLinks)for(var n=0;n<this.constructSignatureLinks.length;n++)t[t.length]=this.constructSignatureLinks[n].end;if(e&&this.getKind()!=33554432){var r=this.getExtendedTypes();for(var n=0;n<r.length;n++){if(r[n].hasBase(this))continue;t=t.concat(r[n].getConstructSignatures())}}return t},i.prototype.hasOwnIndexSignatures=function(){return!!this.indexSignatureLinks},i.prototype.getIndexSignatures=function(e){typeof e=="undefined"&&(e=!0);var t=[];if(this.indexSignatureLinks)for(var n=0;n<this.indexSignatureLinks.length;n++)t[t.length]=this.indexSignatureLinks[n].end;if(e){var r=this.getExtendedTypes();for(var n=0;n<r.length;n++){if(r[n].hasBase(this))continue;t=t.concat(r[n].getIndexSignatures())}}return t},i.prototype.removeCallSignature=function(e,t){typeof t=="undefined"&&(t=!0);var n;if(this.callSignatureLinks)for(var r=0;r<this.callSignatureLinks.length;r++)if(e===this.callSignatureLinks[r].end){n=this.callSignatureLinks[r],this.removeOutgoingLink(n);break}t&&this.invalidate()},i.prototype.recomputeCallSignatures=function(){this.callSignatureLinks=this.findOutgoingLinks(function(e){return e.kind===15})},i.prototype.removeConstructSignature=function(e,t){typeof t=="undefined"&&(t=!0);var n;if(this.constructSignatureLinks)for(var r=0;r<this.constructSignatureLinks.length;r++)if(e===this.constructSignatureLinks[r].end){n=this.constructSignatureLinks[r],this.removeOutgoingLink(n);break}t&&this.invalidate()},i.prototype.recomputeConstructSignatures=function(){this.constructSignatureLinks=this.findOutgoingLinks(function(e){return e.kind===16})},i.prototype.removeIndexSignature=function(e,t){typeof t=="undefined"&&(t=!0);var n;if(this.indexSignatureLinks)for(var r=0;r<this.indexSignatureLinks.length;r++)if(e===this.indexSignatureLinks[r].end){n=this.indexSignatureLinks[r],this.removeOutgoingLink(n);break}t&&this.invalidate()},i.prototype.recomputeIndexSignatures=function(){this.indexSignatureLinks=this.findOutgoingLinks(function(e){return e.kind===17})},i.prototype.addImplementedType=function(e){this.implementedTypeLinks||(this.implementedTypeLinks=[]);var t=this.addOutgoingLink(e,12);this.implementedTypeLinks[this.implementedTypeLinks.length]=t},i.prototype.getImplementedTypes=function(){var e=[];if(this.implementedTypeLinks)for(var t=0;t<this.implementedTypeLinks.length;t++)e[e.length]=this.implementedTypeLinks[t].end;return e},i.prototype.removeImplementedType=function(e){var t;if(this.implementedTypeLinks)for(var n=0;n<this.implementedTypeLinks.length;n++)if(e===this.implementedTypeLinks[n].end){t=this.implementedTypeLinks[n],this.removeOutgoingLink(t);break}this.invalidate()},i.prototype.addExtendedType=function(e){this.extendedTypeLinks||(this.extendedTypeLinks=[]);var t=this.addOutgoingLink(e,11);this.extendedTypeLinks[this.extendedTypeLinks.length]=t},i.prototype.getExtendedTypes=function(){var e=[];if(this.extendedTypeLinks)for(var t=0;t<this.extendedTypeLinks.length;t++)e[e.length]=this.extendedTypeLinks[t].end;return e},i.prototype.hasBase=function(e,t){typeof t=="undefined"&&(t=null);if(this===e)return!0;if(!t||this!==t&&this.getRootSymbol()!==t){t||(t=this);var n=this.getExtendedTypes();for(var r=0;r<n.length;r++)if(n[r].hasBase(e,t))return!0;var i=this.getImplementedTypes();for(var r=0;r<i.length;r++)if(i[r].hasBase(e,t))return!0;return!1}return!0},i.prototype.isValidBaseKind=function(e,t){if(e.isError())return!1;var n=this.isClass();if(t){if(n)return e.getKind()===8}else if(!n)return!1;return!!(e.getKind()&152)},i.prototype.removeExtendedType=function(e){var t;if(this.extendedTypeLinks)for(var n=0;n<this.extendedTypeLinks.length;n++)if(e===this.extendedTypeLinks[n].end){t=this.extendedTypeLinks[n],this.removeOutgoingLink(t);break}this.invalidate()},i.prototype.findMember=function(e,t){typeof t=="undefined"&&(t=!0);var n;this.memberNameCache||this.populateMemberCache(),n=this.memberNameCache[e];if(!t)return n;if(n)return n;if(!n&&this.extendedTypeLinks)for(var r=0;r<this.extendedTypeLinks.length;r++){n=this.extendedTypeLinks[r].end.findMember(e);if(n)return n}return this.findNestedType(e)},i.prototype.findNestedType=function(e,t){typeof t=="undefined"&&(t=0);var n;return this.memberTypeNameCache||this.populateMemberTypeCache(),n=this.memberTypeNameCache[e],n&&t!=0&&(n=(n.getKind()&t)!=0?n:null),n},i.prototype.populateMemberCache=function(){if(!this.memberNameCache||!this.memberCache){this.memberNameCache=new e.BlockIntrinsics,this.memberCache=[];if(this.memberLinks)for(var t=0;t<this.memberLinks.length;t++)this.memberNameCache[this.memberLinks[t].end.getName()]=this.memberLinks[t].end,this.memberCache[this.memberCache.length]=this.memberLinks[t].end}},i.prototype.populateMemberTypeCache=function(){if(!this.memberTypeNameCache){this.memberTypeNameCache=new e.BlockIntrinsics;var t=!1;this.memberCache||(this.memberCache=[],this.memberNameCache=new e.BlockIntrinsics,t=!0);if(this.memberLinks)for(var n=0;n<this.memberLinks.length;n++)this.memberLinks[n].end.isType()?(this.memberTypeNameCache[this.memberLinks[n].end.getName()]=this.memberLinks[n].end,this.memberCache[this.memberCache.length]=this.memberLinks[n].end):t&&(this.memberNameCache[this.memberLinks[n].end.getName()]=this.memberLinks[n].end,this.memberCache[this.memberCache.length]=this.memberLinks[n].end)}},i.prototype.getAllMembers=function(e,t){var n=[],r=0,i=0,s=0,o=0;this.memberCache||this.populateMemberCache(),this.memberTypeNameCache||this.populateMemberTypeCache(),this.memberNameCache||this.populateMemberCache();for(var r=0,o=this.memberCache.length;r<o;r++){var u=this.memberCache[r];u.getKind()&e&&(t||!u.hasFlag(2))&&(n[n.length]=u)}if(this.extendedTypeLinks)for(var r=0,o=this.extendedTypeLinks.length;r<o;r++){var a=this.extendedTypeLinks[r].end.getAllMembers(e,t);for(var i=0,s=a.length;i<s;i++){var f=a[i];this.memberNameCache[f.getName()]||(n[n.length]=f)}}return n},i.prototype.findTypeParameter=function(t){var n;if(!this.memberTypeParameterNameCache){this.memberTypeParameterNameCache=new e.BlockIntrinsics;if(this.typeParameterLinks)for(var r=0;r<this.typeParameterLinks.length;r++)this.memberTypeParameterNameCache[this.typeParameterLinks[r].end.getName()]=this.typeParameterLinks[r].end}return n=this.memberTypeParameterNameCache[t],n},i.prototype.cleanTypeParameters=function(){if(this.typeParameterLinks)for(var e=0;e<this.typeParameterLinks.length;e++)this.removeOutgoingLink(this.typeParameterLinks[e]);this.typeParameterLinks=null,this.memberTypeParameterNameCache=null},i.prototype.setResolved=function(){this.invalidatedSpecializations=!0,n.prototype.setResolved.call(this)},i.prototype.invalidate=function(){this.constructorMethod&&this.constructorMethod.invalidate(),this.memberNameCache=null,this.memberCache=null,this.memberTypeNameCache=null,this.containedMemberCache=null,this.invalidatedSpecializations=!1,this.containedByLinks=null,this.memberLinks=this.findOutgoingLinks(function(e){return e.kind===6||e.kind===5}),this.typeParameterLinks=this.findOutgoingLinks(function(e){return e.kind===18}),this.callSignatureLinks=this.findOutgoingLinks(function(e){return e.kind===15}),this.constructSignatureLinks=this.findOutgoingLinks(function(e){return e.kind===16}),this.indexSignatureLinks=this.findOutgoingLinks(function(e){return e.kind===17}),this.implementedTypeLinks=this.findOutgoingLinks(function(e){return e.kind===12}),this.extendedTypeLinks=this.findOutgoingLinks(function(e){return e.kind===11}),this.knownBaseTypeCount=0,n.prototype.invalidate.call(this)},i.prototype.getNamePartForFullName=function(){var e=n.prototype.getNamePartForFullName.call(this),r=this.getTypeArguments();if(!r||!r.length)r=this.getTypeParameters();var i=t.getTypeParameterString(r,this,!0);return e+i},i.prototype.getScopedName=function(e,t){return this.getScopedNameEx(e,t).toString()},i.prototype.isNamedTypeSymbol=function(){var e=this.getKind();return e===2||e===8||e===4||e===32||e===256||e===64||e===8192||(e===16||e===8388608)&&this.getName()!=""?!0:!1},i.prototype.toString=function(e){var t=this.getScopedNameEx(null,e).toString();return t},i.prototype.getScopedNameEx=function(r,i,s,o){if(!this.isNamedTypeSymbol())return this.getMemberTypeNameEx(!0,r,s);var u=new e.MemberNameArray;u.prefix=n.prototype.getScopedName.call(this,r,i);var a=this.getTypeArguments();if(!a||!a.length)a=this.getTypeParameters();return u.add(t.getTypeParameterStringEx(a,r,o,i)),u},i.prototype.hasOnlyOverloadCallSignatures=function(){var e=this.getMembers(),t=this.getCallSignatures(),n=this.getConstructSignatures();return e.length===0&&n.length===0&&t.length>1},i.prototype.getMemberTypeNameEx=function(t,n,i){var s=this.getMembers(),o=this.getCallSignatures(),u=this.getConstructSignatures(),a=this.getIndexSignatures();if(s.length>0||o.length>0||u.length>0||a.length>0){var f=new e.MemberNameArray,l=!t||a.length!=0,c="; ";for(var h=0;h<s.length;h++){var p=s[h].getNameAndTypeNameEx(n);p.isArray()&&p.delim===c?f.addAll(p.entries):f.add(p),l=!0}var d=i&&!l&&this.hasOnlyOverloadCallSignatures(),v=o.length+u.length+a.length;if(v!=0||s.length!=0){var m=!l&&v===1,g;return o.length>0&&(g=r.getSignaturesTypeNameEx(o,"",m,!1,n,d),f.addAll(g)),u.length>0&&(g=r.getSignaturesTypeNameEx(u,"new",m,!1,n),f.addAll(g)),a.length>0&&(g=r.getSignaturesTypeNameEx(a,"",m,!0,n),f.addAll(g)),l||!d&&v>1&&t?(f.prefix="{ ",f.suffix="}",f.delim=c):f.entries.length>1&&(f.delim=c),f}}return e.MemberName.create("{}")},i.prototype.isExternallyVisible=function(e){var r=n.prototype.isExternallyVisible.call(this,e);if(r){var i=this.getTypeArguments();if(!i||!i.length)i=this.getTypeParameters();if(i)for(var s=0;s<i.length;s++){r=t.getIsExternallyVisible(i[s],this,e);if(!r)break}}return r},i.prototype.setType=function(t){e.Debug.assert(!1,"tried to set type of type")},i}(t);e.PullTypeSymbol=i;var s=function(e){function t(t){e.call(this,t,2)}return __extends(t,e),t.prototype.isResolved=function(){return!0},t.prototype.isStringConstant=function(){return!1},t.prototype.isFixed=function(){return!0},t.prototype.invalidate=function(){},t}(i);e.PullPrimitiveTypeSymbol=s;var o=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.isStringConstant=function(){return!0},t}(s);e.PullStringConstantTypeSymbol=o;var u=function(e){function t(t,n,r){typeof r=="undefined"&&(r=null),e.call(this,"error"),this.diagnostic=t,this.delegateType=n,this._data=r}return __extends(t,e),t.prototype.isError=function(){return!0},t.prototype.getDiagnostic=function(){return this.diagnostic},t.prototype.getName=function(e,t){return this.delegateType.getName(e,t)},t.prototype.getDisplayName=function(e,t){return this.delegateType.getDisplayName(e,t)},t.prototype.toString=function(){return this.delegateType.toString()},t.prototype.isResolved=function(){return!1},t.prototype.setData=function(e){this._data=e},t.prototype.getData=function(){return this._data},t}(s);e.PullErrorTypeSymbol=u;var a=function(e){function t(t){e.call(this,t,8)}return __extends(t,e),t}(i);e.PullClassTypeSymbol=a;var f=function(e){function t(t,n){typeof n=="undefined"&&(n=4),e.call(this,t,n),this.instanceSymbol=null,this._exportAssignedValueSymbol=null,this._exportAssignedTypeSymbol=null,this._exportAssignedContainerSymbol=null}return __extends(t,e),t.prototype.isContainer=function(){return!0},t.prototype.setInstanceSymbol=function(e){this.instanceSymbol=e},t.prototype.getInstanceSymbol=function(){return this.instanceSymbol},t.prototype.invalidate=function(){this.instanceSymbol&&this.instanceSymbol.invalidate(),e.prototype.invalidate.call(this)},t.prototype.setExportAssignedValueSymbol=function(e){this._exportAssignedValueSymbol=e},t.prototype.getExportAssignedValueSymbol=function(){return this._exportAssignedValueSymbol},t.prototype.setExportAssignedTypeSymbol=function(e){this._exportAssignedTypeSymbol=e},t.prototype.getExportAssignedTypeSymbol=function(){return this._exportAssignedTypeSymbol},t.prototype.setExportAssignedContainerSymbol=function(e){this._exportAssignedContainerSymbol=e},t.prototype.getExportAssignedContainerSymbol=function(){return this._exportAssignedContainerSymbol},t.prototype.resetExportAssignedSymbols=function(){this._exportAssignedContainerSymbol=null,this._exportAssignedTypeSymbol=null,this._exportAssignedValueSymbol=null},t.usedAsSymbol=function(e,n){if(!e||!e.isContainer())return!1;if(e.getType()==n)return!0;var r=e,i=r.getExportAssignedValueSymbol(),s=r.getExportAssignedTypeSymbol(),o=r.getExportAssignedContainerSymbol();return i||s||o?i==n||s==n||o==n||t.usedAsSymbol(o,n):!1},t}(i);e.PullContainerTypeSymbol=f;var l=function(t){function n(e){t.call(this,e,256),this.typeAliasLink=null,this.isUsedAsValue=!1,this.typeUsedExternally=!1,this.retrievingExportAssignment=!1}return __extends(n,t),n.prototype.isAlias=function(){return!0},n.prototype.isContainer=function(){return!0},n.prototype.setAliasedType=function(t){e.Debug.assert(!t.isError(),"Attempted to alias an error"),this.typeAliasLink&&this.removeOutgoingLink(this.typeAliasLink),this.typeAliasLink=this.addOutgoingLink(t,8)},n.prototype.getExportAssignedValueSymbol=function(){if(!this.typeAliasLink)return null;if(this.retrievingExportAssignment)return null;if(this.typeAliasLink.end.isContainer()){this.retrievingExportAssignment=!0;var e=this.typeAliasLink.end.getExportAssignedValueSymbol();return this.retrievingExportAssignment=!1,e}return null},n.prototype.getExportAssignedTypeSymbol=function(){if(!this.typeAliasLink)return null;if(this.retrievingExportAssignment)return null;if(this.typeAliasLink.end.isContainer()){this.retrievingExportAssignment=!0;var e=this.typeAliasLink.end.getExportAssignedTypeSymbol();return this.retrievingExportAssignment=!1,e}return null},n.prototype.getExportAssignedContainerSymbol=function(){if(!this.typeAliasLink)return null;if(this.retrievingExportAssignment)return null;if(this.typeAliasLink.end.isContainer()){this.retrievingExportAssignment=!0;var e=this.typeAliasLink.end.getExportAssignedContainerSymbol();return this.retrievingExportAssignment=!1,e}return null},n.prototype.getType=function(){return this.typeAliasLink?this.typeAliasLink.end:null},n.prototype.setType=function(e){this.setAliasedType(e)},n.prototype.setIsUsedAsValue=function(){this.isUsedAsValue=!0},n.prototype.getIsUsedAsValue=function(){return this.isUsedAsValue},n.prototype.setIsTypeUsedExternally=function(){this.typeUsedExternally=!0},n.prototype.getTypeUsedExternally=function(){return this.typeUsedExternally},n.prototype.getMembers=function(){return this.typeAliasLink?this.typeAliasLink.end.getMembers():[]},n.prototype.getCallSignatures=function(){return this.typeAliasLink?this.typeAliasLink.end.getCallSignatures():[]},n.prototype.getConstructSignatures=function(){return this.typeAliasLink?this.typeAliasLink.end.getConstructSignatures():[]},n.prototype.getIndexSignatures=function(){return this.typeAliasLink?this.typeAliasLink.end.getIndexSignatures():[]},n.prototype.findMember=function(e){return this.typeAliasLink?this.typeAliasLink.end.findMember(e):null},n.prototype.findNestedType=function(e){return this.typeAliasLink?this.typeAliasLink.end.findNestedType(e):null},n.prototype.getAllMembers=function(e,t){return this.typeAliasLink?this.typeAliasLink.end.getAllMembers(e,t):[]},n.prototype.invalidate=function(){this.isUsedAsValue=!1,t.prototype.invalidate.call(this)},n}(i);e.PullTypeAliasSymbol=l;var c=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.isDefinition=function(){return!0},t}(r);e.PullDefinitionSignatureSymbol=c;var h=function(e){function t(){e.call(this,"",16777216),this.definitionSignature=null}return __extends(t,e),t.prototype.isFunction=function(){return!0},t.prototype.invalidate=function(){var t=this.getCallSignatures();if(t.length)for(var n=0;n<t.length;n++)t[n].invalidate();this.definitionSignature=null,e.prototype.invalidate.call(this)},t.prototype.addSignature=function(e){this.addCallSignature(e),e.isDefinition()&&(this.definitionSignature=e)},t.prototype.getDefinitionSignature=function(){return this.definitionSignature},t}(i);e.PullFunctionTypeSymbol=h;var p=function(e){function t(){e.call(this,"",33554432),this.definitionSignature=null}return __extends(t,e),t.prototype.isFunction=function(){return!0},t.prototype.isConstructor=function(){return!0},t.prototype.invalidate=function(){this.definitionSignature=null,e.prototype.invalidate.call(this)},t.prototype.addSignature=function(e){this.addConstructSignature(e),e.isDefinition()&&(this.definitionSignature=e)},t.prototype.addTypeParameter=function(e,t){this.addMember(e,18,t);var n=this.getConstructSignatures();for(var r=0;r<n.length;r++)n[r].addTypeParameter(e)},t.prototype.getDefinitionSignature=function(){return this.definitionSignature},t}(i);e.PullConstructorTypeSymbol=p;var d=function(e){function n(t,n){e.call(this,t,8192),this._isFunctionTypeParameter=n,this.constraintLink=null}return __extends(n,e),n.prototype.isTypeParameter=function(){return!0},n.prototype.isFunctionTypeParameter=function(){return this._isFunctionTypeParameter},n.prototype.isFixed=function(){return!1},n.prototype.setConstraint=function(e){this.constraintLink&&this.removeOutgoingLink(this.constraintLink),this.constraintLink=this.addOutgoingLink(e,22)},n.prototype.getConstraint=function(){return this.constraintLink?this.constraintLink.end:null},n.prototype.isGeneric=function(){return!0},n.prototype.fullName=function(e){var t=this.getDisplayName(e),n=this.getContainer();if(n){var r=n.fullName(e);t=t+" in "+r}return t},n.prototype.getName=function(t,n){var r=e.prototype.getName.call(this,t);return this.isPrinting?r:(this.isPrinting=!0,n&&this.constraintLink&&(r+=" extends "+this.constraintLink.end.toString()),this.isPrinting=!1,r)},n.prototype.getDisplayName=function(t,n){var r=e.prototype.getDisplayName.call(this,t,n);return this.isPrinting?r:(this.isPrinting=!0,n&&this.constraintLink&&(r+=" extends "+this.constraintLink.end.toString()),this.isPrinting=!1,r)},n.prototype.isExternallyVisible=function(e){var n=this.getConstraint();return n?t.getIsExternallyVisible(n,this,e):!0},n}(i);e.PullTypeParameterSymbol=d;var v=function(t){function n(n,r){t.call(this,n,r),this.tyvarID=e.globalTyvarID++}return __extends(n,t),n.prototype.isTypeParameter=function(){return!0},n.prototype.isTypeVariable=function(){return!0},n}(d);e.PullTypeVariableSymbol=v;var m=function(e){function t(t){e.call(this,t,4096),this.getterSymbolLink=null,this.setterSymbolLink=null}return __extends(t,e),t.prototype.isAccessor=function(){return!0},t.prototype.setSetter=function(e){this.setterSymbolLink=this.addOutgoingLink(e,25)},t.prototype.getSetter=function(){var e=null;return this.setterSymbolLink&&(e=this.setterSymbolLink.end),e},t.prototype.removeSetter=function(){this.setterSymbolLink&&this.removeOutgoingLink(this.setterSymbolLink)},t.prototype.setGetter=function(e){this.getterSymbolLink=this.addOutgoingLink(e,24)},t.prototype.getGetter=function(){var e=null;return this.getterSymbolLink&&(e=this.getterSymbolLink.end),e},t.prototype.removeGetter=function(){this.getterSymbolLink&&this.removeOutgoingLink(this.getterSymbolLink)},t.prototype.invalidate=function(){this.getterSymbolLink&&this.getterSymbolLink.end.invalidate(),this.setterSymbolLink&&this.setterSymbolLink.end.invalidate(),e.prototype.invalidate.call(this)},t}(t);e.PullAccessorSymbol=m;var g=function(t){function n(){t.call(this,"Array",128),this.elementType=null}return __extends(n,t),n.prototype.isArray=function(){return!0},n.prototype.getElementType=function(){return this.elementType},n.prototype.isGeneric=function(){return!0},n.prototype.setElementType=function(e){this.elementType=e},n.prototype.getScopedNameEx=function(t,n,r,i){var s=this.elementType?this.elementType.isArray()||this.elementType.isNamedTypeSymbol()?this.elementType.getScopedNameEx(t,!1,r,i):this.elementType.getMemberTypeNameEx(!1,t,r):e.MemberName.create("any");return e.MemberName.create(s,"","[]")},n.prototype.getMemberTypeNameEx=function(t,n,r){var i=this.elementType?this.elementType.getMemberTypeNameEx(!1,n,r):e.MemberName.create("any");return e.MemberName.create(i,"","[]")},n}(i);e.PullArrayTypeSymbol=g,e.specializeToArrayType=y,e.typeWrapsTypeParameter=b,e.getRootType=w,e.nSpecializationsCreated=0,e.nSpecializedSignaturesCreated=0,e.shouldSpecializeTypeParameterForTypeParameter=E,e.specializeType=S,e.specializeSignature=x,e.getIDForTypeSubstitutions=T})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(t,n){this.semanticInfoChain=t,this.scriptName=n,this.parentChain=[],this.declPath=[],this.reBindingAfterChange=!1,this.startingDeclForRebind=e.pullDeclID,this.semanticInfo=this.semanticInfoChain.getUnit(this.scriptName)}return t.prototype.getParent=function(e){return typeof e=="undefined"&&(e=0),this.parentChain?this.parentChain[this.parentChain.length-1-e]:null},t.prototype.getDeclPath=function(){return this.declPath},t.prototype.pushParent=function(e){e&&(this.parentChain[this.parentChain.length]=e,this.declPath[this.declPath.length]=e.getName())},t.prototype.popParent=function(){this.parentChain.length&&(this.parentChain.length--,this.declPath.length--)},t}();e.PullSymbolBindingContext=t,e.time_in_findSymbol=0})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){this.typeParameter=null,this.isFixed=!1,this.inferenceCandidates=[]}return e.prototype.addCandidate=function(e){this.isFixed||(this.inferenceCandidates[this.inferenceCandidates.length]=e)},e}();e.CandidateInferenceInfo=t;var n=function(){function n(){this.inferenceCache={},this.candidateCache={}}return n.prototype.alreadyRelatingTypes=function(e,t){var n=e.getSymbolID().toString()+"#"+t.getSymbolID().toString();return this.inferenceCache[n]?!0:(this.inferenceCache[n]=!0,!1)},n.prototype.resetRelationshipCache=function(){this.inferenceCache={}},n.prototype.addInferenceRoot=function(e){var n=this.candidateCache[e.getSymbolID().toString()];n||(n=new t,n.typeParameter=e,this.candidateCache[e.getSymbolID().toString()]=n)},n.prototype.getInferenceInfo=function(e){return this.candidateCache[e.getSymbolID().toString()]},n.prototype.addCandidateForInference=function(e,t,n){var r=this.getInferenceInfo(e);r&&(t&&r.addCandidate(t),r.isFixed||(r.isFixed=n))},n.prototype.getInferenceCandidates=function(){var e=[],t,n;for(var r in this.candidateCache){t=this.candidateCache[r];for(var i=0;i<t.inferenceCandidates.length;i++)n={},n[t.typeParameter.getSymbolID().toString()]=t.inferenceCandidates[i],e[e.length]=n}return e},n.prototype.inferArgumentTypes=function(t,n){var r=null,i,s,o=[],u=!1;for(var a in this.candidateCache){r=this.candidateCache[a];if(!r.inferenceCandidates.length){o[o.length]={param:r.typeParameter,type:t.semanticInfoChain.anyTypeSymbol};continue}i={getLength:function(){return r.inferenceCandidates.length},setTypeAtIndex:function(e,t){},getTypeAtIndex:function(e){return r.inferenceCandidates[e].getType()}},s=t.widenType(t.findBestCommonType(r.inferenceCandidates[0],null,i,n,new e.TypeComparisonInfo));if(!s)u=!0;else for(var f=0;f<o.length;f++)o[f].type==r.typeParameter&&(o[f].type=s);o[o.length]={param:r.typeParameter,type:s}}return{results:o,unfit:u}},n}();e.ArgumentInferenceContext=n;var r=function(){function e(e,t,n){this.contextualType=e,this.provisional=t,this.substitutions=n,this.provisionallyTypedSymbols=[],this.provisionalDiagnostic=[]}return e.prototype.recordProvisionallyTypedSymbol=function(e){this.provisionallyTypedSymbols[this.provisionallyTypedSymbols.length]=e},e.prototype.invalidateProvisionallyTypedSymbols=function(){for(var e=0;e<this.provisionallyTypedSymbols.length;e++)this.provisionallyTypedSymbols[e].invalidate()},e.prototype.postDiagnostic=function(e){this.provisionalDiagnostic[this.provisionalDiagnostic.length]=e},e.prototype.hadProvisionalErrors=function(){return this.provisionalDiagnostic.length>0},e}();e.PullContextualTypeContext=r;var i=function(){function t(){this.contextStack=[],this.typeSpecializationStack=[],this.genericASTResolutionStack=[],this.resolvingTypeReference=!1,this.resolvingNamespaceMemberAccess=!1,this.resolveAggressively=!1,this.canUseTypeSymbol=!1,this.specializingToAny=!1,this.specializingToObject=!1,this.isResolvingClassExtendedType=!1,this.isSpecializingSignatureAtCallSite=!1,this.isSpecializingConstructorMethod=!1,this.isComparingSpecializedSignatures=!1,this.inSpecialization=!1,this.suppressErrors=!1,this.inBaseTypeResolution=!1}return t.prototype.pushContextualType=function(e,t,n){this.contextStack.push(new r(e,t,n))},t.prototype.popContextualType=function(){var e=this.contextStack.pop();return e.invalidateProvisionallyTypedSymbols(),e},t.prototype.findSubstitution=function(e){var t=null;if(this.contextStack.length)for(var n=this.contextStack.length-1;n>=0;n--)if(this.contextStack[n].substitutions){t=this.contextStack[n].substitutions[e.getSymbolID().toString()];if(t)break}return t},t.prototype.getContextualType=function(){var e=this.contextStack.length?this.contextStack[this.contextStack.length-1]:null;if(e){var t=e.contextualType;if(!t)return null;t.isTypeParameter()&&t.getConstraint()&&(t=t.getConstraint());var n=this.findSubstitution(t);return n?n:t}return null},t.prototype.inProvisionalResolution=function(){return this.contextStack.length?this.contextStack[this.contextStack.length-1].provisional:!1},t.prototype.isInBaseTypeResolution=function(){return this.inBaseTypeResolution},t.prototype.startBaseTypeResolution=function(){var e=this.inBaseTypeResolution;return this.inBaseTypeResolution=!0,e},t.prototype.doneBaseTypeResolution=function(e){this.inBaseTypeResolution=e},t.prototype.setTypeInContext=function(e,t){var n=this.findSubstitution(t);e.setType(n?n:t),this.contextStack.length&&this.inProvisionalResolution()&&this.contextStack[this.contextStack.length-1].recordProvisionallyTypedSymbol(e)},t.prototype.pushTypeSpecializationCache=function(e){this.typeSpecializationStack[this.typeSpecializationStack.length]=e},t.prototype.popTypeSpecializationCache=function(){this.typeSpecializationStack.length&&this.typeSpecializationStack.length--},t.prototype.findSpecializationForType=function(e){var t=null;for(var n=this.typeSpecializationStack.length-1;n>=0;n--){t=this.typeSpecializationStack[n][e.getSymbolID().toString()];if(t)return t}return e},t.prototype.postError=function(t,n,r,i,s,o,u){typeof s=="undefined"&&(s=null),typeof o=="undefined"&&(o=null),typeof u=="undefined"&&(u=!1);var a=new e.SemanticDiagnostic(t,n,r,i,s);return this.postDiagnostic(a,o,u),a},t.prototype.postDiagnostic=function(e,t,n){this.inProvisionalResolution()?this.contextStack[this.contextStack.length-1].postDiagnostic(e):!this.suppressErrors&&t&&n&&t.addDiagnostic(e)},t.prototype.startResolvingTypeArguments=function(e){this.genericASTResolutionStack[this.genericASTResolutionStack.length]=e},t.prototype.isResolvingTypeArguments=function(e){for(var t=0;t<this.genericASTResolutionStack.length;t++)if(this.genericASTResolutionStack[t].getID()===e.getID())return!0;return!1},t.prototype.doneResolvingTypeArguments=function(){this.genericASTResolutionStack.length--},t}();e.PullTypeResolutionContext=i})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(e,t,n){this.symbol=e,this.symbolAlias=t,this.diagnostics=n}return t.create=function(e,n){return new t(e,null,n)},t.empty=function(){return t._empty},t.fromSymbol=function(e){return new t(e,null,null)},t.fromAlias=function(e,n){return new t(e,n,null)},t.prototype.addDiagnostic=function(n){e.Debug.assert(this!==t._empty),this.diagnostics===null&&(this.diagnostics=[]),this.diagnostics.push(n)},t.prototype.withoutDiagnostics=function(){return this.diagnostics?t.fromSymbol(this.
symbol):this},t._empty=new t(null,null,null),t}();e.SymbolAndDiagnostics=t;var n=function(){function e(){this.cacheSize=16,this.rdCache=[],this.nextUp=0;for(var e=0;e<this.cacheSize;e++)this.rdCache[e]={actuals:[],exactCandidates:[],conversionCandidates:[],id:e}}return e.prototype.getResolutionData=function(){var e=null;return this.nextUp<this.cacheSize&&(e=this.rdCache[this.nextUp]),e===null&&(this.cacheSize++,e={actuals:[],exactCandidates:[],conversionCandidates:[],id:this.cacheSize},this.rdCache[this.cacheSize]=e),this.nextUp++,e},e.prototype.returnResolutionData=function(e){e.actuals.length=0,e.exactCandidates.length=0,e.conversionCandidates.length=0,this.nextUp=e.id},e}();e.PullResolutionDataCache=n;var r=function(){function e(){this.targetSymbol=null,this.targetTypeSymbol=null,this.resolvedSignatures=null,this.candidateSignature=null,this.actualParametersContextTypeSymbols=null}return e}();e.PullAdditionalCallResolutionData=r;var i=function(){function e(){this.membersContextTypeSymbols=null}return e}();e.PullAdditionalObjectLiteralResolutionData=i;var s=function(){function r(t,r,i){this.compilationSettings=t,this.semanticInfoChain=r,this.unitPath=i,this._cachedArrayInterfaceType=null,this._cachedNumberInterfaceType=null,this._cachedStringInterfaceType=null,this._cachedBooleanInterfaceType=null,this._cachedObjectInterfaceType=null,this._cachedFunctionInterfaceType=null,this._cachedIArgumentsInterfaceType=null,this._cachedRegExpInterfaceType=null,this.cachedFunctionArgumentsSymbol=null,this.assignableCache={},this.subtypeCache={},this.identicalCache={},this.resolutionDataCache=new n,this.currentUnit=null,this.cachedFunctionArgumentsSymbol=new e.PullSymbol("arguments",1024),this.cachedFunctionArgumentsSymbol.setType(this.cachedIArgumentsInterfaceType()?this.cachedIArgumentsInterfaceType():this.semanticInfoChain.anyTypeSymbol),this.cachedFunctionArgumentsSymbol.setResolved();var s=new e.PullDecl("arguments","arguments",2048,0,new e.TextSpan(0,0),i);s.setSymbol(this.cachedFunctionArgumentsSymbol),this.cachedFunctionArgumentsSymbol.addDeclaration(s),this.currentUnit=this.semanticInfoChain.getUnit(i)}return r.prototype.cleanCachedGlobals=function(){this._cachedArrayInterfaceType=null,this._cachedNumberInterfaceType=null,this._cachedStringInterfaceType=null,this._cachedBooleanInterfaceType=null,this._cachedObjectInterfaceType=null,this._cachedFunctionInterfaceType=null,this._cachedIArgumentsInterfaceType=null,this._cachedRegExpInterfaceType=null,this.cachedFunctionArgumentsSymbol=null,this.identicalCache={},this.subtypeCache={},this.assignableCache={}},r.prototype.cachedArrayInterfaceType=function(){return this._cachedArrayInterfaceType||(this._cachedArrayInterfaceType=this.getSymbolFromDeclPath("Array",[],16)),this._cachedArrayInterfaceType||(this._cachedArrayInterfaceType=this.semanticInfoChain.anyTypeSymbol),this._cachedArrayInterfaceType.isResolved()||this.resolveDeclaredSymbol(this._cachedArrayInterfaceType,null,new e.PullTypeResolutionContext),this._cachedArrayInterfaceType},r.prototype.getCachedArrayType=function(){return this.cachedArrayInterfaceType()},r.prototype.cachedNumberInterfaceType=function(){return this._cachedNumberInterfaceType||(this._cachedNumberInterfaceType=this.getSymbolFromDeclPath("Number",[],16)),this._cachedNumberInterfaceType&&!this._cachedNumberInterfaceType.isResolved()&&this.resolveDeclaredSymbol(this._cachedNumberInterfaceType,null,new e.PullTypeResolutionContext),this._cachedNumberInterfaceType},r.prototype.cachedStringInterfaceType=function(){return this._cachedStringInterfaceType||(this._cachedStringInterfaceType=this.getSymbolFromDeclPath("String",[],16)),this._cachedStringInterfaceType&&!this._cachedStringInterfaceType.isResolved()&&this.resolveDeclaredSymbol(this._cachedStringInterfaceType,null,new e.PullTypeResolutionContext),this._cachedStringInterfaceType},r.prototype.cachedBooleanInterfaceType=function(){return this._cachedBooleanInterfaceType||(this._cachedBooleanInterfaceType=this.getSymbolFromDeclPath("Boolean",[],16)),this._cachedBooleanInterfaceType&&!this._cachedBooleanInterfaceType.isResolved()&&this.resolveDeclaredSymbol(this._cachedBooleanInterfaceType,null,new e.PullTypeResolutionContext),this._cachedBooleanInterfaceType},r.prototype.cachedObjectInterfaceType=function(){return this._cachedObjectInterfaceType||(this._cachedObjectInterfaceType=this.getSymbolFromDeclPath("Object",[],16)),this._cachedObjectInterfaceType||(this._cachedObjectInterfaceType=this.semanticInfoChain.anyTypeSymbol),this._cachedObjectInterfaceType.isResolved()||this.resolveDeclaredSymbol(this._cachedObjectInterfaceType,null,new e.PullTypeResolutionContext),this._cachedObjectInterfaceType},r.prototype.cachedFunctionInterfaceType=function(){return this._cachedFunctionInterfaceType||(this._cachedFunctionInterfaceType=this.getSymbolFromDeclPath("Function",[],16)),this._cachedFunctionInterfaceType&&!this._cachedFunctionInterfaceType.isResolved()&&this.resolveDeclaredSymbol(this._cachedFunctionInterfaceType,null,new e.PullTypeResolutionContext),this._cachedFunctionInterfaceType},r.prototype.cachedIArgumentsInterfaceType=function(){return this._cachedIArgumentsInterfaceType||(this._cachedIArgumentsInterfaceType=this.getSymbolFromDeclPath("IArguments",[],16)),this._cachedIArgumentsInterfaceType&&!this._cachedIArgumentsInterfaceType.isResolved()&&this.resolveDeclaredSymbol(this._cachedIArgumentsInterfaceType,null,new e.PullTypeResolutionContext),this._cachedIArgumentsInterfaceType},r.prototype.cachedRegExpInterfaceType=function(){return this._cachedRegExpInterfaceType||(this._cachedRegExpInterfaceType=this.getSymbolFromDeclPath("RegExp",[],16)),this._cachedRegExpInterfaceType.isResolved()||this.resolveDeclaredSymbol(this._cachedRegExpInterfaceType,null,new e.PullTypeResolutionContext),this._cachedRegExpInterfaceType},r.prototype.getUnitPath=function(){return this.unitPath},r.prototype.setUnitPath=function(e){this.unitPath=e,this.currentUnit=this.semanticInfoChain.getUnit(e)},r.prototype.getDeclForAST=function(e){return this.semanticInfoChain.getDeclForAST(e,this.unitPath)},r.prototype.getSymbolAndDiagnosticsForAST=function(e){return this.semanticInfoChain.getSymbolAndDiagnosticsForAST(e,this.unitPath)},r.prototype.setSymbolAndDiagnosticsForAST=function(e,t,n){if(n&&(n.inProvisionalResolution()||n.inSpecialization))return;this.semanticInfoChain.setSymbolAndDiagnosticsForAST(e,t,this.unitPath)},r.prototype.getASTForSymbol=function(e){return this.semanticInfoChain.getASTForSymbol(e,this.unitPath)},r.prototype.getASTForDecl=function(e){return this.semanticInfoChain.getASTForDecl(e)},r.prototype.getNewErrorTypeSymbol=function(t,n){return new e.PullErrorTypeSymbol(t,this.semanticInfoChain.anyTypeSymbol,n)},r.prototype.getEnclosingDecl=function(t){var n=e.getPathToDecl(t);return n.length?n.length>1&&n[n.length-1]===t?n[n.length-2]:n[n.length-1]:null},r.prototype.getExportedMemberSymbol=function(t,n){if(!(t.getKind()&69632)){var r=n.isContainer()?n:n.getAssociatedContainerType();if(r&&r.isContainer()&&!e.PullHelpers.symbolIsEnum(n))return t.hasFlag(1)?t:null}return t},r.prototype.getMemberSymbol=function(t,n,r,i){typeof i=="undefined"&&(i=!1);var s=null;n&e.PullElementKind.SomeValue?s=r.findMember(t):s=r.findNestedType(t);if(s)return this.getExportedMemberSymbol(s,r);var o=r.getAssociatedContainerType();if(o){if(o.isClass())return null;r=o}n&e.PullElementKind.SomeValue?s=r.findMember(t):s=r.findNestedType(t);if(s)return this.getExportedMemberSymbol(s,r);var u=r.getDeclarations(),a=null;for(var f=0;f<u.length;f++){a=u[f].searchChildDecls(t,n);if(a.length)return this.getExportedMemberSymbol(a[0].getSymbol(),r)}},r.prototype.getSymbolFromDeclPath=function(t,n,r){var i=null,s=null,o,u=null,a,f,l=null,c,h=null,p=null,d=null;for(var v=n.length-1;v>=0;v--){s=n[v],f=s.getKind();if(s.getFlags()&2097152)return this.semanticInfoChain.anyTypeSymbol;if(f&36){o=s.searchChildDecls(t,r);if(o.length)return o[0].getSymbol();if(r&e.PullElementKind.SomeValue){o=s.searchChildDecls(t,r);if(o.length){l=o[0];if(l)return l.getSymbol()}h=s.getSymbol().getInstanceSymbol();if(h){p=h.getType(),d=this.getMemberSymbol(t,r,p);if(d&&d.getKind()&r)return d}o=s.searchChildDecls(t,256);if(o.length){var m=o[0].getSymbol();if(m.isAlias())return m}l=s.getValueDecl(),l&&(s=l)}u=s.getSymbol().getType();var d=this.getMemberSymbol(t,r,u);if(d)return d}else if(r&(e.PullElementKind.SomeType|e.PullElementKind.SomeContainer)||!(f&8)){var g=null;f===131072&&t===s.getFunctionExpressionName()&&(g=s.getSymbol()),o=s.searchChildDecls(t,r);if(o.length)return s.getKind()&e.PullElementKind.SomeFunction&&s.ensureSymbolIsBound(),o[0].getSymbol();if(g)return g;if(r&e.PullElementKind.SomeValue){o=s.searchChildDecls(t,256);if(o.length){var m=o[0].getSymbol();if(m.isAlias())return m}}}}return i=this.semanticInfoChain.findSymbol([t],r),i},r.prototype.getVisibleDeclsFromDeclPath=function(e,t){var n=[],r=null,i,s,o;for(var u=e.length-1;u>=0;u--){r=e[u],s=r.getKind();var a=r.getSymbol(),f=r.getKind();f!==8&&f!==16&&this.addFilteredDecls(r.getChildDecls(),t,n);switch(f){case 4:case 32:if(a){var l=a.getDeclarations();for(var c=0,h=l.length;c<h;c++){var p=l[c];if(p===r)continue;var d=p.getChildDecls();for(var v=0,m=d.length;v<m;v++){var g=d[v];g.getFlags()&1&&g.getKind()&t&&n.push(g)}}}break;case 8:case 16:if(a&&a.isGeneric()){o=a.getTypeParameters();for(var v=0;v<o.length;v++)n.push(o[v].getDeclarations()[0])}break;case 131072:var y=r.getFunctionExpressionName();a&&y&&n.push(a.getDeclarations()[0]);case 16384:case 32768:case 65536:if(a){var b=a.getType();if(b.getHasGenericSignature()){var w=s===32768?b.getConstructSignatures():b.getCallSignatures();if(w&&w.length)for(var c=0;c<w.length;c++){var E=w[c];if(E.isGeneric()){o=E.getTypeParameters();for(var v=0;v<o.length;v++)n.push(o[v].getDeclarations()[0])}}}}}}var S=this.semanticInfoChain.units;for(var u=0,x=S.length;u<x;u++){var T=S[u];if(T===this.currentUnit&&e.length!=0)continue;var N=T.getTopLevelDecls();if(N.length)for(var c=0,h=N.length;c<h;c++){var C=N[c];(C.getKind()===1||C.getKind()===0)&&this.addFilteredDecls(C.getChildDecls(),t,n)}}return n},r.prototype.addFilteredDecls=function(e,t,n){if(e.length)for(var r=0,i=e.length;r<i;r++){var s=e[r];s.getKind()&t&&n.push(s)}},r.prototype.getVisibleDecls=function(t,n){var r=t!==null?e.getPathToDecl(t):[];t&&!r.length&&(r=[t]);var i=e.PullElementKind.SomeType|e.PullElementKind.SomeContainer|e.PullElementKind.SomeValue;return this.getVisibleDeclsFromDeclPath(r,i)},r.prototype.getVisibleContextSymbols=function(t,n){var r=n.getContextualType();if(!r||this.isAnyOrEquivalent(r))return null;var i=e.PullElementKind.SomeType|e.PullElementKind.SomeContainer|e.PullElementKind.SomeValue,s=r.getAllMembers(i,!1);for(var o=0;o<s.length;o++)s[o].setUnresolved();return s},r.prototype.getVisibleMembersFromExpression=function(t,n,r){var i=r.canUseTypeSymbol;r.canUseTypeSymbol=!0;var s=this.resolveAST(t,!1,n,r).symbol;r.canUseTypeSymbol=i;var o=s.getType();if(!o)return null;if(this.isAnyOrEquivalent(o))return null;o.isResolved()||this.resolveDeclaredSymbol(o,n,r);var u=!1,a=o;a.getKind()===33554432&&(a=a.getConstructSignatures()[0].getReturnType());if(a&&a.isClass()){var f=e.getPathToDecl(n);if(f&&f.length){var l=a.getDeclarations();for(var c=0,h=l.length;c<h;c++){var p=l[c];if(f.indexOf(p)>=0){u=!0;break}}}}var d=e.PullElementKind.SomeType|e.PullElementKind.SomeContainer|e.PullElementKind.SomeValue,v=[];o.isContainer()&&o.getExportAssignedContainerSymbol()&&(o=o.getExportAssignedContainerSymbol());if(o.isTypeParameter()){var m=o.getConstraint();m&&(o=m,v=o.getAllMembers(d,!1))}else{s.getKind()==67108864&&(o=this.semanticInfoChain.numberTypeSymbol),o===this.semanticInfoChain.numberTypeSymbol&&this.cachedNumberInterfaceType()?o=this.cachedNumberInterfaceType():o===this.semanticInfoChain.stringTypeSymbol&&this.cachedStringInterfaceType()?o=this.cachedStringInterfaceType():o===this.semanticInfoChain.booleanTypeSymbol&&this.cachedBooleanInterfaceType()&&(o=this.cachedBooleanInterfaceType());if(!o.isResolved()){var g=this.resolveDeclaredSymbol(o,n,r);g!=o&&(s.isType()||r.setTypeInContext(s,g),o=g)}v=o.getAllMembers(d,u);if(o.isContainer()){var y=o.getInstanceSymbol();if(y){var b=y.getType();b.isResolved()||this.resolveDeclaredSymbol(b,n,r);var w=b.getAllMembers(d,u);v=v.concat(w)}}else if(o.isConstructor()){var E="prototype",S=new e.PullSymbol(E,4096),x=o.getDeclarations()[0],T=new e.PullDecl(E,E,x.getKind(),x.getFlags(),x.getSpan(),x.getScriptName());this.currentUnit.addSynthesizedDecl(T),T.setParentDecl(x),S.addDeclaration(T),v.push(S)}else{var N=o.getAssociatedContainerType();if(N){var C=N.getType();C.isResolved()||this.resolveDeclaredSymbol(C,n,r);var k=C.getAllMembers(d,u);v=v.concat(k)}}}o.getCallSignatures().length&&this.cachedFunctionInterfaceType()&&(v=v.concat(this.cachedFunctionInterfaceType().getAllMembers(d,!1)));for(var c=0;c<v.length;c++)v[c].isResolved()||this.resolveDeclaredSymbol(v[c],n,r),v[c].setUnresolved();return v},r.prototype.isAnyOrEquivalent=function(e){return e===this.semanticInfoChain.anyTypeSymbol||e.isError()},r.prototype.isNumberOrEquivalent=function(e){return e===this.semanticInfoChain.numberTypeSymbol||this.cachedNumberInterfaceType()&&e===this.cachedNumberInterfaceType()},r.prototype.isTypeArgumentOrWrapper=function(e){if(!e)return!1;if(!e.isGeneric())return!1;if(e.isTypeParameter())return!0;if(e.isArray())return this.isTypeArgumentOrWrapper(e.getElementType());var t=e.getTypeArguments();if(!t)return!0;for(var n=0;n<t.length;n++)if(this.isTypeArgumentOrWrapper(t[n]))return!0;return!1},r.prototype.isArrayOrEquivalent=function(e){return e.isArray()&&e.getElementType()||e==this.cachedArrayInterfaceType()},r.prototype.findTypeSymbolForDynamicModule=function(t,n,r){var i=t,s=r(t);if(s===null){s||(t=e.swapQuotes(i),s=r(t)),s||(t=e.stripQuotes(i)+".ts",s=r(t)),s||(t=e.stripQuotes(i)+".d.ts",s=r(t));if(!s&&!e.isRelative(i)){t=i;var o=e.stripQuotes(t),u=e.getRootFilePath(e.switchToForwardSlashes(n));while(s===null&&u!="")t=e.normalizePath(u+o+".ts"),s=r(t),s===null&&(t=e.changePathToDTS(t),s=r(t)),s===null&&(u==="/"?u="":(u=e.normalizePath(u+".."),u=u&&u!="/"?u+"/":u))}}return s},r.prototype.resolveDeclaredSymbol=function(e,t,n){var r=n.resolvingTypeReference;n.resolvingTypeReference=!1;var i=this.resolveDeclaredSymbolWorker(e,t,n);return n.resolvingTypeReference=r,i},r.prototype.resolveDeclaredSymbolWorker=function(t,n,r){if(!t||t.isResolved())return t;if(t.isResolving()&&!t.currentlyBeingSpecialized())return t.isType()||t.setType(this.semanticInfoChain.anyTypeSymbol),t;var i=this.unitPath,s=t.getDeclarations(),o=null;for(var u=0;u<s.length;u++){var a=s[u];o=this.semanticInfoChain.getASTForDecl(a);if(!o||o.nodeType===80)return this.setUnitPath(i),t;this.setUnitPath(a.getScriptName()),this.resolveAST(o,!1,n,r)}var f=t.isType()?t.getTypeArguments():null;if(f&&f.length){var l=t.getTypeParameters(),c={};for(var u=0;u<l.length;u++)c[l[u].getSymbolID().toString()]=f[u];r.pushTypeSpecializationCache(c);var h=e.getRootType(t.getType()),p=e.specializeType(h,f,this,n,r,o);r.popTypeSpecializationCache(),t=p}return this.setUnitPath(i),t},r.prototype.resolveModuleDeclaration=function(e,t){var n=this.getDeclForAST(e),r=n.getSymbol();if(r.isResolved())return r;r.setResolved();var i=r.getDeclarations();for(var s=0;s<i.length;s++){var o=i[s].getChildDecls();for(var u=0;u<o.length;u++)o[u].ensureSymbolIsBound()}if(n.getKind()!=64){var a=r.getInstanceSymbol();a&&this.resolveDeclaredSymbol(a,n.getParentDecl(),t);var f=e.members.members;for(var s=0;s<f.length;s++)if(f[s].nodeType==87){this.resolveExportAssignmentStatement(f[s],n,t);break}}return r},r.prototype.isTypeRefWithoutTypeArgs=function(e){if(e.nodeType!=11)return!1;if(e.term.nodeType==20)return!0;if(e.term.nodeType==32){var t=e.term;if(t.operand2.nodeType==20)return!0}return!1},r.prototype.resolveReferenceTypeDeclaration=function(n,r){var i=this.getDeclForAST(n),s=this.getEnclosingDecl(i),o=i.getSymbol(),u=n.nodeType===13,a=this.getSymbolAndDiagnosticsForAST(n)!=null,f=[],l=[];if(o.isResolved()&&a||o.isResolving()&&!r.isInBaseTypeResolution())return o;var c=o.isResolving();o.startResolving();if(!o.isResolved()){var h=o.getTypeParameters();for(var p=0;p<h.length;p++)this.resolveDeclaredSymbol(h[p],i,r)}var d=o.getDeclarations();for(var p=0;p<d.length;p++){var v=d[p].getChildDecls();for(var m=0;m<v.length;m++)v[m].ensureSymbolIsBound()}var g=r.startBaseTypeResolution();!u&&!a&&o.resetKnownBaseTypeCount();if(n.extendsList){var y=r.isResolvingClassExtendedType;u&&(r.isResolvingClassExtendedType=!0);for(var p=o.getKnownBaseTypeCount();p<n.extendsList.members.length;p=o.getKnownBaseTypeCount()){o.incrementKnownBaseCount();var b=this.resolveTypeReference(new e.TypeReference(n.extendsList.members[p],0),i,r).symbol;if(o.isValidBaseKind(b,!0)){var w=b;f[f.length]=b,b.isGeneric()&&b.isResolved()&&!b.getIsSpecialized()&&(b=this.specializeTypeToAny(b,s,r),i.addDiagnostic(new e.Diagnostic(i.getScriptName(),n.minChar,n.getLength(),241)));if(!o.hasBase(b)){this.setSymbolAndDiagnosticsForAST(n.extendsList.members[p],t.fromSymbol(w),r),o.addExtendedType(b);var E=o.getKnownSpecializations();for(var m=0;m<E.length;m++)E[m].addExtendedType(b)}}}r.isResolvingClassExtendedType=y}if(!o.isResolved()&&!c){var S=o.getExtendedTypes();for(var p=0;p<S.length;p++){var x=S[p];for(var m=0;m<f.length;m++)if(x==f[m])break;m==f.length&&o.removeExtendedType(x)}}if(n.implementsList&&u){var T=n.extendsList?n.extendsList.members.length:0;for(var p=o.getKnownBaseTypeCount();p-T>=0&&p-T<n.implementsList.members.length;p=o.getKnownBaseTypeCount()){o.incrementKnownBaseCount();var N=this.resolveTypeReference(new e.TypeReference(n.implementsList.members[p-T],0),i,r).symbol;if(o.isValidBaseKind(N,!1)){var C=N;l[l.length]=N,N.isGeneric()&&N.isResolved()&&!N.getIsSpecialized()?(N=this.specializeTypeToAny(N,s,r),i.addDiagnostic(new e.Diagnostic(i.getScriptName(),n.minChar,n.getLength(),241)),this.setSymbolAndDiagnosticsForAST(n.implementsList.members[p-T],t.fromSymbol(N),r),o.addImplementedType(N)):o.hasBase(N)||(this.setSymbolAndDiagnosticsForAST(n.implementsList.members[p-T],t.fromSymbol(C),r),o.addImplementedType(N))}}}if(!o.isResolved()&&!c){var S=o.getImplementedTypes();for(var p=0;p<S.length;p++){var x=S[p];for(var m=0;m<l.length;m++)if(x==l[m])break;m==l.length&&o.removeImplementedType(x)}}r.doneBaseTypeResolution(g);if(g&&(n.implementsList||n.extendsList))return o;if(!o.isResolved()){var k=o.getMembers();for(var p=0;p<k.length;p++)this.resolveDeclaredSymbol(k[p],i,r);if(!u){var L=o.getCallSignatures();for(var p=0;p<L.length;p++)this.resolveDeclaredSymbol(L[p],i,r);var A=o.getConstructSignatures();for(var p=0;p<A.length;p++)this.resolveDeclaredSymbol(A[p],i,r);var O=o.getIndexSignatures();for(var p=0;p<O.length;p++)this.resolveDeclaredSymbol(O[p],i,r)}}return this.setSymbolAndDiagnosticsForAST(n.name,t.fromSymbol(o),r),this.setSymbolAndDiagnosticsForAST(n,t.fromSymbol(o),r),o.setResolved(),o},r.prototype.resolveClassDeclaration=function(t,n){var r=this.getDeclForAST(t),i=r.getSymbol();if(i.isResolved())return i;this.resolveReferenceTypeDeclaration(t,n);var s=i.getConstructorMethod(),o=i.getExtendedTypes(),u=o.length?o[0]:null;if(s){var a=s.getType(),f=a.getConstructSignatures();if(!f.length){var l;if(u){var c=u,h=c.getConstructorMethod(),p=h.getType(),d=p.getConstructSignatures(),v,m;for(var g=0;g<d.length;g++){v=d[g],m=v.getParameters(),l=v.isDefinition()?new e.PullDefinitionSignatureSymbol(2097152):new e.PullSignatureSymbol(2097152),l.setReturnType(i);for(var y=0;y<m.length;y++)l.addParameter(m[y],m[y].getIsOptional());var b=a.getTypeParameters();for(var y=0;y<b.length;y++)l.addTypeParameter(b[y]);a.addConstructSignature(l),l.addDeclaration(r)}}else{l=new e.PullSignatureSymbol(2097152),l.setReturnType(i),a.addConstructSignature(l),l.addDeclaration(r);var b=a.getTypeParameters();for(var g=0;g<b.length;g++)l.addTypeParameter(b[g])}}if(!i.isResolved())return i;var w=a.getMembers();this.resolveDeclaredSymbol(s,r,n);for(var g=0;g<w.length;g++)this.resolveDeclaredSymbol(w[g],r,n);if(u){var E=u.getConstructorMethod(),S=E.getType();a.hasBase(S)||a.addExtendedType(S)}}return i},r.prototype.resolveInterfaceDeclaration=function(e,t){var n=this.getDeclForAST(e),r=n.getSymbol();return this.resolveReferenceTypeDeclaration(e,t),r},r.prototype.resolveImportDeclaration=function(n,r){var i=this,s=this.getDeclForAST(n),o=this.getEnclosingDecl(s),u=s.getSymbol(),a=n.id.text,f=null;if(u.isResolved())return u;u.startResolving();if(n.alias.nodeType===11)f=this.resolveTypeReference(n.alias,o,r).symbol;else if(n.alias.nodeType===20){var l=n.alias.actualText;if(!e.isQuoted(l))f=this.resolveTypeReference(new e.TypeReference(n.alias,0),o,r).symbol;else{var c=n.alias.actualText,h=e.getPathToDecl(o);n.isDynamicImport=!0,f=this.findTypeSymbolForDynamicModule(c,s.getScriptName(),function(t){return i.getSymbolFromDeclPath(t,h,e.PullElementKind.SomeContainer)}),f||(s.addDiagnostic(new e.SemanticDiagnostic(this.currentUnit.getPath(),n.minChar,n.getLength(),142,[l])),f=this.semanticInfoChain.anyTypeSymbol)}}return f&&(f.isContainer()?f.getExportAssignedValueSymbol()&&u.setIsUsedAsValue():(s.addDiagnostic(new e.Diagnostic(this.currentUnit.getPath(),n.minChar,n.getLength(),143)),f=this.semanticInfoChain.anyTypeSymbol),u.setAliasedType(f),u.setResolved(),this.semanticInfoChain.setSymbolAndDiagnosticsForAST(n.alias,t.fromSymbol(f),this.unitPath)),u},r.prototype.resolveExportAssignmentStatement=function(n,r,i){var s=n.id.text,o=null,u=null,a=null,f=r.getSymbol();if(!f.isType()&&f.isContainer())return r.addDiagnostic(new e.Diagnostic(r.getScriptName(),n.minChar,n.getLength(),232)),t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);var l=r!==null?[r]:[];a=this.getSymbolFromDeclPath(s,l,e.PullElementKind.SomeContainer);var c=!0;a&&(c=(a.getKind()&e.PullElementKind.AcceptableAlias)!=0);if(!c&&a&&a.getKind()==256){a.isResolved()||this.resolveDeclaredSymbol(a,r,i);var h=a.getType();if(h.getKind()!=32)c=!0;else{var p=a.getExportAssignedValueSymbol(),d=a.getExportAssignedTypeSymbol(),v=a.getExportAssignedContainerSymbol();if(p||d||v)p&&(o=p),d&&(u=d),v&&(a=v),c=!0}}return c?(o||(o=this.getSymbolFromDeclPath(s,l,e.PullElementKind.SomeValue)),u||(u=this.getSymbolFromDeclPath(s,l,e.PullElementKind.SomeType)),!o&&!u&&!a?t.create(this.semanticInfoChain.voidTypeSymbol,[i.postError(r.getScriptName(),n.minChar,n.getLength(),166,[s])]):(o&&(o.isResolved()||this.resolveDeclaredSymbol(o,r,i),f.setExportAssignedValueSymbol(o)),u&&(u.isResolved()||this.resolveDeclaredSymbol(u,r,i),f.setExportAssignedTypeSymbol(u)),a&&(a.isResolved()||this.resolveDeclaredSymbol(a,r,i),f.setExportAssignedContainerSymbol(a)),t.fromSymbol(this.semanticInfoChain.voidTypeSymbol))):(r.addDiagnostic(new e.Diagnostic(r.getScriptName(),n.minChar,n.getLength(),233)),t.fromSymbol(this.semanticInfoChain.voidTypeSymbol))},r.prototype.resolveFunctionTypeSignature=function(t,n,r){var i=null,s=this.getDeclForAST(t);if(!s||!s.hasSymbol()){var o=this.semanticInfoChain.getUnit(this.unitPath),u=new e.DeclCollectionContext(o);u.scriptName=this.unitPath,n&&u.pushParent(n),e.getAstWalkerFactory().walk(t,e.preCollectDecls,e.postCollectDecls,null,u),s=this.getDeclForAST(t),this.currentUnit.addSynthesizedDecl(s);var a=new e.PullSymbolBinder(this.semanticInfoChain);a.setUnit(this.unitPath),s.getKind()===33554432?a.bindConstructorTypeDeclarationToPullSymbol(s):a.bindFunctionTypeDeclarationToPullSymbol(s)}i=s.getSymbol();var f=i.getKind()===33554432?i.getConstructSignatures()[0]:i.getCallSignatures()[0];if(t.returnTypeAnnotation){var l=this.resolveTypeReference(t.returnTypeAnnotation,n,r).symbol;f.setReturnType(l),this.isTypeArgumentOrWrapper(l)&&(f.setHasGenericParameter(),i&&i.getType().setHasGenericSignature())}else f.setReturnType(this.semanticInfoChain.anyTypeSymbol);if(t.arguments)for(var c=0;c<t.arguments.members.length;c++)this.resolveFunctionTypeSignatureParameter(t.arguments.members[c],f,n,r);return i&&f.hasGenericParameter()&&i.getType().setHasGenericSignature(),f.hasGenericParameter()&&i&&i.getType().setHasGenericSignature(),i.setResolved(),i},r.prototype.resolveFunctionTypeSignatureParameter=function(t,n,r,i){var s=this.getDeclForAST(t),o=s.getSymbol();if(t.typeExpr){var u=this.resolveTypeReference(t.typeExpr,r,i).symbol;if(o.getIsVarArg()&&!u.isArray()&&u!=this.cachedArrayInterfaceType()){var a=i.postError(this.unitPath,t.minChar,t.getLength(),230,null,r);u=this.getNewErrorTypeSymbol(a)}i.setTypeInContext(o,u),this.isTypeArgumentOrWrapper(u)&&n.setHasGenericParameter()}else o.getIsVarArg()&&o.getType()?this.cachedArrayInterfaceType()?i.setTypeInContext(o,e.specializeToArrayType(this.cachedArrayInterfaceType(),o.getType(),this,i)):i.setTypeInContext(o,o.getType()):i.setTypeInContext(o,this.semanticInfoChain.anyTypeSymbol);o.setResolved()},r.prototype.resolveFunctionExpressionParameter=function(t,n,r,i){var s=this.getDeclForAST(t),o=s.getSymbol();if(t.typeExpr){var u=this.resolveTypeReference(t.typeExpr,r,i).symbol;if(o.getIsVarArg()&&!u.isArray()&&u!=this.cachedArrayInterfaceType()){var a=i.postError(this.unitPath,t.minChar,t.getLength(),230,null,r);u=this.getNewErrorTypeSymbol(a)}i.setTypeInContext(o,u)}else o.getIsVarArg()&&o.getType()?this.cachedArrayInterfaceType()?i.setTypeInContext(o,e.specializeToArrayType(this.cachedArrayInterfaceType(),o.getType(),this,i)):i.setTypeInContext(o,o.getType()):n?i.setTypeInContext(o,n.getType()):i.setTypeInContext(o,this.semanticInfoChain.anyTypeSymbol);o.setResolved()},r.prototype.resolveInterfaceTypeReference=function(t,n,r){var i=null,s=this.getDeclForAST(t);if(!s){var o=this.semanticInfoChain.getUnit(this.unitPath),u=new e.DeclCollectionContext(o);u.scriptName=this.unitPath,n&&u.pushParent(n),e.getAstWalkerFactory().walk(t,e.preCollectDecls,e.postCollectDecls,null,u);var s=this.getDeclForAST(t);this.currentUnit.addSynthesizedDecl(s);var a=new e.PullSymbolBinder(this.semanticInfoChain);a.setUnit(this.unitPath),a.bindObjectTypeDeclarationToPullSymbol(s)}i=s.getSymbol();if(t.members){var f=null,l=null,c=null,h=t.members;for(var p=0;p<h.members.length;p++)f=this.getDeclForAST(h.members[p]),l=f.getKind()&e.PullElementKind.SomeSignature?f.getSignatureSymbol():f.getSymbol(),this.resolveDeclaredSymbol(l,n,r),c=l.getType(),(c&&c.isGeneric()||l.isSignature()&&l.isGeneric())&&i.setHasGenericMember()}return i.setResolved(),i},r.prototype.resolveTypeReference=function(e,t,n){if(e===null)return null;var r=this.getSymbolAndDiagnosticsForAST(e);return r||(r=this.computeTypeReferenceSymbol(e,t,n),r.symbol.isGeneric()||this.setSymbolAndDiagnosticsForAST(e,r,n)),r},r.prototype.computeTypeReferenceSymbol=function(n,r,i){var s=null,o=null,u=null;if(n.term.nodeType===20){var a=i.resolvingTypeReference;i.resolvingTypeReference=!0,u=this.resolveTypeNameExpression(n.term,r,i),s=u.symbol,i.resolvingTypeReference=a}else if(n.term.nodeType===12)s=this.resolveFunctionTypeSignature(n.term,r,i);else if(n.term.nodeType===14)s=this.resolveInterfaceTypeReference(n.term,r,i);else if(n.term.nodeType===10)u=this.resolveGenericTypeReference(n.term,r,i),s=u.symbol;else if(n.term.nodeType===32){var f=n.term;a=i.resolvingTypeReference,u=this.resolveDottedTypeNameExpression(f,r,i),s=u.symbol,i.resolvingTypeReference=a}else if(n.term.nodeType===5){var l=n.term;s=new e.PullStringConstantTypeSymbol(l.actualText);var c=new e.PullDecl(l.actualText,l.actualText,s.getKind(),null,new e.TextSpan(l.minChar,l.getLength()),r.getScriptName());this.currentUnit.addSynthesizedDecl(c),s.addDeclaration(c)}if(!s)return t.create(this.getNewErrorTypeSymbol(null),[i.postError(this.unitPath,n.term.minChar,n.term.getLength(),148)]);if(s.isError())return t.fromSymbol(s);if(n.arrayCount){var h=s.getArrayType();h||(this.cachedArrayInterfaceType().isResolved()||this.resolveDeclaredSymbol(this.cachedArrayInterfaceType(),r,i),s.isNamedTypeSymbol()&&s.isGeneric()&&!s.isTypeParameter()&&s.isResolved()&&!s.getIsSpecialized()&&s.getTypeParameters().length&&s.getTypeArguments()==null&&!this.isArrayOrEquivalent(s)&&this.isTypeRefWithoutTypeArgs(n)&&(i.postError(this.unitPath,n.minChar,n.getLength(),241,null,r,!0),s=this.specializeTypeToAny(s,r,i)),h=e.specializeToArrayType(this.semanticInfoChain.elementTypeSymbol,s,this,i),h||(h=this.semanticInfoChain.anyTypeSymbol));if(n.arrayCount>1)for(var p=n.arrayCount-1;p>0;p--){var d=h.getArrayType();d?h=d:h=e.specializeToArrayType(this.semanticInfoChain.elementTypeSymbol,h,this,i)}s=h}return t.fromSymbol(s)},r.prototype.resolveVariableDeclaration=function(t,n,r){var i=this.getDeclForAST(t);r&&i.getKind()==2048&&r.ensureSymbolIsBound();var s=i.getSymbol(),o=i.getValueDecl()?i.getValueDecl().getSymbol():null;if(s.isResolved()){var u=s.getType(),a=i.getValueDecl();if(a){var f=a.getSymbol();f&&!f.isResolved()&&(f.setType(u),f.setResolved())}return u}if(s.isResolving()&&!n.inSpecialization)return s.setType(this.semanticInfoChain.anyTypeSymbol),s.setResolved(),s;s.startResolving();var l=this.getEnclosingDecl(i);l=l?l:r;var c=null;if(t.typeExpr){var h=this.resolveTypeReference(t.typeExpr,l,n).symbol;if(!h)c=n.postError(this.unitPath,t.minChar,t.getLength(),149,[t.id.actualText],i),s.setType(this.getNewErrorTypeSymbol(c)),o&&n.setTypeInContext(o,this.semanticInfoChain.anyTypeSymbol);else if(h.isError())n.setTypeInContext(s,h),o&&n.setTypeInContext(o,h);else{h.isNamedTypeSymbol()&&h.isGeneric()&&!h.isTypeParameter()&&h.isResolved()&&!h.getIsSpecialized()&&h.getTypeParameters().length&&h.getTypeArguments()==null&&!this.isArrayOrEquivalent(h)&&this.isTypeRefWithoutTypeArgs(t.typeExpr)&&(n.postError(this.unitPath,t.typeExpr.minChar,t.typeExpr.getLength(),241,null,r,!0),h=this.specializeTypeToAny(h,r,n));if(h.isContainer()){var p=h.getExportAssignedTypeSymbol();if(p)h=p;else{var d=h.getType().getInstanceSymbol();!d||!e.PullHelpers.symbolIsEnum(d)?h=this.getNewErrorTypeSymbol(c):h=d.getType()}}else if(s.getIsVarArg()&&!h.isArray()&&h!=this.cachedArrayInterfaceType()){var c=n.postError(this.unitPath,t.minChar,t.getLength(),230,null,r);h=this.getNewErrorTypeSymbol(c)}n.setTypeInContext(s,h),o&&o.setType(h);if(t.nodeType===19&&r&&(h.isGeneric()&&!h.isArray()||this.isTypeArgumentOrWrapper(h))){var v=r.getSpecializingSignatureSymbol();v&&v.setHasGenericParameter()}}}else if(t.init){var m=this.resolveAST(t.init,!1,l,n),g=m&&m.symbol;g?(n.setTypeInContext(s,this.widenType(g.getType())),g.addOutgoingLink(s,2),o&&(n.setTypeInContext(o,g.getType()),g.addOutgoingLink(o,2))):(c=n.postError(this.unitPath,t.minChar,t.getLength(),149,[t.id.actualText],i),n.setTypeInContext(s,this.getNewErrorTypeSymbol(c)),o&&n.setTypeInContext(o,this.semanticInfoChain.anyTypeSymbol))}else if(s.getKind()===4){d=s.getInstanceSymbol();var y=d.getType();y?n.setTypeInContext(s,y):n.setTypeInContext(s,this.semanticInfoChain.anyTypeSymbol)}else{var b=this.semanticInfoChain.anyTypeSymbol;s.getIsVarArg()&&(b=e.specializeToArrayType(this.cachedArrayInterfaceType(),b,this,n)),n.setTypeInContext(s,b),o&&o.setType(b)}return s.setResolved(),o&&o.setResolved(),s},r.prototype.resolveTypeParameterDeclaration=function(e,t){var n=this.getDeclForAST(e),r=n.getSymbol();if(r.isResolved()||r.isResolving())return r;r.startResolving();if(e.constraint){var i=this.getEnclosingDecl(n),s=this.resolveTypeReference(e.constraint,i,t).symbol;s.isNamedTypeSymbol()&&s.isGeneric()&&!s.isTypeParameter()&&s.getTypeParameters().length&&s.getTypeArguments()==null&&!this.isArrayOrEquivalent(s)&&s.isResolved()&&this.isTypeRefWithoutTypeArgs(e.constraint)&&(t.postError(this.unitPath,e.constraint.minChar,e.constraint.getLength(),241,null,i,!0),s=this.specializeTypeToAny(s,i,t)),s&&r.setConstraint(s)}return r.setResolved(),r},r.prototype.resolveFunctionBodyReturnTypes=function(t,n,r,i,s){var o=this,u=[],a=[i],f=function(e,t,n){var r=!0;switch(e.nodeType){case 12:r=!1;break;case 93:var i=e;u[u.length]={returnStatement:i,enclosingDecl:a[a.length-1]},r=!1;break;case 101:case 99:a[a.length]=o.getDeclForAST(e);break;default:}return n.options.goChildren=r,e},l=function(e,t,n){switch(e.nodeType){case 101:case 99:a.length--;break;default:}return n.options.goChildren=!0,e};e.getAstWalkerFactory().walk(t.block,f,l);if(!u.length)n.setReturnType(this.semanticInfoChain.voidTypeSymbol);else{var c=[],h;for(var p=0;p<u.length;p++)if(u[p].returnStatement.returnExpression){h=this.resolveAST(u[p].returnStatement.returnExpression,r,u[p].enclosingDecl,s).symbol.getType();if(h.isError()){n.setReturnType(h);return}c[c.length]=h}if(!c.length)n.setReturnType(this.semanticInfoChain.voidTypeSymbol);else{var d={getLength:function(){return c.length},setTypeAtIndex:function(e,t){},getTypeAtIndex:function(e){return c[e].getType()}};h=this.findBestCommonType(c[0],null,d,s,new e.TypeComparisonInfo);if(r&&h==
this.semanticInfoChain.anyTypeSymbol){var v=s.getContextualType();v&&(h=v)}n.setReturnType(h?this.widenType(h):this.semanticInfoChain.anyTypeSymbol);if(this.isTypeArgumentOrWrapper(h)){var m=this.getDeclForAST(t),g=m.getSymbol();g&&g.getType().setHasGenericSignature()}for(var p=0;p<c.length;p++)c[p].addOutgoingLink(n,2)}}},r.prototype.resolveFunctionDeclaration=function(t,n){var r=this.getDeclForAST(t),i=r.getSymbol(),s=r.getSpecializingSignatureSymbol(),o=!1,u=t.isConstructor||e.hasFlag(t.getFunctionFlags(),1024);if(s){if(s.isResolved())return i;if(u&&!s.isResolving()){var a=t.classDecl;if(a){var f=this.getDeclForAST(a),l=f.getSymbol();!l.isResolved()&&!l.isResolving()&&this.resolveDeclaredSymbol(l,this.getEnclosingDecl(f),n)}}var c;if(s.isResolving()){if(t.returnTypeAnnotation){var h=this.resolveTypeReference(t.returnTypeAnnotation,r,n).symbol;h?(this.isTypeArgumentOrWrapper(h)&&(s.setHasGenericParameter(),i&&i.getType().setHasGenericSignature()),s.setReturnType(h),u&&h===this.semanticInfoChain.voidTypeSymbol&&n.postError(this.unitPath,t.minChar,t.getLength(),200,null,r,!0)):(c=n.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),199,null,r),s.setReturnType(this.getNewErrorTypeSymbol(c)),o=!0)}else s.setReturnType(this.semanticInfoChain.anyTypeSymbol);return s.setResolved(),i}s.startResolving();if(t.typeArguments)for(var p=0;p<t.typeArguments.members.length;p++)this.resolveTypeParameterDeclaration(t.typeArguments.members[p],n);if(t.arguments)for(var p=0;p<t.arguments.members.length;p++)this.resolveVariableDeclaration(t.arguments.members[p],n,r);s.isGeneric()&&i&&i.getType().setHasGenericSignature();if(t.returnTypeAnnotation){var d=s.getReturnType();h=this.resolveTypeReference(t.returnTypeAnnotation,r,n).symbol,h?this.isTypeArgumentOrWrapper(h)&&d&&!this.isTypeArgumentOrWrapper(d)||(this.isTypeArgumentOrWrapper(h)&&(s.setHasGenericParameter(),i&&i.getType().setHasGenericSignature()),s.setReturnType(h),u&&h===this.semanticInfoChain.voidTypeSymbol&&n.postError(this.unitPath,t.minChar,t.getLength(),200,null,r,!0)):(c=n.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),199,null,r),s.setReturnType(this.getNewErrorTypeSymbol(c)),o=!0)}else t.isConstructor||(t.isSignature()?s.setReturnType(this.semanticInfoChain.anyTypeSymbol):this.resolveFunctionBodyReturnTypes(t,s,!1,r,n));o||s.setResolved()}return i},r.prototype.resolveGetAccessorDeclaration=function(e,t){var n=this.getDeclForAST(e),r=n.getSymbol(),i=r.getGetter(),s=i.getType(),o=s.getCallSignatures()[0],u=!1,a;if(o){if(o.isResolved())return r;if(o.isResolving())return o.setReturnType(this.semanticInfoChain.anyTypeSymbol),o.setResolved(),r;o.startResolving();if(e.arguments)for(var f=0;f<e.arguments.members.length;f++)this.resolveVariableDeclaration(e.arguments.members[f],t,n);o.hasGenericParameter()&&i&&s.setHasGenericSignature();if(e.returnTypeAnnotation){var l=this.resolveTypeReference(e.returnTypeAnnotation,n,t).symbol;l?(this.isTypeArgumentOrWrapper(l)&&(o.setHasGenericParameter(),i&&s.setHasGenericSignature()),o.setReturnType(l)):(a=t.postError(this.unitPath,e.returnTypeAnnotation.minChar,e.returnTypeAnnotation.getLength(),199,null,n),o.setReturnType(this.getNewErrorTypeSymbol(a)),u=!0)}else e.isSignature()?o.setReturnType(this.semanticInfoChain.anyTypeSymbol):this.resolveFunctionBodyReturnTypes(e,o,!1,n,t);u||o.setResolved()}var c=o.getReturnType(),h=r.getSetter();if(h){var p=h.getType(),d=p.getCallSignatures()[0];if(d.isResolved()){var v=d.getParameters();if(v.length){var m=v[0],g=m.getType();this.typesAreIdentical(c,g)||(a=t.postError(this.unitPath,e.minChar,e.getLength(),167,null,this.getEnclosingDecl(n)),r.setType(this.getNewErrorTypeSymbol(a)))}}else r.setType(c)}else r.setType(c);return r},r.prototype.resolveSetAccessorDeclaration=function(e,t){var n=this.getDeclForAST(e),r=n.getSymbol(),i=r.getSetter(),s=i.getType(),o=s.getCallSignatures()[0],u=!1;if(o){if(o.isResolved())return r;if(o.isResolving())return o.setReturnType(this.semanticInfoChain.anyTypeSymbol),o.setResolved(),r;o.startResolving();if(e.arguments)for(var a=0;a<e.arguments.members.length;a++)this.resolveVariableDeclaration(e.arguments.members[a],t,n);o.hasGenericParameter()&&i&&s.setHasGenericSignature(),u||o.setResolved()}var f=o.getParameters(),l=r.getGetter(),c=f.length?f[0].getType():l?l.getType():this.semanticInfoChain.undefinedTypeSymbol;if(l){var h=l.getType(),p=h.getCallSignatures()[0];c==this.semanticInfoChain.undefinedTypeSymbol&&(c=h);if(p.isResolved()){var d=p.getReturnType();if(!this.typesAreIdentical(c,d))if(this.isAnyOrEquivalent(c))r.setType(d),c.isError()||f[0].setType(d);else{var v=t.postError(this.unitPath,e.minChar,e.getLength(),167,null,this.getEnclosingDecl(n));r.setType(this.getNewErrorTypeSymbol(v))}}else r.setType(c)}else r.setType(c);return r},r.prototype.resolveAST=function(n,r,i,s){e.globalSemanticInfoChain=this.semanticInfoChain,e.globalBinder&&(e.globalBinder.semanticInfoChain=this.semanticInfoChain);switch(n.nodeType){case 101:case 99:case 2:return t.fromSymbol(null);case 15:return t.fromSymbol(this.resolveModuleDeclaration(n,s));case 14:return t.fromSymbol(this.resolveInterfaceDeclaration(n,s));case 13:return t.fromSymbol(this.resolveClassDeclaration(n,s));case 17:case 19:return t.fromSymbol(this.resolveVariableDeclaration(n,s,i));case 9:return t.fromSymbol(this.resolveTypeParameterDeclaration(n,s));case 16:return t.fromSymbol(this.resolveImportDeclaration(n,s));case 22:return this.resolveObjectLiteralExpression(n,r,i,s);case 10:return this.resolveGenericTypeReference(n,i,s);case 20:return s.resolvingTypeReference?this.resolveTypeNameExpression(n,i,s):this.resolveNameExpression(n,i,s);case 32:return s.resolvingTypeReference?this.resolveDottedTypeNameExpression(n,i,s):this.resolveDottedNameExpression(n,i,s);case 10:return this.resolveGenericTypeReference(n,i,s);case 12:var o=n;return o.isGetAccessor()?t.fromSymbol(this.resolveGetAccessorDeclaration(o,s)):o.isSetAccessor()?t.fromSymbol(this.resolveSetAccessorDeclaration(o,s)):r||o.getFunctionFlags()&8192||o.getFunctionFlags()&2048||o.getFunctionFlags()&16384?t.fromSymbol(this.resolveFunctionExpression(o,r,i,s)):t.fromSymbol(this.resolveFunctionDeclaration(o,s));case 21:return this.resolveArrayLiteralExpression(n,r,i,s);case 29:return this.resolveThisExpression(n,i,s);case 30:return this.resolveSuperExpression(n,i,s);case 36:return this.resolveCallExpression(n,r,i,s);case 37:return this.resolveNewExpression(n,r,i,s);case 78:return this.resolveTypeAssertionExpression(n,r,i,s);case 11:return this.resolveTypeReference(n,i,s);case 87:return this.resolveExportAssignmentStatement(n,i,s);case 7:return t.fromSymbol(this.semanticInfoChain.numberTypeSymbol);case 5:return t.fromSymbol(this.semanticInfoChain.stringTypeSymbol);case 8:return t.fromSymbol(this.semanticInfoChain.nullTypeSymbol);case 3:case 4:return t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol);case 24:return t.fromSymbol(this.semanticInfoChain.voidTypeSymbol);case 38:return this.resolveAssignmentStatement(n,r,i,s);case 73:case 57:case 56:case 58:case 59:case 60:case 61:case 63:case 62:return t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol);case 64:case 39:return this.resolveArithmeticExpression(n,r,i,s);case 40:case 42:case 41:case 43:case 46:case 44:case 72:case 65:case 66:case 67:case 68:case 53:case 55:case 26:case 27:case 76:case 74:case 77:case 75:return t.fromSymbol(this.semanticInfoChain.numberTypeSymbol);case 69:case 70:case 71:case 47:case 48:case 49:return t.fromSymbol(this.semanticInfoChain.numberTypeSymbol);case 35:return this.resolveIndexExpression(n,r,i,s);case 51:return this.resolveLogicalOrExpression(n,r,i,s);case 52:return this.resolveLogicalAndExpression(n,r,i,s);case 34:return t.fromSymbol(this.semanticInfoChain.stringTypeSymbol);case 95:return t.fromSymbol(this.semanticInfoChain.voidTypeSymbol);case 28:return t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol);case 50:return this.resolveConditionalExpression(n,i,s);case 6:return this.resolveRegularExpressionLiteral();case 79:return this.resolveParenthesizedExpression(n,i,s);case 88:return this.resolveExpressionStatement(n,r,i,s);case 33:return t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol)}return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.resolveRegularExpressionLiteral=function(){return this.cachedRegExpInterfaceType()?t.fromSymbol(this.cachedRegExpInterfaceType()):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.isNameOrMemberAccessExpression=function(e){var t=e;while(t)if(t.nodeType===88)t=t.expression;else{if(t.nodeType!==79)return t.nodeType===20?!0:t.nodeType===32?!0:!1;t=t.expression}},r.prototype.resolveNameSymbol=function(t,n){return t&&!n.canUseTypeSymbol&&t!=this.semanticInfoChain.undefinedTypeSymbol&&t!=this.semanticInfoChain.nullTypeSymbol&&(t.isPrimitive()||!(t.getKind()&e.PullElementKind.SomeValue))&&(t=null),t},r.prototype.resolveNameExpression=function(e,t,n){var r=this.getSymbolAndDiagnosticsForAST(e),i=r!=null;i||(r=this.computeNameExpression(e,t,n));var s=r.symbol;return s.isResolved()||this.resolveDeclaredSymbol(s,t,n),!i&&!this.isAnyOrEquivalent(s.getType())&&this.setSymbolAndDiagnosticsForAST(e,r,n),r},r.prototype.computeNameExpression=function(n,r,i){if(n.isMissing())return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);var s=n.text,o=r!==null?e.getPathToDecl(r):[];r&&!o.length&&(o=[r]);var u=null,a=this.getSymbolFromDeclPath(s,o,e.PullElementKind.SomeValue);!a&&s==="arguments"&&r&&r.getKind()&e.PullElementKind.SomeFunction&&(a=this.cachedFunctionArgumentsSymbol,this.cachedIArgumentsInterfaceType()&&!this.cachedIArgumentsInterfaceType().isResolved()&&this.resolveDeclaredSymbol(this.cachedIArgumentsInterfaceType(),r,i)),a||(a=this.getSymbolFromDeclPath(s,o,256),a&&!a.isAlias()&&(a=null));if(!a)return t.create(this.getNewErrorTypeSymbol(null,s),[i.postError(this.unitPath,n.minChar,n.getLength(),166,[n.actualText])]);if(a.isType()&&a.isAlias()){u=a,u.setIsUsedAsValue(),a.isResolved()||this.resolveDeclaredSymbol(a,r,i);var f=a.getExportAssignedValueSymbol();f?a=f:u=null}return t.fromAlias(a,u)},r.prototype.resolveDottedNameExpression=function(e,t,n){var r=this.getSymbolAndDiagnosticsForAST(e),i=r!=null;i||(r=this.computeDottedNameExpressionSymbol(e,t,n));var s=r&&r.symbol;return s&&!s.isResolved()&&this.resolveDeclaredSymbol(s,t,n),!i&&!this.isAnyOrEquivalent(s.getType())&&(this.setSymbolAndDiagnosticsForAST(e,r,n),this.setSymbolAndDiagnosticsForAST(e.operand2,r,n)),r},r.prototype.isPrototypeMember=function(e,t,n){var r=e.operand2.text;if(r==="prototype"){var i=n.canUseTypeSymbol;n.canUseTypeSymbol=!0;var s=this.resolveAST(e.operand1,!1,t,n).symbol.getType();n.canUseTypeSymbol=i;if(s){if(s.isClass()||s.isConstructor())return!0;var o=s.getAssociatedContainerType();if(o&&o.isClass())return!0}}return!1},r.prototype.computeDottedNameExpressionSymbol=function(n,r,i){if(n.operand2.isMissing())return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);var s=n.operand2.text,o=i.canUseTypeSymbol;i.canUseTypeSymbol=!0;var u=this.resolveAST(n.operand1,!1,r,i).symbol;i.canUseTypeSymbol=o;var a=u.getType();u.isAlias()&&u.setIsUsedAsValue();if(this.isAnyOrEquivalent(a))return t.fromSymbol(a);if(!a)return t.create(this.getNewErrorTypeSymbol(null),[i.postError(this.unitPath,n.operand2.minChar,n.operand2.getLength(),164,[n.operand2.actualText])]);a!==this.semanticInfoChain.numberTypeSymbol&&u.getKind()!=67108864||!this.cachedNumberInterfaceType()?a===this.semanticInfoChain.stringTypeSymbol&&this.cachedStringInterfaceType()?a=this.cachedStringInterfaceType():a===this.semanticInfoChain.booleanTypeSymbol&&this.cachedBooleanInterfaceType()&&(a=this.cachedBooleanInterfaceType()):a=this.cachedNumberInterfaceType();if(!a.isResolved()){var f=this.resolveDeclaredSymbol(a,r,i);f!=a&&(u.isType()||i.setTypeInContext(u,f),a=f)}if(a.isContainer()&&!a.isAlias()){var l=a.getInstanceSymbol();l&&(a=l.getType())}if(this.isPrototypeMember(n,r,i)){if(a.isClass())return t.fromSymbol(a);var c=a.getAssociatedContainerType();if(c&&c.isClass())return t.fromSymbol(c)}a.isTypeParameter()&&(a=this.substituteUpperBoundForType(a));var h=null;!(u.isType()&&u.isClass()&&this.isNameOrMemberAccessExpression(n.operand1))&&!h&&(h=this.getMemberSymbol(s,e.PullElementKind.SomeValue,a),h=this.resolveNameSymbol(h,i));if(!h){if(a.isClass()){var p=a.getConstructorMethod().getType();h=this.getMemberSymbol(s,e.PullElementKind.SomeValue,p),h||(h=this.getMemberSymbol(s,e.PullElementKind.SomeValue,a))}else if((a.getCallSignatures().length||a.getConstructSignatures().length)&&this.cachedFunctionInterfaceType())h=this.getMemberSymbol(s,e.PullElementKind.SomeValue,this.cachedFunctionInterfaceType());else if(a.isContainer()){var d=a.isAlias()?a.getType():a,v=d.getInstanceSymbol();if(v){var m=v.getType();h=this.getMemberSymbol(s,e.PullElementKind.SomeValue,m)}}else{var g=a.getAssociatedContainerType();g&&!g.isClass()&&(h=this.getMemberSymbol(s,e.PullElementKind.SomeValue,g))}h=this.resolveNameSymbol(h,i),!h&&!a.isPrimitive()&&this.cachedObjectInterfaceType()&&(h=this.getMemberSymbol(s,e.PullElementKind.SomeValue,this.cachedObjectInterfaceType()));if(!h)return t.create(this.getNewErrorTypeSymbol(null,s),[i.postError(this.unitPath,n.operand2.minChar,n.operand2.getLength(),165,[n.operand2.actualText,a.getDisplayName()])])}return t.fromSymbol(h)},r.prototype.resolveTypeNameExpression=function(n,r,i){var s=this.getSymbolAndDiagnosticsForAST(n);if(!s||!s.symbol.isType())s=this.computeTypeNameExpression(n,r,i),this.setSymbolAndDiagnosticsForAST(n,s,i);var o=s&&s.symbol;if(!o.isResolved()){var u=i.resolvingNamespaceMemberAccess;i.resolvingNamespaceMemberAccess=!1,this.resolveDeclaredSymbol(o,r,i),i.resolvingNamespaceMemberAccess=u}if(o&&!(o.isTypeParameter()&&o.isFunctionTypeParameter()&&i.isSpecializingSignatureAtCallSite&&!i.isSpecializingConstructorMethod)){var a=i.findSpecializationForType(o);o.isTypeParameter()&&a!=o&&e.shouldSpecializeTypeParameterForTypeParameter(a,o)&&(o=a);if(o!=s.symbol)return t.fromSymbol(o)}return s},r.prototype.computeTypeNameExpression=function(n,r,i){if(n.isMissing())return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);var s=n.text;if(s==="any")return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);if(s==="string")return t.fromSymbol(this.semanticInfoChain.stringTypeSymbol);if(s==="number")return t.fromSymbol(this.semanticInfoChain.numberTypeSymbol);if(s==="bool")return this.compilationSettings.disallowBool&&!this.currentUnit.getProperties().unitContainsBool?(this.currentUnit.getProperties().unitContainsBool=!0,t.create(this.semanticInfoChain.booleanTypeSymbol,[i.postError(this.unitPath,n.minChar,n.getLength(),169)])):t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol);if(s==="boolean")return t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol);if(s==="void")return t.fromSymbol(this.semanticInfoChain.voidTypeSymbol);var o=r!==null?e.getPathToDecl(r):[];r&&!o.length&&(o=[r]);var u=i.resolvingNamespaceMemberAccess?e.PullElementKind.SomeContainer:e.PullElementKind.SomeType,a=i.resolvingNamespaceMemberAccess?e.PullElementKind.SomeType:e.PullElementKind.SomeContainer,f=this.getSymbolFromDeclPath(s,o,u);f||(f=this.getSymbolFromDeclPath(s,o,a));if(!f)return t.create(this.getNewErrorTypeSymbol(null,s),[i.postError(this.unitPath,n.minChar,n.getLength(),166,[n.actualText])]);if(f.isAlias()){if(!f.isResolved()){var l=i.resolvingNamespaceMemberAccess;i.resolvingNamespaceMemberAccess=!1,this.resolveDeclaredSymbol(f,r,i),i.resolvingNamespaceMemberAccess=l}var c=f.getType();c&&!c.isResolved()&&this.resolveDeclaredSymbol(c,r,i);var h=f.getExportAssignedTypeSymbol();h&&(f=h)}if(f.isTypeParameter()&&r&&r.getKind()&e.PullElementKind.SomeFunction&&r.getFlags()&16){var p=f.getDeclarations()[0].getParentDecl();if(p.getKind()==8)return t.create(this.getNewErrorTypeSymbol(null),[i.postError(this.unitPath,n.minChar,n.getLength(),228)])}return t.fromSymbol(f)},r.prototype.addDiagnostic=function(e,t){return e||(e=[]),e.push(t),e},r.prototype.resolveGenericTypeReference=function(n,r,i){var s=i.resolvingTypeReference;i.resolvingTypeReference=!0;var o=this.resolveAST(n.name,!1,r,i).symbol.getType();i.resolvingTypeReference=s;if(o.isError())return t.fromSymbol(o);!o.isResolving()&&!o.isResolved()&&this.resolveDeclaredSymbol(o,r,i);var u=[];if(!i.isResolvingTypeArguments(n)){i.startResolvingTypeArguments(n);if(n.typeArguments&&n.typeArguments.members.length)for(var a=0;a<n.typeArguments.members.length;a++){var f=this.resolveTypeReference(n.typeArguments.members[a],r,i).symbol;f.isNamedTypeSymbol()&&f.isGeneric()&&!f.isTypeParameter()&&f.isResolved()&&!f.getIsSpecialized()&&f.getTypeParameters().length&&f.getTypeArguments()==null&&!this.isArrayOrEquivalent(f)&&this.isTypeRefWithoutTypeArgs(n.typeArguments.members[a])&&(i.postError(this.unitPath,n.typeArguments.members[a].minChar,n.typeArguments.members[a].getLength(),241,null,r,!0),f=this.specializeTypeToAny(f,r,i)),f.isTypeParameter()&&f.isFunctionTypeParameter()&&i.isSpecializingSignatureAtCallSite&&!i.isSpecializingConstructorMethod?u[a]=f:u[a]=i.findSpecializationForType(f)}i.doneResolvingTypeArguments()}var l=o.getTypeParameters();if(u.length&&u.length!=l.length)return t.create(this.getNewErrorTypeSymbol(null),[i.postError(this.unitPath,n.minChar,n.getLength(),161,[o.toString(),o.getTypeParameters().length])]);var c=e.specializeType(o,u,this,r,i,n),h=null,p=null,d=null;for(var v=0;v<u.length&&v<l.length;v++){f=u[v],h=l[v].getConstraint();if(h){if(h.isTypeParameter())for(var m=0;m<l.length&&m<u.length;m++)l[m]==h&&(h=u[m]);f.isTypeParameter()&&(p=f.getConstraint(),p&&(f=p));if(f.isResolving())return t.fromSymbol(c);this.sourceIsAssignableToTarget(f,h,i)||(d=this.addDiagnostic(d,i.postError(this.unitPath,n.minChar,n.getLength(),157,[f.toString(!0),h.toString(!0),l[v].toString(!0)])))}}return t.create(c,d)},r.prototype.resolveDottedTypeNameExpression=function(e,t,n){var r=this.getSymbolAndDiagnosticsForAST(e);r||(r=this.computeDottedTypeNameExpression(e,t,n),this.setSymbolAndDiagnosticsForAST(e,r,n));var i=r.symbol;return i.isResolved()||this.resolveDeclaredSymbol(i,t,n),r},r.prototype.computeDottedTypeNameExpression=function(n,r,i){if(n.operand2.isMissing())return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);var s=n.operand2.text,o=i.resolvingTypeReference,u=i.resolvingNamespaceMemberAccess;i.resolvingNamespaceMemberAccess=!0,i.resolvingTypeReference=!0;var a=this.resolveAST(n.operand1,!1,r,i).symbol;i.resolvingTypeReference=o,i.resolvingNamespaceMemberAccess=u;var f=a.getType();i.isResolvingClassExtendedType&&a.isAlias()&&a.setIsUsedAsValue();if(this.isAnyOrEquivalent(f))return t.fromSymbol(f);if(!f)return t.create(this.getNewErrorTypeSymbol(null),[i.postError(this.unitPath,n.operand2.minChar,n.operand2.getLength(),164,[n.operand2.actualText])]);var l=this.getMemberSymbol(s,e.PullElementKind.SomeType,f);if(!l&&f.isContainer()){var c=f.getExportAssignedContainerSymbol();c&&(l=this.getMemberSymbol(s,e.PullElementKind.SomeType,c))}if(!l&&r){var h=r;while(h){if(h.getKind()&e.PullElementKind.SomeContainer)break;h=h.getParentDecl()}if(h){var p=h.getSymbol().getType();p===f&&(l=this.getMemberSymbol(s,e.PullElementKind.SomeType,f))}}return l?t.fromSymbol(l):t.create(this.getNewErrorTypeSymbol(null,s),[i.postError(this.unitPath,n.operand2.minChar,n.operand2.getLength(),165,[n.operand2.actualText,f.getName()])])},r.prototype.resolveFunctionExpression=function(t,n,r,i){var s=null,o=this.getDeclForAST(t);if(o&&o.hasSymbol()){s=o.getSymbol();if(s.isResolved())return s}var u=n,a=null,f=null;t.returnTypeAnnotation&&(u=!1);if(u&&t.arguments)for(var l=0;l<t.arguments.members.length;l++)if(t.arguments.members[l].typeExpr){u=!1;break}u&&(a=i.getContextualType(),a&&(this.resolveDeclaredSymbol(a,r,i),a&&(f=a.getCallSignatures()[0])));var c=this.semanticInfoChain.getUnit(this.unitPath),h=new e.DeclCollectionContext(c);h.scriptName=this.unitPath,r&&h.pushParent(r),e.getAstWalkerFactory().walk(t,e.preCollectDecls,e.postCollectDecls,null,h);var o=this.getDeclForAST(t);this.currentUnit.addSynthesizedDecl(o);var p=new e.PullSymbolBinder(this.semanticInfoChain);p.setUnit(this.unitPath),p.bindFunctionExpressionToPullSymbol(o),s=o.getSymbol();var d=s.getType().getCallSignatures()[0];if(t.arguments){var v=[],m=null;f&&(v=f.getParameters());for(var l=0;l<t.arguments.members.length;l++)l<v.length&&!v[l].getIsVarArg()?m=v[l]:v.length&&v[v.length-1].getIsVarArg()&&(m=v[v.length-1].getType().getElementType()),this.resolveFunctionExpressionParameter(t.arguments.members[l],m,o,i)}if(t.returnTypeAnnotation){var g=this.resolveTypeReference(t.returnTypeAnnotation,o,i).symbol;d.setReturnType(g)}else if(f){var y=f.getReturnType();y?(i.pushContextualType(y,i.inProvisionalResolution(),null),this.resolveFunctionBodyReturnTypes(t,d,!0,o,i),i.popContextualType()):d.setReturnType(this.semanticInfoChain.anyTypeSymbol)}else this.resolveFunctionBodyReturnTypes(t,d,!1,o,i);return a&&s.addOutgoingLink(a,1),s.setResolved(),s},r.prototype.resolveThisExpression=function(e,t,n){var r=this.getSymbolAndDiagnosticsForAST(e);return r||(r=this.computeThisExpressionSymbol(e,t,n),this.setSymbolAndDiagnosticsForAST(e,r,n)),r},r.prototype.computeThisExpressionSymbol=function(n,r,i){if(r){var s=r.getKind(),o;if(s===4)return t.create(this.getNewErrorTypeSymbol(null),[i.postError(this.currentUnit.getPath(),n.minChar,n.getLength(),178)]);if(!(s&(e.PullElementKind.SomeFunction|1|e.PullElementKind.SomeBlock)))return t.create(this.getNewErrorTypeSymbol(null),[i.postError(this.currentUnit.getPath(),n.minChar,n.getLength(),179)]);var u=e.getPathToDecl(r);if(u.length)for(var a=u.length-1;a>=0;a--){var f=u[a],l=f.getKind(),c=f.getFlags();if(c&16)break;if(l===131072&&!e.hasFlag(c,8192))break;if(l===16384)break;if(l===8){var h=f.getSymbol();return t.fromSymbol(h)}}}return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.resolveSuperExpression=function(n,r,i){if(!r)return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);var s=r!==null?e.getPathToDecl(r):[],o=null;if(s.length)for(var u=s.length-1;u>=0;u--){var a=s[u],f=a.getFlags();if(a.getKind()===131072&&!(f&8192))break;if(f&16)break;if(a.getKind()===8){o=a.getSymbol();break}}if(o){o.isResolved()||this.resolveDeclaredSymbol(o,r,i);var l=o.getExtendedTypes();if(l.length)return t.fromSymbol(l[0])}return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.resolveObjectLiteralExpression=function(e,t,n,r,i){var s=this.getSymbolAndDiagnosticsForAST(e);if(!s||i)s=this.computeObjectLiteralExpression(e,t,n,r,i),this.setSymbolAndDiagnosticsForAST(e,s,r);return s},r.prototype.computeObjectLiteralExpression=function(n,r,i,s,o){var u=n,a=e.TextSpan.fromBounds(u.minChar,u.limChar),f=new e.PullDecl("","",512,0,a,this.unitPath);this.currentUnit.addSynthesizedDecl(f),i&&f.setParentDecl(i),this.currentUnit.setDeclForAST(u,f),this.currentUnit.setASTForDecl(f,u);var l=new e.PullTypeSymbol("",16);l.addDeclaration(f),f.setSymbol(l);var c=u.operand,h=null;r&&(h=s.getContextualType(),this.resolveDeclaredSymbol(h,i,s));if(c){var p,d,v=null,m=!1;o&&(o.membersContextTypeSymbols=[]);for(var g=0,y=c.members.length;g<y;g++){p=c.members[g];var b=p.operand1,w,E;if(b.nodeType===20)E=b.actualText,w=b.text;else{if(b.nodeType!==5)return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);E=b.actualText,w=b.text}a=e.TextSpan.fromBounds(p.minChar,p.limChar);var S=new e.PullDecl(w,E,4096,4,a,this.unitPath);this.currentUnit.addSynthesizedDecl(S),f.addChildDecl(S),S.setParentDecl(f),this.semanticInfoChain.getUnit(this.unitPath).setDeclForAST(p,S),this.semanticInfoChain.getUnit(this.unitPath).setASTForDecl(S,p),d=new e.PullSymbol(w,4096),d.addDeclaration(S),S.setSymbol(d),h&&(v=this.getMemberSymbol(w,e.PullElementKind.SomeValue,h),v&&(this.resolveDeclaredSymbol(v,i,s),s.pushContextualType(v.getType(),s.inProvisionalResolution(),null),m=!0,o&&(o.membersContextTypeSymbols[g]=v.getType())));if(p.operand2.nodeType===12){var x=p.operand2;if(x.isAccessor()){var T=this.semanticInfoChain.getUnit(this.unitPath),N=new e.DeclCollectionContext(T);N.scriptName=this.unitPath,N.pushParent(f),e.getAstWalkerFactory().walk(x,e.preCollectDecls,e.postCollectDecls,null,N);var C=this.getDeclForAST(x);this.currentUnit.addSynthesizedDecl(C);var k=new e.PullSymbolBinder(this.semanticInfoChain);k.setUnit(this.unitPath),x.isGetAccessor()?k.bindGetAccessorDeclarationToPullSymbol(C):k.bindSetAccessorDeclarationToPullSymbol(C)}}var L=this.resolveAST(p.operand2,v!=null,i,s).symbol;m&&(s.popContextualType(),m=!1),s.setTypeInContext(d,L.getType()),d.setResolved(),this.setSymbolAndDiagnosticsForAST(p.operand1,t.fromSymbol(d),s),l.addMember(d,5)}}return l.setResolved(),t.fromSymbol(l)},r.prototype.resolveArrayLiteralExpression=function(e,t,n,r){var i=this.getSymbolAndDiagnosticsForAST(e);return i||(i=this.computeArrayLiteralExpressionSymbol(e,t,n,r),this.setSymbolAndDiagnosticsForAST(e,i,r)),i},r.prototype.computeArrayLiteralExpressionSymbol=function(n,r,i,s){var o=n.operand,u=this.semanticInfoChain.anyTypeSymbol,a=[],f=new e.TypeComparisonInfo,l=null;f.onlyCaptureFirstError=!0;if(r){var c=s.getContextualType();this.resolveDeclaredSymbol(c,i,s),c&&c.isArray()&&(l=c.getElementType())}if(o){r&&s.pushContextualType(l,s.inProvisionalResolution(),null);for(var h=0;h<o.members.length;h++)a[a.length]=this.resolveAST(o.members[h],r,i,s).symbol.getType();r&&s.popContextualType()}if(l&&!l.isTypeParameter()){u=l;for(var h=0;h<a.length;h++){var f=new e.TypeComparisonInfo,p=a[h],d=o.members[h];if(!this.sourceIsAssignableToTarget(p,l,s,f)){var v;return f.message?v=s.postError(this.getUnitPath(),d.minChar,d.getLength(),83,[p.toString(),l.toString(),f.message]):v=s.postError(this.getUnitPath(),d.minChar,d.getLength(),82,[p.toString(),l.toString()]),t.create(this.getNewErrorTypeSymbol(null),[v])}}}else{a.length?u=a[0]:l&&(u=l);var m={getLength:function(){return o.members.length},setTypeAtIndex:function(e,t){a[e]=t},getTypeAtIndex:function(e){return a[e]}};u=this.findBestCommonType(u,null,m,s,f);if(u===this.semanticInfoChain.undefinedTypeSymbol||u===this.semanticInfoChain.nullTypeSymbol)u=this.semanticInfoChain.anyTypeSymbol;u?c&&!c.isTypeParameter()&&this.sourceIsAssignableToTarget(u,c,s)&&(u=c):u=this.semanticInfoChain.anyTypeSymbol}var g=u.getArrayType();return g||(this.cachedArrayInterfaceType().isResolved()||this.resolveDeclaredSymbol(this.cachedArrayInterfaceType(),i,s),g=e.specializeToArrayType(this.semanticInfoChain.elementTypeSymbol,u,this,s),g||(g=this.semanticInfoChain.anyTypeSymbol)),t.fromSymbol(g)},r.prototype.resolveIndexExpression=function(e,t,n,r){var i=this.getSymbolAndDiagnosticsForAST(e);return i||(i=this.computeIndexExpressionSymbol(e,t,n,r),this.setSymbolAndDiagnosticsForAST(e,i,r)),i},r.prototype.computeIndexExpressionSymbol=function(n,r,i,s){var o=this.resolveAST(n.operand1,r,i,s).symbol,u=o.getType();if(this.isAnyOrEquivalent(u))return t.fromSymbol(u);var a=u.getElementType(),f=this.resolveAST(n.operand2,r,i,s).symbol.getType(),l=f===this.semanticInfoChain.numberTypeSymbol||e.PullHelpers.symbolIsEnum(f);if(a&&l)return t.fromSymbol(a);if(n.operand2.nodeType===5||n.operand2.nodeType===7){var c=n.operand2.nodeType===5?e.stripQuotes(n.operand2.actualText):e.quoteStr(n.operand2.value.toString()),h=this.getMemberSymbol(c,e.PullElementKind.SomeValue,u);if(h)return t.fromSymbol(h.getType())}var p=u.getIndexSignatures(),d=null,v=null,m=null,g,y;for(var b=0;b<p.length;b++){if(d&&v)break;m=p[b],g=m.getParameters();if(g.length){y=g[0].getType();if(y===this.semanticInfoChain.stringTypeSymbol){d=p[b];continue}if(y===this.semanticInfoChain.numberTypeSymbol||y.getKind()===64){v=p[b];continue}}}if(v&&(l||f===this.semanticInfoChain.anyTypeSymbol)){var w=v.getReturnType();return w||(w=this.semanticInfoChain.anyTypeSymbol),t.fromSymbol(w)}if(d&&(l||f===this.semanticInfoChain.anyTypeSymbol||f===this.semanticInfoChain.stringTypeSymbol)){var w=d.getReturnType();return w||(w=this.semanticInfoChain.anyTypeSymbol),t.fromSymbol(w)}if(l||f===this.semanticInfoChain.anyTypeSymbol||f===this.semanticInfoChain.stringTypeSymbol){var w=this.semanticInfoChain.anyTypeSymbol;return t.fromSymbol(w)}return t.create(this.getNewErrorTypeSymbol(null),[s.postError(this.getUnitPath(),n.minChar,n.getLength(),79,[u.toString(!1),f.toString(!1)])])},r.prototype.resolveBitwiseOperator=function(e,t,n,r){var i=e,s=this.resolveAST(i.operand1,t,n,r).symbol.getType(),o=this.resolveAST(i.operand2,t,n,r).symbol.getType();if(this.sourceIsSubtypeOfTarget(s,this.semanticInfoChain.numberTypeSymbol,r)&&this.sourceIsSubtypeOfTarget(o,this.semanticInfoChain.numberTypeSymbol,r))return this.semanticInfoChain.numberTypeSymbol;if(s===this.semanticInfoChain.booleanTypeSymbol&&o===this.semanticInfoChain.booleanTypeSymbol)return this.semanticInfoChain.booleanTypeSymbol;if(this.isAnyOrEquivalent(s)){if(this.isAnyOrEquivalent(o)||o===this.semanticInfoChain.numberTypeSymbol||o===this.semanticInfoChain.booleanTypeSymbol)return this.semanticInfoChain.anyTypeSymbol}else if(this.isAnyOrEquivalent(o))if(s===this.semanticInfoChain.numberTypeSymbol||s===this.semanticInfoChain.booleanTypeSymbol)return this.semanticInfoChain.anyTypeSymbol;return this.semanticInfoChain.anyTypeSymbol},r.prototype.resolveArithmeticExpression=function(e,n,r,i){var s=this.resolveAST(e.operand1,n,r,i).symbol.getType(),o=this.resolveAST(e.operand2,n,r,i).symbol.getType();return this.isNullOrUndefinedType(s)&&(s=o),this.isNullOrUndefinedType(o)&&(o=s),s=this.widenType(s),o=this.widenType(o),e.nodeType===64||e.nodeType===39?s===this.semanticInfoChain.stringTypeSymbol||o===this.semanticInfoChain.stringTypeSymbol?t.fromSymbol(this.semanticInfoChain.stringTypeSymbol):s===this.semanticInfoChain.numberTypeSymbol&&o===this.semanticInfoChain.numberTypeSymbol?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):this.sourceIsSubtypeOfTarget(s,this.semanticInfoChain.numberTypeSymbol,i)&&this.sourceIsSubtypeOfTarget(o,this.semanticInfoChain.numberTypeSymbol,i)?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol):s===this.semanticInfoChain.numberTypeSymbol&&o===this.semanticInfoChain.numberTypeSymbol?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):this.sourceIsSubtypeOfTarget(s,this.semanticInfoChain.numberTypeSymbol,i)&&this.sourceIsSubtypeOfTarget(o,this.semanticInfoChain.numberTypeSymbol,i)?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):this.isAnyOrEquivalent(s)||this.isAnyOrEquivalent(o)?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.resolveLogicalOrExpression=function(e,t,n,r){var i=this.getSymbolAndDiagnosticsForAST(e);return i||(i=this.computeLogicalOrExpressionSymbol(e,t,n,r),this.setSymbolAndDiagnosticsForAST(e,i,r)),i},r.prototype.computeLogicalOrExpressionSymbol=function(e,n,r,i){var s=this.resolveAST(e.operand1,n,r,i).symbol.getType(),o=this.resolveAST(e.operand2,n,r,i).symbol.getType();return this.isAnyOrEquivalent(s)||this.isAnyOrEquivalent(o)?t.fromSymbol(this.semanticInfoChain.anyTypeSymbol):s===this.semanticInfoChain.booleanTypeSymbol?o===this.semanticInfoChain.booleanTypeSymbol?t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol):s===this.semanticInfoChain.numberTypeSymbol?o===this.semanticInfoChain.numberTypeSymbol?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol):s===this.semanticInfoChain.stringTypeSymbol?o===this.semanticInfoChain.stringTypeSymbol?t.fromSymbol(this.semanticInfoChain.stringTypeSymbol):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol):this.sourceIsSubtypeOfTarget(s,o,i)?t.fromSymbol(o):this.sourceIsSubtypeOfTarget(o,s,i)?t.fromSymbol(s):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.resolveLogicalAndExpression=function(e,n,r,i){return t.fromSymbol(this.resolveAST(e.operand2,n,r,i).symbol.getType())},r.prototype.resolveConditionalExpression=function(e,t,n){var r=this.getSymbolAndDiagnosticsForAST(e);return r||(r=this.computeConditionalExpressionSymbol(e,t,n),this.setSymbolAndDiagnosticsForAST(e,r,n)),r},r.prototype.computeConditionalExpressionSymbol=function(e,n,r){var i=this.resolveAST(e.operand2,!1,n,r).symbol.getType(),s=this.resolveAST(e.operand3,!1,n,r).symbol.getType(),o=null;if(this.typesAreIdentical(i,s))o=i;else if(this.sourceIsSubtypeOfTarget(i,s,r)||this.sourceIsSubtypeOfTarget(s,i,r)){var u={getLength:function(){return 2},setTypeAtIndex:function(e,t){},getTypeAtIndex:function(e){return s}},a=this.findBestCommonType(i,null,u,r);a&&(o=a)}return o?t.fromSymbol(o):t.create(this.getNewErrorTypeSymbol(null),[r.postError(this.getUnitPath(),e.minChar
,e.getLength(),162,[i.toString(!1),s.toString(!1)])])},r.prototype.resolveParenthesizedExpression=function(e,t,n){return this.resolveAST(e.expression,!1,t,n).withoutDiagnostics()},r.prototype.resolveExpressionStatement=function(e,t,n,r){return this.resolveAST(e.expression,t,n,r).withoutDiagnostics()},r.prototype.resolveCallExpression=function(e,t,n,r,i){if(i)return this.computeCallExpressionSymbol(e,t,n,r,i);var s=this.getSymbolAndDiagnosticsForAST(e);if(!s||!s.symbol.isResolved())s=this.computeCallExpressionSymbol(e,t,n,r,null),this.setSymbolAndDiagnosticsForAST(e,s,r);return s},r.prototype.computeCallExpressionSymbol=function(n,r,i,s,o){var u=this.resolveAST(n.target,r,i,s).symbol,a=this.getLastIdentifierInTarget(n),f=u.getType();if(this.isAnyOrEquivalent(f))return n.typeArguments?t.create(this.getNewErrorTypeSymbol(null),[s.postError(this.unitPath,a.minChar,a.getLength(),225)]):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);var l=[],c=!1;if(n.target.nodeType===30){c=!0;if(!f.isClass())return l=this.addDiagnostic(l,s.postError(this.unitPath,a.minChar,a.getLength(),160)),t.create(this.getNewErrorTypeSymbol(null),l);u=f.getConstructorMethod(),f=u.getType()}var h=c?f.getConstructSignatures():f.getCallSignatures();!h.length&&f.getKind()==33554432&&(l=this.addDiagnostic(l,s.postError(this.unitPath,a.minChar,a.getLength(),229,[f.toString()])));var p=null,d=null,v=!1,m;if(n.typeArguments){p=[];if(n.typeArguments&&n.typeArguments.members.length)for(var g=0;g<n.typeArguments.members.length;g++){var y=this.resolveTypeReference(n.typeArguments.members[g],i,s).symbol;p[g]=s.findSpecializationForType(y)}}else c&&f.isGeneric()&&(p=f.getTypeArguments());if(f.isGeneric()){var b=[],w,E,S,x=null,T=s.specializingToAny,N=s.isSpecializingSignatureAtCallSite,C=h,k;for(var g=0;g<h.length;g++){S=h[g].getTypeParameters(),m=!1,k=!1;if(h[g].isGeneric()&&S.length&&!h[g].isFixed()){p?w=p:n.arguments&&(w=this.inferArgumentTypesForSignature(h[g],n.arguments,new e.TypeComparisonInfo,i,s),k=!0);if(w){d={};if(w.length){if(w.length!=S.length)continue;for(var L=0;L<S.length;L++)d[S[L].getSymbolID().toString()]=w[L];for(var L=0;L<S.length;L++){x=S[L].getConstraint();if(x){if(x.isTypeParameter())for(var A=0;A<S.length&&A<w.length;A++)S[A]==x&&(x=w[A]);x.isTypeParameter()&&(s.pushTypeSpecializationCache(d),x=e.specializeType(x,null,this,i,s),s.popTypeSpecializationCache()),s.isComparingSpecializedSignatures=!0,this.sourceIsAssignableToTarget(w[L],x,s)||(l=this.addDiagnostic(l,s.postError(this.unitPath,a.minChar,a.getLength(),157,[w[L].toString(!0),x.toString(!0),S[L].toString(!0)])),m=!0),s.isComparingSpecializedSignatures=!1;if(m)break}}}else{if(k){if(!h[g].parametersAreFixed())continue;h[g].hasGenericParameter()?s.specializingToAny=!0:b[b.length]=h[g]}s.specializingToAny=!0}if(m)continue;s.isSpecializingSignatureAtCallSite=!0,E=e.specializeSignature(h[g],!1,d,w,this,i,s),s.isSpecializingSignatureAtCallSite=N,s.specializingToAny=T,E&&(b[b.length]=E)}}else if(!n.typeArguments||!n.typeArguments.members.length)b[b.length]=h[g]}h.length&&!b.length&&(v=!0),h=b}var O=null;if(!h.length){o&&(o.targetSymbol=u,o.targetTypeSymbol=f,o.resolvedSignatures=C,o.candidateSignature=C&&C.length?C[0]:null,o.actualParametersContextTypeSymbols=I);if(!v){if(this.cachedFunctionInterfaceType()&&this.sourceIsSubtypeOfTarget(f,this.cachedFunctionInterfaceType(),s))return t.create(this.semanticInfoChain.anyTypeSymbol,l);l=this.addDiagnostic(l,s.postError(this.unitPath,n.minChar,n.getLength(),159)),O=this.getNewErrorTypeSymbol(null)}else l=this.addDiagnostic(l,s.postError(this.unitPath,n.minChar,n.getLength(),158)),O=this.getNewErrorTypeSymbol(null);return t.create(O,l)}var M=this.resolveOverloads(n,h,i,n.typeArguments!=null,s,l),_=M==null;if(!M){l=this.addDiagnostic(l,s.postError(this.unitPath,a.minChar,a.getLength(),158)),O=this.getNewErrorTypeSymbol(null);if(!h.length)return t.create(O,l);M=h[0];if(n.arguments)for(var A=0,D=n.arguments.members.length;A<D;A++){var P=n.arguments.members[A],H=this.getSymbolAndDiagnosticsForAST(P),B=H&&H.symbol;if(B){var j=B.getType();if(P.nodeType===12&&!this.canApplyContextualTypeToFunction(j,P,!0))continue;B.invalidate()}}}!M.isGeneric()&&n.typeArguments&&(l=this.addDiagnostic(l,s.postError(this.unitPath,a.minChar,a.getLength(),226)));var F=M.getReturnType(),I=[];if(n.arguments){var q=n.arguments.members.length,R=M.getParameters(),U=null,z=M.getDeclarations()[0];for(var g=0;g<q;g++)R.length&&(g<R.length-1||g<R.length&&!M.hasVariableParamList()?(d&&s.pushTypeSpecializationCache(d),this.resolveDeclaredSymbol(R[g],z,s),d&&s.popTypeSpecializationCache(),U=R[g].getType()):M.hasVariableParamList()&&(U=R[R.length-1].getType(),U.isArray()&&(U=U.getElementType()))),U&&(s.pushContextualType(U,s.inProvisionalResolution(),null),I[g]=U),this.resolveAST(n.arguments.members[g],U!=null,i,s),U&&(s.popContextualType(),U=null)}return o&&(o.targetSymbol=u,o.targetTypeSymbol=f,_&&C?(o.resolvedSignatures=C,o.candidateSignature=C[0]):(o.resolvedSignatures=h,o.candidateSignature=M),o.actualParametersContextTypeSymbols=I),O?t.create(O,l):(F||(F=this.semanticInfoChain.anyTypeSymbol),t.fromSymbol(F))},r.prototype.resolveNewExpression=function(e,t,n,r,i){if(i)return this.computeNewExpressionSymbol(e,t,n,r,i);var s=this.getSymbolAndDiagnosticsForAST(e);if(!s||!s.symbol.isResolved())s=this.computeNewExpressionSymbol(e,t,n,r,null),this.setSymbolAndDiagnosticsForAST(e,s,r);return s},r.prototype.computeNewExpressionSymbol=function(n,r,i,s,o){var u=null,a=this.resolveAST(n.target,r,i,s).symbol,f=a.isType()?a:a.getType(),l=this.getLastIdentifierInTarget(n);f.isClass()&&(f=f.getConstructorMethod().getType());var c=f.getConstructSignatures(),h=null,p=null,d=!1,v;if(this.isAnyOrEquivalent(f))return t.fromSymbol(f);c.length||(c=f.getCallSignatures(),d=!0);var m=[];if(c.length){if(n.typeArguments){h=[];if(n.typeArguments&&n.typeArguments.members.length)for(var g=0;g<n.typeArguments.members.length;g++){var y=this.resolveTypeReference(n.typeArguments.members[g],i,s).symbol;h[g]=s.findSpecializationForType(y)}}if(f.isGeneric()){var b=[],w,E,S,x=null,T=s.specializingToAny,N=s.isSpecializingSignatureAtCallSite=!0,C;for(var g=0;g<c.length;g++){v=!1;if(c[g].isGeneric()&&!c[g].isFixed()){h?w=h:n.arguments&&(w=this.inferArgumentTypesForSignature(c[g],n.arguments,new e.TypeComparisonInfo,i,s),C=!0);if(w){S=c[g].getTypeParameters(),p={};if(w.length){if(w.length<S.length)continue;for(var k=0;k<S.length;k++)p[S[k].getSymbolID().toString()]=w[k];for(var k=0;k<S.length;k++){x=S[k].getConstraint();if(x){if(x.isTypeParameter())for(var L=0;L<S.length&&L<w.length;L++)S[L]==x&&(x=w[L]);x.isTypeParameter()&&(s.pushTypeSpecializationCache(p),x=e.specializeType(x,null,this,i,s),s.popTypeSpecializationCache()),s.isComparingSpecializedSignatures=!0,this.sourceIsAssignableToTarget(w[k],x,s)||(m=this.addDiagnostic(m,s.postError(this.unitPath,l.minChar,l.getLength(),157,[w[k].toString(!0),x.toString(!0),S[k].toString(!0)])),v=!0),s.isComparingSpecializedSignatures=!1;if(v)break}}}else{if(C){if(!c[g].parametersAreFixed())continue;c[g].hasGenericParameter()?s.specializingToAny=!0:b[b.length]=c[g]}s.specializingToAny=!0}if(v)continue;s.isSpecializingSignatureAtCallSite=!0,E=e.specializeSignature(c[g],!1,p,w,this,i,s),s.specializingToAny=T,s.isSpecializingSignatureAtCallSite=N,E&&(b[b.length]=E)}}else if(!n.typeArguments||!n.typeArguments.members.length)b[b.length]=c[g]}c=b}var A=this.resolveOverloads(n,c,i,n.typeArguments!=null,s,m);o&&(o.targetSymbol=a,o.targetTypeSymbol=f,o.resolvedSignatures=c,o.candidateSignature=A,o.actualParametersContextTypeSymbols=[]);if(!c.length&&m){var O=this.getNewErrorTypeSymbol(null);return t.create(O,m)}var M=null;if(!A){m=this.addDiagnostic(m,s.postError(this.unitPath,l.minChar,l.getLength(),156)),M=this.getNewErrorTypeSymbol(null);if(!c.length)return t.create(M,m);A=c[0];if(n.arguments)for(var L=0,_=n.arguments.members.length;L<_;L++){var D=n.arguments.members[L],P=this.getSymbolAndDiagnosticsForAST(D),H=P&&P.symbol;if(H){var B=H.getType();if(D.nodeType===12&&!this.canApplyContextualTypeToFunction(B,D,!0))continue;H.invalidate()}}}u=A.getReturnType(),u&&!A.isGeneric()&&u.isGeneric()&&!u.getIsSpecialized()&&(h&&h.length?u=e.specializeType(u,h,this,i,s,n):u=this.specializeTypeToAny(u,i,s));if(d){if(u!=this.semanticInfoChain.voidTypeSymbol)return m=this.addDiagnostic(m,s.postError(this.unitPath,l.minChar,l.getLength(),155)),t.create(this.getNewErrorTypeSymbol(null),m);u=this.semanticInfoChain.anyTypeSymbol}u||(u=A.getReturnType(),u||(u=f));var j=[];if(n.arguments){var F=n.arguments.members.length,I=A.getParameters(),q=null,R=A.getDeclarations()[0];for(var g=0;g<F;g++)I.length&&(g<I.length-1||g<I.length&&!A.hasVariableParamList()?(p&&s.pushTypeSpecializationCache(p),this.resolveDeclaredSymbol(I[g],R,s),p&&s.popTypeSpecializationCache(),q=I[g].getType()):A.hasVariableParamList()&&(q=I[I.length-1].getType(),q.isArray()&&(q=q.getElementType()))),q&&(s.pushContextualType(q,s.inProvisionalResolution(),null),j[g]=q),this.resolveAST(n.arguments.members[g],q!=null,i,s),q&&(s.popContextualType(),q=null)}return o&&(o.targetSymbol=a,o.targetTypeSymbol=f,o.resolvedSignatures=c,o.candidateSignature=A,o.actualParametersContextTypeSymbols=j),M?t.create(M,m):(u||(u=this.semanticInfoChain.anyTypeSymbol),t.fromSymbol(u))}return f.isClass()?t.fromSymbol(u):(m=this.addDiagnostic(m,s.postError(this.unitPath,l.minChar,l.getLength(),154)),t.create(this.getNewErrorTypeSymbol(null),m))},r.prototype.resolveTypeAssertionExpression=function(e,t,n,r){return this.resolveTypeReference(e.castTerm,n,r)},r.prototype.resolveAssignmentStatement=function(e,t,n,r){var i=this.getSymbolAndDiagnosticsForAST(e);return i||(i=this.computeAssignmentStatementSymbol(e,t,n,r),this.setSymbolAndDiagnosticsForAST(e,i,r)),i},r.prototype.computeAssignmentStatementSymbol=function(e,n,r,i){var s=this.resolveAST(e.operand1,n,r,i).symbol.getType();return i.pushContextualType(s,i.inProvisionalResolution(),null),this.resolveAST(e.operand2,!0,r,i),i.popContextualType(),t.fromSymbol(s)},r.prototype.resolveBoundDecls=function(e,t){if(!e)return;switch(e.getKind()){case 1:var n=e.getChildDecls();for(var r=0;r<n.length;r++)this.resolveBoundDecls(n[r],t);break;case 32:case 4:case 64:var i=this.semanticInfoChain.getASTForDecl(e);this.resolveModuleDeclaration(i,t);break;case 16:var s=this.semanticInfoChain.getASTForDecl(e);this.resolveInterfaceDeclaration(s,t);break;case 8:var o=this.semanticInfoChain.getASTForDecl(e);this.resolveClassDeclaration(o,t);break;case 65536:case 16384:var u=this.semanticInfoChain.getASTForDecl(e);this.resolveFunctionDeclaration(u,t);break;case 262144:u=this.semanticInfoChain.getASTForDecl(e),this.resolveGetAccessorDeclaration(u,t);break;case 524288:u=this.semanticInfoChain.getASTForDecl(e),this.resolveSetAccessorDeclaration(u,t);break;case 4096:case 1024:case 2048:var a=this.semanticInfoChain.getASTForDecl(e);a&&this.resolveVariableDeclaration(a,t)}},r.prototype.mergeOrdered=function(t,n,r,i){if(this.isAnyOrEquivalent(t)||this.isAnyOrEquivalent(n))return this.semanticInfoChain.anyTypeSymbol;if(t===n)return t;if(n===this.semanticInfoChain.nullTypeSymbol&&t!=this.semanticInfoChain.nullTypeSymbol)return t;if(t===this.semanticInfoChain.nullTypeSymbol&&n!=this.semanticInfoChain.nullTypeSymbol)return n;if(t!==this.semanticInfoChain.voidTypeSymbol||n!==this.semanticInfoChain.voidTypeSymbol&&n!==this.semanticInfoChain.undefinedTypeSymbol&&n!==this.semanticInfoChain.nullTypeSymbol){if(t===this.semanticInfoChain.voidTypeSymbol&&n===this.semanticInfoChain.anyTypeSymbol)return n;if(n===this.semanticInfoChain.undefinedTypeSymbol&&t!=this.semanticInfoChain.voidTypeSymbol)return t;if(t===this.semanticInfoChain.undefinedTypeSymbol&&n!=this.semanticInfoChain.undefinedTypeSymbol)return n;if(t.isTypeParameter()&&!n.isTypeParameter())return n;if(!t.isTypeParameter()&&n.isTypeParameter())return t;if(t.isArray()&&n.isArray()){if(t.getElementType()===n.getElementType())return t;var s=this.mergeOrdered(t.getElementType(),n.getElementType(),r,i);if(s){var o=s.getArrayType();return o||(o=e.specializeToArrayType(this.semanticInfoChain.elementTypeSymbol,s,this,r)),o}}else{if(this.sourceIsSubtypeOfTarget(t,n,r,i))return n;if(this.sourceIsSubtypeOfTarget(n,t,r,i))return t}return null}return t},r.prototype.widenType=function(e){return e===this.semanticInfoChain.undefinedTypeSymbol||e===this.semanticInfoChain.nullTypeSymbol||e.isError()?this.semanticInfoChain.anyTypeSymbol:e},r.prototype.isNullOrUndefinedType=function(e){return e===this.semanticInfoChain.nullTypeSymbol||e===this.semanticInfoChain.undefinedTypeSymbol},r.prototype.canApplyContextualType=function(t){if(!t)return!0;var n=t.getKind();return(n&8388608)!=0?!0:(n&16)!=0?!0:(n&e.PullElementKind.SomeFunction)!=0?this.canApplyContextualTypeToFunction(t,this.semanticInfoChain.getASTForDecl(t.getDeclarations[0]),!0):(n&128)!=0?!0:t==this.semanticInfoChain.anyTypeSymbol||n!=2?!0:!1},r.prototype.findBestCommonType=function(t,n,r,i,s){var o=r.getLength(),u=0,a=t;n&&this.canApplyContextualType(a)&&(a?a=this.mergeOrdered(a,n,i):a=n);var f=a;while(u<o){for(var l=0;l<o;l++){if(l===u)continue;f&&(a=this.mergeOrdered(f,r.getTypeAtIndex(l),i,s))&&(f=a);if(a===null||this.isAnyOrEquivalent(a))break;n&&!a.isTypeParameter()&&!n.isTypeParameter()&&r.setTypeAtIndex(l,n)}if(f&&a)break;u++,u<o&&(f=r.getTypeAtIndex(u))}if(!a){var c=new e.PullDecl("{}","{}",8388608,0,new e.TextSpan(0,0),this.currentUnit.getPath()),h=new e.PullTypeSymbol("{}",8388608);c.setSymbol(h),h.addDeclaration(c),a=h}return a},r.prototype.typesAreIdentical=function(t,n,r){if(t===n)return!0;if(!t||!n)return!1;if(r&&t.isPrimitive()&&t.isStringConstant()&&n===this.semanticInfoChain.stringTypeSymbol)return r.nodeType===5&&e.stripQuotes(r.actualText)===e.stripQuotes(t.getName());if(r&&n.isPrimitive()&&n.isStringConstant()&&n===this.semanticInfoChain.stringTypeSymbol)return r.nodeType===5&&e.stripQuotes(r.actualText)===e.stripQuotes(n.getName());if(t.isPrimitive()&&t.isStringConstant()&&n.isPrimitive()&&n.isStringConstant())return e.stripQuotes(t.getName())===e.stripQuotes(n.getName());if(t.isPrimitive()||n.isPrimitive())return!1;if(t.isClass())return!1;if(t.isError()&&n.isError())return!0;if(t.isTypeParameter()){if(!n.isTypeParameter())return!1;var i=t.getDeclarations()[0].getParentDecl(),s=n.getDeclarations()[0].getParentDecl();return i===s?this.symbolsShareDeclaration(t,n):!0}var o=n.getSymbolID().toString()+"#"+t.getSymbolID().toString();if(this.identicalCache[o]!=undefined)return!0;if(t.getKind()&64||n.getKind()&64)return t.getAssociatedContainerType()===n||n.getAssociatedContainerType()===t;if(t.isArray()||n.isArray()){if(!t.isArray()||!n.isArray())return!1;this.identicalCache[o]=!1;var u=this.typesAreIdentical(t.getElementType(),n.getElementType());return u?this.identicalCache[o]=!0:this.identicalCache[o]=undefined,u}if(t.isPrimitive()!=n.isPrimitive())return!1;this.identicalCache[o]=!1;if(t.hasMembers()&&n.hasMembers()){var a=t.getMembers(),f=n.getMembers();if(a.length!=f.length)return this.identicalCache[o]=undefined,!1;var l=null,c=null,h=null,p=null;for(var d=0;d<a.length;d++){l=a[d],c=this.getMemberSymbol(l.getName(),e.PullElementKind.SomeValue,n);if(!c||l.getIsOptional()!=c.getIsOptional())return this.identicalCache[o]=undefined,!1;h=l.getType(),p=c.getType();if(h&&p&&this.identicalCache[p.getSymbolID().toString()+"#"+h.getSymbolID().toString()]!=undefined)continue;if(!this.typesAreIdentical(h,p))return this.identicalCache[o]=undefined,!1}}else if(t.hasMembers()||n.hasMembers())return this.identicalCache[o]=undefined,!1;var v=t.getCallSignatures(),m=n.getCallSignatures(),g=t.getConstructSignatures(),y=n.getConstructSignatures(),b=t.getIndexSignatures(),w=n.getIndexSignatures();return this.signatureGroupsAreIdentical(v,m)?this.signatureGroupsAreIdentical(g,y)?this.signatureGroupsAreIdentical(b,w)?(this.identicalCache[o]=!0,!0):(this.identicalCache[o]=undefined,!1):(this.identicalCache[o]=undefined,!1):(this.identicalCache[o]=undefined,!1)},r.prototype.signatureGroupsAreIdentical=function(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.length!=t.length)return!1;var n=null,r=null,i=!1;for(var s=0;s<e.length;s++){n=e[s];for(var o=0;o<t.length;o++){r=t[o];if(this.signaturesAreIdentical(n,r)){i=!0;break}}if(i){i=!1;continue}return!1}return!0},r.prototype.signaturesAreIdentical=function(e,t){if(e.hasVariableParamList()!=t.hasVariableParamList())return!1;if(e.getNonOptionalParameterCount()!=t.getNonOptionalParameterCount())return!1;var n=e.getParameters(),r=t.getParameters();if(n.length!=r.length)return!1;if(!this.typesAreIdentical(e.getReturnType(),t.getReturnType()))return!1;for(var i=0;i<n.length;i++)if(!this.typesAreIdentical(n[i].getType(),r[i].getType()))return!1;return!0},r.prototype.substituteUpperBoundForType=function(e){if(!e||!e.isTypeParameter())return e;var t=e.getConstraint();return t?this.substituteUpperBoundForType(t):this.cachedObjectInterfaceType()?this.cachedObjectInterfaceType():e},r.prototype.symbolsShareDeclaration=function(e,t){var n=e.getDeclarations(),r=t.getDeclarations();return n.length&&r.length?n[0].isEqual(r[0]):!1},r.prototype.sourceIsSubtypeOfTarget=function(e,t,n,r){return this.sourceIsRelatableToTarget(e,t,!1,this.subtypeCache,n,r)},r.prototype.sourceMembersAreSubtypeOfTargetMembers=function(e,t,n,r){return this.sourceMembersAreRelatableToTargetMembers(e,t,!1,this.subtypeCache,n,r)},r.prototype.sourcePropertyIsSubtypeOfTargetProperty=function(e,t,n,r,i,s){return this.sourcePropertyIsRelatableToTargetProperty(e,t,n,r,!1,this.subtypeCache,i,s)},r.prototype.sourceCallSignaturesAreSubtypeOfTargetCallSignatures=function(e,t,n,r){return this.sourceCallSignaturesAreRelatableToTargetCallSignatures(e,t,!1,this.subtypeCache,n,r)},r.prototype.sourceConstructSignaturesAreSubtypeOfTargetConstructSignatures=function(e,t,n,r){return this.sourceConstructSignaturesAreRelatableToTargetConstructSignatures(e,t,!1,this.subtypeCache,n,r)},r.prototype.sourceIndexSignaturesAreSubtypeOfTargetIndexSignatures=function(e,t,n,r){return this.sourceIndexSignaturesAreRelatableToTargetIndexSignatures(e,t,!1,this.subtypeCache,n,r)},r.prototype.typeIsSubtypeOfFunction=function(e,t){var n=e.getCallSignatures();if(n.length)return!0;var r=e.getConstructSignatures();return r.length?!0:this.cachedFunctionInterfaceType()?this.sourceIsSubtypeOfTarget(e,this.cachedFunctionInterfaceType(),t):!1},r.prototype.signatureGroupIsSubtypeOfTarget=function(e,t,n,r){return this.signatureGroupIsRelatableToTarget(e,t,!1,this.subtypeCache,n,r)},r.prototype.signatureIsSubtypeOfTarget=function(e,t,n,r){return this.signatureIsRelatableToTarget(e,t,!1,this.subtypeCache,n,r)},r.prototype.sourceIsAssignableToTarget=function(e,t,n,r,i){typeof i=="undefined"&&(i=!1);var s=i?{}:this.assignableCache;return this.sourceIsRelatableToTarget(e,t,!0,s,n,r)},r.prototype.signatureGroupIsAssignableToTarget=function(e,t,n,r){return this.signatureGroupIsRelatableToTarget(e,t,!0,this.assignableCache,n,r)},r.prototype.signatureIsAssignableToTarget=function(e,t,n,r){return this.signatureIsRelatableToTarget(e,t,!0,this.assignableCache,n,r)},r.prototype.sourceIsRelatableToTarget=function(t,n,r,i,s,o){if(t===n)return!0;if(!t||!n)return!0;if(s.specializingToAny&&(n.isTypeParameter()||t.isTypeParameter()))return!0;s.specializingToObject&&(n.isTypeParameter()&&(n=this.cachedObjectInterfaceType()),t.isTypeParameter()&&(n=this.cachedObjectInterfaceType()));var u=t;t==this.semanticInfoChain.stringTypeSymbol&&this.cachedStringInterfaceType()?(this.cachedStringInterfaceType().isResolved()||this.resolveDeclaredSymbol(this.cachedStringInterfaceType(),null,s),u=this.cachedStringInterfaceType()):t==this.semanticInfoChain.numberTypeSymbol&&this.cachedNumberInterfaceType()?(this.cachedNumberInterfaceType().isResolved()||this.resolveDeclaredSymbol(this.cachedNumberInterfaceType(),null,s),u=this.cachedNumberInterfaceType()):t==this.semanticInfoChain.booleanTypeSymbol&&this.cachedBooleanInterfaceType()?(this.cachedBooleanInterfaceType().isResolved()||this.resolveDeclaredSymbol(this.cachedBooleanInterfaceType(),null,s),u=this.cachedBooleanInterfaceType()):e.PullHelpers.symbolIsEnum(t)&&this.cachedNumberInterfaceType()?u=this.cachedNumberInterfaceType():t.isTypeParameter()&&(u=this.substituteUpperBoundForType(t));var a=t.getSymbolID().toString()+"#"+n.getSymbolID().toString();if(i[a]!=undefined)return!0;if(r){if(this.isAnyOrEquivalent(t)||this.isAnyOrEquivalent(n))return!0;if(t===this.semanticInfoChain.stringTypeSymbol&&n.isPrimitive()&&n.isStringConstant())return o&&o.stringConstantVal&&o.stringConstantVal.nodeType===5&&e.stripQuotes(o.stringConstantVal.actualText)===e.stripQuotes(n.getName())}else{if(this.isAnyOrEquivalent(n))return!0;if(n===this.semanticInfoChain.stringTypeSymbol&&t.isPrimitive()&&t.isStringConstant())return!0}if(t.isPrimitive()&&t.isStringConstant()&&n.isPrimitive()&&n.isStringConstant())return e.stripQuotes(t.getName())===e.stripQuotes(n.getName());if(t===this.semanticInfoChain.undefinedTypeSymbol)return!0;if(t===this.semanticInfoChain.nullTypeSymbol&&n!=this.semanticInfoChain.undefinedTypeSymbol&&n!=this.semanticInfoChain.voidTypeSymbol)return!0;if(n==this.semanticInfoChain.voidTypeSymbol)return t==this.semanticInfoChain.anyTypeSymbol||t==this.semanticInfoChain.undefinedTypeSymbol||t==this.semanticInfoChain.nullTypeSymbol?!0:!1;if(t==this.semanticInfoChain.voidTypeSymbol)return n==this.semanticInfoChain.anyTypeSymbol?!0:!1;if(n===this.semanticInfoChain.numberTypeSymbol&&e.PullHelpers.symbolIsEnum(t))return!0;if(t===this.semanticInfoChain.numberTypeSymbol&&e.PullHelpers.symbolIsEnum(n))return!0;if(e.PullHelpers.symbolIsEnum(n)&&e.PullHelpers.symbolIsEnum(t))return this.symbolsShareDeclaration(n,t);if(t.getKind()&64||n.getKind()&64)return!1;if(t.isArray()&&n.isArray()){i[a]=!1;var f=this.sourceIsRelatableToTarget(t.getElementType(),n.getElementType(),r,i,s,o);return f?i[a]=!0:i[a]=undefined,f}if(t.isArray()&&n==this.cachedArrayInterfaceType())return!0;if(n.isArray()&&t==this.cachedArrayInterfaceType())return!0;if(t.isPrimitive()&&n.isPrimitive())return!1;if(t.isPrimitive()!=n.isPrimitive()&&n.isPrimitive())return!1;if(n.isTypeParameter()){if(t.isTypeParameter()&&t==u){var l=n.getDeclarations()[0].getParentDecl(),c=t.getDeclarations()[0].getParentDecl();return l!==c?this.symbolsShareDeclaration(n,t):!0}if(!s.isComparingSpecializedSignatures)return!1;n=this.substituteUpperBoundForType(n)}return i[a]=!1,u.hasBase(n)?(i[a]=!0,!0):this.cachedObjectInterfaceType()&&n===this.cachedObjectInterfaceType()?!0:this.cachedFunctionInterfaceType()&&(u.getCallSignatures().length||u.getConstructSignatures().length)&&n===this.cachedFunctionInterfaceType()?!0:n.hasMembers()&&!this.sourceMembersAreRelatableToTargetMembers(u,n,r,i,s,o)?(i[a]=undefined,!1):this.sourceCallSignaturesAreRelatableToTargetCallSignatures(u,n,r,i,s,o)?this.sourceConstructSignaturesAreRelatableToTargetConstructSignatures(u,n,r,i,s,o)?this.sourceIndexSignaturesAreRelatableToTargetIndexSignatures(u,n,r,i,s,o)?(i[a]=!0,!0):(i[a]=undefined,!1):(i[a]=undefined,!1):(i[a]=undefined,!1)},r.prototype.sourceMembersAreRelatableToTargetMembers=function(t,n,r,i,s,o){var u=n.getAllMembers(e.PullElementKind.SomeValue,!0);for(var a=0;a<u.length;a++){var f=u[a],l=this.getMemberSymbol(f.getName(),e.PullElementKind.SomeValue,t);f.isResolved()||this.resolveDeclaredSymbol(f,null,s);var c=f.getType();if(!l){this.cachedObjectInterfaceType()&&(l=this.getMemberSymbol(f.getName(),e.PullElementKind.SomeValue,this.cachedObjectInterfaceType()));if(!l){this.cachedFunctionInterfaceType()&&(c.getCallSignatures().length||c.getConstructSignatures().length)&&(l=this.getMemberSymbol(f.getName(),e.PullElementKind.SomeValue,this.cachedFunctionInterfaceType()));if(!l){if(!f.getIsOptional())return o&&(o.flags|=2,o.addMessage(e.getDiagnosticMessage(242,[t.toString(),f.getScopedNameEx().toString(),n.toString()]))),!1;continue}}}if(!this.sourcePropertyIsRelatableToTargetProperty(t,n,l,f,r,i,s,o))return!1}return!0},r.prototype.sourcePropertyIsRelatableToTargetProperty=function(t,n,r,i,s,o,u,a){var f=i.hasFlag(2),l=r.hasFlag(2);if(f!=l)return a&&(f?a.addMessage(e.getDiagnosticMessage(246,[i.getScopedNameEx().toString(),r.getContainer().toString(),i.getContainer().toString()])):a.addMessage(e.getDiagnosticMessage(245,[i.getScopedNameEx().toString(),r.getContainer().toString(),i.getContainer().toString()])),a.flags|=128),!1;if(l&&f){var c=i.getDeclarations()[0],h=r.getDeclarations()[0];if(!c.isEqual(h))return a&&(a.flags|=128,a.addMessage(e.getDiagnosticMessage(247,[r.getContainer().toString(),i.getContainer().toString(),i.getScopedNameEx().toString()]))),!1}r.isResolved()||this.resolveDeclaredSymbol(r,null,u);var p=r.getType(),d=i.getType();if(d&&p&&o[p.getSymbolID().toString()+"#"+d.getSymbolID().toString()]!=undefined)return!0;var v=null;a&&!a.onlyCaptureFirstError&&(v=new e.TypeComparisonInfo(a));if(!this.sourceIsRelatableToTarget(p,d,s,o,u,v)){if(a){a.flags|=32;var m;v&&v.message?m=e.getDiagnosticMessage(244,[i.getScopedNameEx().toString(),t.toString(),n.toString(),v.message]):m=e.getDiagnosticMessage(243,[i.getScopedNameEx().toString(),t.toString(),n.toString()]),a.addMessage(m)}return!1}return!0},r.prototype.sourceCallSignaturesAreRelatableToTargetCallSignatures=function(t,n,r,i,s,o){var u=n.getCallSignatures();if(u.length){var a=null;o&&!o.onlyCaptureFirstError&&(a=new e.TypeComparisonInfo(o));var f=t.getCallSignatures();if(!this.signatureGroupIsRelatableToTarget(f,u,r,i,s,a)){if(o){var l;if(f.length&&u.length)a&&a.message?l=e.getDiagnosticMessage(249,[t.toString(),n.toString(),a.message]):l=e.getDiagnosticMessage(248,[t.toString(),n.toString()]);else{var c=u.length?n.toString():t.toString(),h=u.length?t.toString():n.toString();l=e.getDiagnosticMessage(250,[c,h])}o.flags|=4,o.addMessage(l)}return!1}}return!0},r.prototype.sourceConstructSignaturesAreRelatableToTargetConstructSignatures=function(t,n,r,i,s,o){var u=n.getConstructSignatures();if(u.length){var a=null;o&&!o.onlyCaptureFirstError&&(a=new e.TypeComparisonInfo(o));var f=t.getConstructSignatures();if(!this.signatureGroupIsRelatableToTarget(f,u,r,i,s,a)){if(o){var l;if(f.length&&u.length)a&&a.message?l=e.getDiagnosticMessage(252,[t.toString(),n.toString(),a.message]):l=e.getDiagnosticMessage(251,[t.toString(),n.toString()]);else{var c=u.length?n.toString():t.toString(),h=u.length?t.toString():n.toString();l=e.getDiagnosticMessage(253,[c,h])}o.flags|=4,o.addMessage(l)}return!1}}return!0},r.prototype.sourceIndexSignaturesAreRelatableToTargetIndexSignatures=function(t,n,r,i,s,o){var u=n.getIndexSignatures();if(u.length){var a=t.getIndexSignatures(),f=!u.length&&this.cachedObjectInterfaceType()?this.cachedObjectInterfaceType().getIndexSignatures():u,l=!a.length&&this.cachedObjectInterfaceType()?this.cachedObjectInterfaceType().getIndexSignatures():a,c=null,h=null,p=null,d=null,v;for(var m=0;m<f.length;m++){if(p&&d)break;v=f[m].getParameters();if(v.length){if(!p&&v[0].getType()===this.semanticInfoChain.stringTypeSymbol){p=f[m];continue}if(!d&&v[0].getType()===this.semanticInfoChain.numberTypeSymbol){d=f[m];continue}}}for(var m=0;m<l.length;m++){if(c&&h)break;v=l[m].getParameters();if(v.length){if(!c&&v[0].getType()===this.semanticInfoChain.stringTypeSymbol){c=l[m];continue}if(!h&&v[0].getType()===this.semanticInfoChain.numberTypeSymbol){h=l[m];continue}}}var g=!0,y=null;o&&!o.onlyCaptureFirstError&&(y=new e.TypeComparisonInfo(o)),p&&(c?g=this.signatureIsAssignableToTarget(c,p,s,y):g=!1),g&&d&&(h?g=this.signatureIsAssignableToTarget(h,d,s,y):c?g=this.sourceIsAssignableToTarget(c.getReturnType(),d.getReturnType(),s,y):g=!1);if(!g){if(o){var b;y&&y.message?b=e.getDiagnosticMessage(255,[t.toString(),n.toString(),y.message]):b=e.getDiagnosticMessage(254,[t.toString(),n.toString()]),o.flags|=4,o.addMessage(b)}return!1}}if(p&&!t.isNamedTypeSymbol()&&t.hasMembers()){var w=p.getReturnType(),E=t.getMembers();for(var m=0;m<E.length;m++)if(!this.sourceIsRelatableToTarget(E[m].getType(),w,r,i,s,o))return!1}return!0},r.prototype.signatureGroupIsRelatableToTarget=function(e,t,n,r,i,s){if(e===t)return!0;if(!e.length||!t.length)return!1;var o=null,u=null,a=!1;for(var f=0;f<t.length;f++){o=t[f];if(o.isStringConstantOverloadSignature())continue;for(var l=0;l<e.length;l++){u=e[l];if(u.isStringConstantOverloadSignature())continue;if(this.signatureIsRelatableToTarget(u,o,n,r,i,s)){a=!0;break}}if(a){a=!1;continue}return!1}return!0},r.prototype.signatureIsRelatableToTarget=function(t,n,r,i,s,o){var u=t.getParameters(),a=n.getParameters();if(!u||!a)return!1;var f=n.getNonOptionalParameterCount(),l=t.getNonOptionalParameterCount();if(l>f&&!n.hasVariableParamList())return o&&(o.flags|=3,o.addMessage(e.getDiagnosticMessage(256,[f]))),!1;var c=t.getReturnType(),h=n.getReturnType(),p=s.specializingToObject;s.specializingToObject=!0;if(h!=this.semanticInfoChain.voidTypeSymbol&&!this.sourceIsRelatableToTarget(c,h,r,i,s,o))return o&&(o.flags|=16),s.specializingToObject=p,!1;var d=l<f&&(t.hasVariableParamList()||u.length>l)?f:l,v=null,m=null,g="",y="";for(var b=0,w=0;b<d;b++,w++){b<u.length&&(!t.hasVariableParamList()||b<l)?(v=u[b].getType(),g=u[b].getName()):b===l&&(v=u[b].getType(),v.isArray()&&(v=v.getElementType()),g=u[b].getName()),w<a.length&&w<f?(m=a[w].getType(),y=a[w].getName()):n.hasVariableParamList()&&w===f&&(m=a[w].getType(),m.isArray()&&(m=m.getElementType()),y=a[w].getName()),v&&v.isTypeParameter()&&this.cachedObjectInterfaceType()&&(v=this.cachedObjectInterfaceType()),m&&m.isTypeParameter()&&this.cachedObjectInterfaceType()&&(m=this.cachedObjectInterfaceType());if(!this.sourceIsRelatableToTarget(v,m,r,i,s,o)&&!this.sourceIsRelatableToTarget(m,v,r,i,s,o))return o&&(o.flags|=64),s.specializingToObject=p,!1}return s.specializingToObject=p,!0},r.prototype.resolveOverloads=function(t,n,r,i,s,o){var u=this.resolutionDataCache.getResolutionData(),a=u.actuals,f=u.exactCandidates,l=u.conversionCandidates,c=null,h=n.length>1,p=new e.TypeComparisonInfo,d=null,v=null;if(t.nodeType===36||t.nodeType===37){var m=t;d=m.arguments,v=this.getLastIdentifierInTarget(m);if(m.arguments){var g=m.arguments.members.length;for(var y=0;y<g;y++){var b=this.resolveAST(m.arguments.members[y],!1,r,s).symbol;a[y]=b.getType()}}}else if(t.nodeType===35){var w=t;v=w.operand1,d=new e.ASTList,d.members[0]=w.operand2;var b=this.resolveAST(d.members[0],!1,r,s).symbol;a[0]=b.getType()}var E,S,x;for(var T=0,N=n.length;T<N;T++){E=n[T];if(h&&E.isDefinition()||i&&!E.isGeneric())continue;S=E.getReturnType(),this.getCandidateSignatures(E,a,d,f,l,r,s,p)}if(f.length===0){var C=this.getApplicableSignaturesFromCandidates(l,d,p,r,s);C.length>0?(x=this.findMostApplicableSignature(C,d,r,s),c=x.sig):p.message?o.push(s.postError(this.unitPath,v.minChar,v.getLength(),153,[p.message])):o.push(s.postError(this.unitPath,v.minChar,v.getLength(),152,null))}else if(f.length>1){var k=[];for(var y=0;y<f.length;y++)k[y]={signature:f[y],hadProvisionalErrors:!1};x=this.findMostApplicableSignature(k,d,r,s),c=x.sig}else c=f[0];return this.resolutionDataCache.returnResolutionData(u),c},r.prototype.getLastIdentifierInTarget=function(e){return e.target.nodeType===32?e.target.operand2:e.target},r.prototype.getCandidateSignatures=function(e,t,n,r,i,s,o,u){var a=e.getParameters(),f=e.getNonOptionalParameterCount(),l=a.length,c=f,h=!1;t.length>=f&&(e.hasVariableParamList()||t.length<=l)&&(c=e.hasVariableParamList()?a.length:t.length,h=!0);var p=null;if(h){e.hasVariableParamList()&&(c-=1,p=a[c].getType(),p=p.getElementType(),h=t.length>=(c<f?c:f));var d=t.length,v=h,m=h,g,y;for(var b=0;b<d;b++){b<c?g=a[b].getType():g=p,y=t[b],g&&!g.isResolved()&&this.resolveDeclaredSymbol(g,s,o),y&&!y.isResolved()&&this.resolveDeclaredSymbol(y,s,o);if(!g||!y||!this.typesAreIdentical(g,y,n.members[b]))v=!1;u.stringConstantVal=n.members[b],this.sourceIsAssignableToTarget(y,g,o,u)||(m=!1),u.stringConstantVal=null;if(!v&&!m)break}v?r[r.length]=e:m&&r.length===0&&(i[i.length]=e)}},r.prototype.getApplicableSignaturesFromCandidates=function(t,n,r,i,s){var o=[],u=null,a=!1,f=null,l=!1,c,h,p;for(var d=0;d<t.length;d++){a=!1,h=t[d],c=h.getParameters();for(var v=0;v<n.members.length;v++){if(v>=c.length)continue;c[v].isResolved()||this.resolveDeclaredSymbol(c[v],i,s),u=c[v].getType(),h.hasVariableParamList()&&v>=h.getNonOptionalParameterCount()&&u.isArray()&&(u=u.getElementType());if(this.isAnyOrEquivalent(u))continue;if(n.members[v].nodeType===12){if(this.cachedFunctionInterfaceType()&&u===this.cachedFunctionInterfaceType())continue;p=this.resolveFunctionExpression(n.members[v],!1,i,s);if(!this.canApplyContextualTypeToFunction(u,n.members[v],!0)){if(!this.canApplyContextualTypeToFunction(u,n.members[v],!1))break;if(!this.sourceIsAssignableToTarget(p.getType(),u,s,r
,!0))break}else{p.invalidate(),s.pushContextualType(u,!0,null),p=this.resolveFunctionExpression(n.members[v],!0,i,s),this.sourceIsAssignableToTarget(p.getType(),u,s,r,!0)||(r&&r.setMessage(e.getDiagnosticMessage(257,[u.toString(),v+1,p.getTypeName()])),a=!0),p.invalidate(),f=s.popContextualType(),l=f.hadProvisionalErrors();if(a)break}}else if(n.members[v].nodeType===22){if(this.cachedObjectInterfaceType()&&u===this.cachedObjectInterfaceType())continue;s.pushContextualType(u,!0,null),p=this.resolveObjectLiteralExpression(n.members[v],!0,i,s).symbol,this.sourceIsAssignableToTarget(p.getType(),u,s,r,!0)||(r&&r.setMessage(e.getDiagnosticMessage(257,[u.toString(),v+1,p.getTypeName()])),a=!0),p.invalidate(),f=s.popContextualType(),l=f.hadProvisionalErrors();if(a)break}else if(n.members[v].nodeType===21){if(u===this.cachedArrayInterfaceType())continue;s.pushContextualType(u,!0,null);var p=this.resolveArrayLiteralExpression(n.members[v],!0,i,s).symbol;if(!this.sourceIsAssignableToTarget(p.getType(),u,s,r,!0)){r&&r.setMessage(e.getDiagnosticMessage(257,[u.toString(),v+1,p.getTypeName()]));break}p.invalidate(),f=s.popContextualType(),l=f.hadProvisionalErrors();if(a)break}}v===n.members.length&&(o[o.length]={signature:t[d],hadProvisionalErrors:l}),l=!1}return o},r.prototype.findMostApplicableSignature=function(t,n,r,i){if(t.length===1)return{sig:t[0].signature,ambiguous:!1};var s=t[0],o=null,u=null,a=null,f=null,l=!1,c,h;for(var p=1;p<t.length;p++){o=t[p];for(var d=0;n&&d<n.members.length;d++){var v=this.resolveAST(n.members[d],!1,r,i).symbol;u=v.getType(),v.invalidate(),c=s.signature.getParameters(),h=o.signature.getParameters(),a=d<c.length?c[d].getType():c[c.length-1].getType().getElementType(),f=d<h.length?h[d].getType():h[h.length-1].getType().getElementType();if(this.typesAreIdentical(a,f)&&(!f.isPrimitive()||!f.isStringConstant()))continue;if(a.isPrimitive()&&a.isStringConstant()&&n.members[d].nodeType===5&&e.stripQuotes(n.members[d].actualText)===e.stripQuotes(a.getName()))break;if(f.isPrimitive()&&f.isStringConstant()&&n.members[d].nodeType===5&&e.stripQuotes(n.members[d].actualText)===e.stripQuotes(f.getName()))s=o;else{if(this.typesAreIdentical(u,a))break;if(this.typesAreIdentical(u,f)){s=o;break}if(this.sourceIsSubtypeOfTarget(a,f,i))break;if(this.sourceIsSubtypeOfTarget(f,a,i)){s=o;break}if(o.hadProvisionalErrors)break;if(s.hadProvisionalErrors){s=o;break}}}if(!n||d===n.members.length){var m={getLength:function(){return 2},setTypeAtIndex:function(e,t){},getTypeAtIndex:function(e){return e?o.signature.getReturnType():s.signature.getReturnType()}},g=this.findBestCommonType(s.signature.getReturnType(),null,m,i);l=!g}else l=!1}return{sig:s.signature,ambiguous:l}},r.prototype.canApplyContextualTypeToFunction=function(e,t,n){if(t.isMethod()||n&&t.returnTypeAnnotation)return!1;n=n||this.cachedFunctionInterfaceType()===e;if(!n)return!0;var r=this.getDeclForAST(t).getSymbol(),i=r.getType().getCallSignatures()[0],s=i.getParameters(),o=s.length;for(var u=0;u<o;u++){var a=s[u],f=this.getASTForDecl(a.getDeclarations()[0]);if(n&&f.typeExpr)return!1}if(e.getConstructSignatures().length&&e.getCallSignatures().length)return!1;var l=e.getConstructSignatures().length?e.getConstructSignatures():e.getCallSignatures();return!l||l.length>1?!1:!0},r.prototype.inferArgumentTypesForSignature=function(t,n,r,i,s){var o=null,u=!1,a=t.getParameters(),f=t.getTypeParameters(),l=new e.ArgumentInferenceContext,c=null;for(var h=0;h<f.length;h++)l.addInferenceRoot(f[h]);var p,d,v;for(var h=0;h<n.members.length;h++){if(h>=a.length)break;c=a[h].getType(),t.hasVariableParamList()&&h>=t.getNonOptionalParameterCount()-1&&c.isArray()&&(c=c.getElementType()),d=l.getInferenceCandidates(),p={};if(d.length)for(var m=0;m<d.length;m++){l.resetRelationshipCache(),v=d[m],p=d[m],s.pushContextualType(c,!0,p);var g=this.resolveAST(n.members[h],!0,i,s).symbol;this.relateTypeToTypeParameters(g.getType(),c,!1,l,i,s),o=s.popContextualType(),g.invalidate(),u=o.hadProvisionalErrors()}else{s.pushContextualType(c,!0,{});var g=this.resolveAST(n.members[h],!0,i,s).symbol;this.relateTypeToTypeParameters(g.getType(),c,!1,l,i,s),o=s.popContextualType(),g.invalidate(),u=o.hadProvisionalErrors()}}u=!1;var y=l.inferArgumentTypes(this,s);if(y.unfit)return null;var b=[];for(var h=0;h<f.length;h++)for(var m=0;m<y.results.length;m++)if(y.results[m].param==f[h]){b[b.length]=y.results[m].type;break}if(!n.members.length&&!b.length&&f.length)for(var h=0;h<f.length;h++)b[b.length]=this.semanticInfoChain.anyTypeSymbol;else if(b.length&&b.length<f.length)for(var h=b.length;h<f.length;h++)b[h]=this.semanticInfoChain.anyTypeSymbol;return b},r.prototype.relateTypeToTypeParameters=function(e,t,n,r,i,s){if(!e||!t)return;e.isError()&&(e=this.semanticInfoChain.anyTypeSymbol);if(t===e)return;if(t.isTypeParameter()){e.isGeneric()&&!e.isFixed()&&(e=this.specializeTypeToAny(e,i,s)),r.addCandidateForInference(t,e,n);return}var o=t.getDeclarations(),u=e.getDeclarations();if(!t.isArray()&&o.length&&u.length&&(o[0].isEqual(u[0])||e.isGeneric()&&t.isGeneric()&&this.sourceIsSubtypeOfTarget(e,t,s,null))&&e.isGeneric()){var a=t.getIsSpecialized()?t.getTypeArguments():t.getTypeParameters(),f=e.getTypeArguments();f||(a=t.getTypeArguments(),f=e.getIsSpecialized()?e.getTypeArguments():e.getTypeParameters());if(a&&f&&a.length===f.length)for(var l=0;l<a.length;l++)f[l]!=a[l]&&this.relateTypeToTypeParameters(f[l],a[l],!0,r,i,s)}var c=s.specializingToAny;s.specializingToAny=!0;if(!this.sourceIsAssignableToTarget(e,t,s)){s.specializingToAny=c;return}s.specializingToAny=c;if(e.isArray()&&t.isArray()){this.relateArrayTypeToTypeParameters(e,t,n,r,i,s);return}this.relateObjectTypeToTypeParameters(e,t,n,r,i,s)},r.prototype.relateFunctionSignatureToTypeParameters=function(e,t,n,r,i){var s=e.getParameters(),o=e.getReturnType(),u=t.getParameters(),a=t.getReturnType(),f=u.length<s.length?u.length:s.length;for(var l=0;l<f;l++)this.relateTypeToTypeParameters(s[l].getType(),u[l].getType(),!0,n,r,i);this.relateTypeToTypeParameters(o,a,!1,n,r,i)},r.prototype.relateObjectTypeToTypeParameters=function(t,n,r,i,s,o){var u=n.getMembers(),a,f,l,c;if(i.alreadyRelatingTypes(t,n))return;var h=t.getTypeArguments(),p=n.getTypeParameters();if(h&&h.length===p.length)for(var d=0;d<h.length;d++)i.addCandidateForInference(p[d],h[d],r);for(var d=0;d<u.length;d++)l=this.getMemberSymbol(u[d].getName(),e.PullElementKind.SomeValue,t),l&&this.relateTypeToTypeParameters(l.getType(),u[d].getType(),r,i,s,o);a=n.getCallSignatures(),c=t.getCallSignatures();for(var d=0;d<a.length;d++){f=a[d];for(var v=0;v<c.length;v++)this.relateFunctionSignatureToTypeParameters(c[v],f,i,s,o)}a=n.getConstructSignatures(),c=t.getConstructSignatures();for(var d=0;d<a.length;d++){f=a[d];for(var v=0;v<c.length;v++)this.relateFunctionSignatureToTypeParameters(c[v],f,i,s,o)}a=n.getIndexSignatures(),c=t.getIndexSignatures();for(var d=0;d<a.length;d++){f=a[d];for(var v=0;v<c.length;v++)this.relateFunctionSignatureToTypeParameters(c[v],f,i,s,o)}},r.prototype.relateArrayTypeToTypeParameters=function(e,t,n,r,i,s){var o=e.getElementType(),u=t.getElementType();this.relateTypeToTypeParameters(o,u,n,r,i,s)},r.prototype.specializeTypeToAny=function(t,n,r){var i=r.specializingToAny;r.specializingToAny=!0;var s=e.getRootType(t),o=e.specializeType(s,[],this,n,r);return r.specializingToAny=i,o},r.prototype.specializeSignatureToAny=function(t,n,r){var i=t.getTypeParameters(),s={},o=[];for(var u=0;u<i.length;u++)o[u]=this.semanticInfoChain.anyTypeSymbol,s[i[u].getSymbolID().toString()]=o[u];o.length||(o[0]=this.semanticInfoChain.anyTypeSymbol);var a=r.specializingToAny;r.specializingToAny=!0;var f=e.specializeSignature(t,!1,s,o,this,n,r);return r.specializingToAny=a,f},r}();e.PullTypeResolver=s})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function e(){}return e}();e.PullTypeResolver2=t})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(e){this.onlyCaptureFirstError=!1,this.flags=0,this.message="",this.stringConstantVal=null,this.indent=1,e&&(this.flags=e.flags,this.onlyCaptureFirstError=e.onlyCaptureFirstError,this.stringConstantVal=e.stringConstantVal,this.indent=e.indent+1)}return t.prototype.addMessage=function(t){!this.onlyCaptureFirstError&&this.message?this.message=e.getDiagnosticMessage(2,[this.message,this.indent,t]):this.message=e.getDiagnosticMessage(3,[this.indent,t])},t.prototype.setMessage=function(t){this.message=e.getDiagnosticMessage(3,[this.indent,t])},t}();e.TypeComparisonInfo=t;var n=function(){function t(e,t,n){this.compiler=e,this.script=t,this.scriptName=n,this.enclosingDeclStack=[],this.enclosingDeclReturnStack=[],this.semanticInfo=null,this.inSuperConstructorCall=!1,this.inSuperConstructorTarget=!1,this.seenSuperConstructorCall=!1,this.inConstructorArguments=!1,this.inImportDeclaration=!1}return t.prototype.pushEnclosingDecl=function(e){this.enclosingDeclStack[this.enclosingDeclStack.length]=e,this.enclosingDeclReturnStack[this.enclosingDeclReturnStack.length]=!1},t.prototype.popEnclosingDecl=function(){this.enclosingDeclStack.length--,this.enclosingDeclReturnStack.length--},t.prototype.getEnclosingDecl=function(t){typeof t=="undefined"&&(t=e.PullElementKind.All);for(var n=this.enclosingDeclStack.length-1;n>=0;n--){var r=this.enclosingDeclStack[n];if(r.getKind()&t)return r}return null},t.prototype.getEnclosingNonLambdaDecl=function(){for(var e=this.enclosingDeclStack.length-1;e>=0;e--){var t=this.enclosingDeclStack[e];if(!(t.getKind()===131072&&t.getFlags()&8192))return t}return null},t.prototype.getEnclosingClassDecl=function(){return this.getEnclosingDecl(8)},t.prototype.getEnclosingDeclHasReturn=function(){return this.enclosingDeclReturnStack[this.enclosingDeclReturnStack.length-1]},t.prototype.setEnclosingDeclHasReturn=function(){return this.enclosingDeclReturnStack[this.enclosingDeclReturnStack.length-1]=!0},t}();e.PullTypeCheckContext=n;var r=function(){function r(t,n){this.compilationSettings=t,this.semanticInfoChain=n,this.resolver=null,this.context=new e.PullTypeResolutionContext}return r.prototype.setUnit=function(t){this.resolver=new e.PullTypeResolver(this.compilationSettings,this.semanticInfoChain,t)},r.prototype.getScriptDecl=function(e){return this.semanticInfoChain.getUnit(e).getTopLevelDecls()[0]},r.prototype.checkForResolutionError=function(e,t){e&&e.isError()&&t.addDiagnostic(e.getDiagnostic())},r.prototype.postError=function(t,n,r,i,s,o){o.addDiagnostic(new e.SemanticDiagnostic(r,t,n,i,s))},r.prototype.validateVariableDeclarationGroups=function(e,t){var n=e.getVariableDeclGroups(),r,i,s,o;for(var u=0;u<n.length;u++)for(var a=0;a<n[u].length;a++){r=n[u][a],s=r.getSymbol(),o=this.semanticInfoChain.getASTForDecl(r),this.resolver.resolveAST(o,!1,e,this.context);if(!a){i=r.getSymbol();if(this.resolver.isAnyOrEquivalent(this.resolver.widenType(i.getType())))return;continue}this.resolver.typesAreIdentical(s.getType(),i.getType())||this.postError(o.minChar,o.getLength(),t.scriptName,201,[s.getDisplayName(),i.getType().toString(),s.getType().toString()],e)}},r.prototype.typeCheckAST=function(e,t,n){if(!e)return null;if(e.typeCheckPhase>=r.globalPullTypeCheckPhase)return null;e.typeCheckPhase=r.globalPullTypeCheckPhase;switch(e.nodeType){case 1:return this.typeCheckList(e,t);case 17:case 19:return this.typeCheckBoundDecl(e,t);case 12:return this.typeCheckFunction(e,t,n);case 13:return this.typeCheckClass(e,t);case 14:return this.typeCheckInterface(e,t);case 15:return this.typeCheckModule(e,t);case 9:return this.typeCheckTypeParameter(e,t);case 16:return this.typeCheckImportDeclaration(e,t);case 38:return this.typeCheckAssignment(e,t);case 10:return this.typeCheckGenericType(e,t);case 22:return this.typeCheckObjectLiteral(e,t,n);case 21:return this.typeCheckArrayLiteral(e,t,n);case 29:return this.typeCheckThisExpression(e,t);case 30:return this.typeCheckSuperExpression(e,t);case 36:return this.typeCheckCallExpression(e,t);case 37:return this.typeCheckObjectCreationExpression(e,t);case 78:return this.typeCheckTypeAssertion(e,t);case 11:return this.typeCheckTypeReference(e,t);case 87:return this.typeCheckExportAssignment(e,t);case 57:case 56:case 58:case 59:case 60:case 61:case 63:case 62:return this.typeCheckLogicalOperation(e,t);case 25:return this.typeCheckCommaExpression(e,t);case 64:case 39:return this.typeCheckBinaryAdditionOperation(e,t);case 65:case 66:case 67:case 68:case 53:case 55:case 69:case 70:case 71:case 54:case 45:case 47:case 48:case 49:case 40:case 42:case 41:case 43:case 46:case 44:return this.typeCheckBinaryArithmeticOperation(e,t);case 26:case 27:case 72:case 76:case 74:case 77:case 75:return this.typeCheckUnaryArithmeticOperation(e,t,n);case 35:return this.typeCheckElementAccessExpression(e,t);case 73:return this.typeCheckLogicalNotExpression(e,t,n);case 51:case 52:return this.typeCheckLogicalAndOrExpression(e,t);case 34:return this.typeCheckTypeOf(e,t);case 50:return this.typeCheckConditionalExpression(e,t);case 24:return this.typeCheckVoidExpression(e,t);case 95:return this.typeCheckThrowStatement(e,t);case 28:return this.typeCheckDeleteExpression(e,t);case 6:return this.typeCheckRegExpExpression(e,t);case 31:return this.typeCheckInExpression(e,t);case 33:return this.typeCheckInstanceOfExpression(e,t);case 79:return this.typeCheckParenthesizedExpression(e,t);case 90:return this.typeCheckForStatement(e,t);case 89:return this.typeCheckForInStatement(e,t);case 98:return this.typeCheckWhileStatement(e,t);case 85:return this.typeCheckDoStatement(e,t);case 91:return this.typeCheckIfStatement(e,t);case 81:return this.typeCheckBlock(e,t);case 18:return this.typeCheckVariableDeclaration(e,t);case 97:return this.typeCheckVariableStatement(e,t);case 99:return this.typeCheckWithStatement(e,t);case 96:return this.typeCheckTryStatement(e,t);case 101:return this.typeCheckCatchClause(e,t);case 93:return this.typeCheckReturnStatement(e,t);case 20:return this.typeCheckNameExpression(e,t);case 32:return this.typeCheckMemberAccessExpression(e,t);case 94:return this.typeCheckSwitchStatement(e,t);case 88:return this.typeCheckExpressionStatement(e,t,n);case 100:return this.typeCheckCaseClause(e,t);case 92:return this.typeCheckLabeledStatement(e,t);case 7:return this.semanticInfoChain.numberTypeSymbol;case 5:return this.semanticInfoChain.stringTypeSymbol;case 8:return this.semanticInfoChain.nullTypeSymbol;case 3:case 4:return this.semanticInfoChain.booleanTypeSymbol;case 9:return this.typeCheckTypeParameter(e,t);default:}return null},r.prototype.typeCheckScript=function(e,t,i){var s=this.semanticInfoChain.getUnit(t);if(s.getTypeChecked())return;var o=new n(i,e,t);this.setUnit(t),o.semanticInfo=o.compiler.semanticInfoChain.getUnit(o.scriptName);var u=o.semanticInfo.getTopLevelDecls()[0];o.pushEnclosingDecl(u),r.globalPullTypeCheckPhase++,this.typeCheckAST(e.moduleElements,o,!1),this.validateVariableDeclarationGroups(u,o),o.popEnclosingDecl(),s.setTypeChecked()},r.prototype.typeCheckList=function(e,t){if(!e)return null;for(var n=0;n<e.members.length;n++)this.typeCheckAST(e.members[n],t,!1)},r.prototype.reportDiagnostics=function(e,t){if(e&&e.diagnostics)for(var n=0,r=e.diagnostics.length;n<r;n++)this.context.postDiagnostic(e.diagnostics[n],t,!0)},r.prototype.resolveSymbolAndReportDiagnostics=function(e,t,n){var r=this.resolver.resolveAST(e,t,n,this.context);return this.reportDiagnostics(r,n),r&&r.symbol},r.prototype.typeCheckBoundDecl=function(n,r){var i=this,s=n,o=r.getEnclosingDecl(),u=null;s.typeExpr&&(u=this.typeCheckAST(s.typeExpr,r,!1),u.isNamedTypeSymbol()&&u.isGeneric()&&!u.isTypeParameter()&&!this.resolver.isArrayOrEquivalent(u)&&u.isResolved()&&u.getTypeParameters().length&&u.getTypeArguments()==null&&!u.getIsSpecialized()&&this.resolver.isTypeRefWithoutTypeArgs(s.typeExpr)&&(this.postError(s.typeExpr.minChar,s.typeExpr.getLength(),r.scriptName,241,null,o),u=this.resolver.specializeTypeToAny(u,o,this.context)));if(s.init){u&&this.context.pushContextualType(u,this.context.inProvisionalResolution(),null);var a=this.typeCheckAST(s.init,r,!!u);u&&this.context.popContextualType();if(u&&u.isContainer()){var f=u.getExportAssignedTypeSymbol();if(f)u=f;else{var l=u.getType().getInstanceSymbol().getType();!l||!e.PullHelpers.symbolIsEnum(l)?(this.postError(s.minChar,s.getLength(),r.scriptName,192,[u.toString()],o),u=null):u=l.getType()}}a&&a.isContainer()&&(l=a.getType().getInstanceSymbol().getType(),l?a=l.getType():(this.postError(s.minChar,s.getLength(),r.scriptName,193,[a.toString()],o),a=null));if(a&&u){var c=new t,h=this.resolver.sourceIsAssignableToTarget(a,u,this.context,c);h||(c.message?this.postError(s.minChar,s.getLength(),r.scriptName,83,[a.toString(),u.toString(),c.message],o):this.postError(s.minChar,s.getLength(),r.scriptName,82,[a.toString(),u.toString()],o))}}var p=this.context.suppressErrors;this.context.suppressErrors=!0;var d=this.resolver.getDeclForAST(s),v=this.resolveSymbolAndReportDiagnostics(s,!1,o).getType();u&&u.isContainer()&&v.isError()&&this.checkForResolutionError(v,d),this.context.suppressErrors=p;var m=d.getSymbol();return m.getKind()!=2048&&(m.getKind()!=4096||m.getContainer().isNamedTypeSymbol())&&this.checkTypePrivacy(m,v,r,function(e){return i.variablePrivacyErrorReporter(m,e,r)}),v},r.prototype.typeCheckImportDeclaration=function(e,t){var n=this.resolveSymbolAndReportDiagnostics(e,!1,t.getEnclosingDecl()),r=t.inImportDeclaration;return t.inImportDeclaration=!0,this.typeCheckAST(e.alias,t,!1),t.inImportDeclaration=r,n},r.prototype.typeCheckFunction=function(t,n,r){if(t.isConstructor||e.hasFlag(t.getFunctionFlags(),1024))return this.typeCheckConstructor(t,n,r);if(e.hasFlag(t.getFunctionFlags(),4096))return this.typeCheckIndexer(t,n,r);if(t.isAccessor())return this.typeCheckAccessor(t,n,r);var i=n.getEnclosingDecl(),s=this.resolveSymbolAndReportDiagnostics(t,r,i),o=n.semanticInfo.getDeclForAST(t);n.pushEnclosingDecl(o),this.typeCheckAST(t.typeArguments,n,r),this.typeCheckAST(t.arguments,n,r),this.typeCheckAST(t.returnTypeAnnotation,n,!1),this.typeCheckAST(t.block,n,!1);var u=n.getEnclosingDeclHasReturn();this.validateVariableDeclarationGroups(o,n),n.popEnclosingDecl();var a=o.getSignatureSymbol(),f=a.getParameters();if(f.length)for(var l=0;l<f.length;l++)this.checkForResolutionError(f[l].getType(),i);var c=a.getReturnType();this.checkForResolutionError(c,i);if(t.block&&t.returnTypeAnnotation!=null&&!u){var h=this.resolver.isAnyOrEquivalent(c)||c===this.semanticInfoChain.voidTypeSymbol;if(!h&&!(t.block.statements.members.length>0&&t.block.statements.members[0].nodeType===95)){var p=o.getDisplayName();p=p?"'"+p+"'":"expression",this.postError(t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),n.scriptName,194,[p],n.getEnclosingDecl())}}return this.typeCheckFunctionOverloads(t,n),this.checkFunctionTypePrivacy(t,r,n),s?s.getType():null},r.prototype.typeCheckFunctionOverloads=function(n,r,i,s){if(!i){var o=e.PullHelpers.getSignatureForFuncDecl(n,r.semanticInfo);i=o.signature,s=o.allSignatures}var u=r.semanticInfo.getDeclForAST(n),a=u.getSymbol(),f=null;for(var l=s.length-1;l>=0;l--)if(s[l].isDefinition()){f=s[l];break}if(!i.isDefinition())for(var l=0;l<s.length;l++){if(s[l]===i)break;if(this.resolver.signaturesAreIdentical(s[l],i)){n.isConstructor?this.postError(n.minChar,n.getLength(),r.scriptName,212,null,r.getEnclosingDecl()):n.isConstructMember()?this.postError(n.minChar,n.getLength(),r.scriptName,214,null,r.getEnclosingDecl()):n.isCallMember()?this.postError(n.minChar,n.getLength(),r.scriptName,213,null,r.getEnclosingDecl()):this.postError(n.minChar,n.getLength(),r.scriptName,211,[a.getScopedNameEx().toString()],r.getEnclosingDecl());break}}var c=i.isStringConstantOverloadSignature();if(c)if(i.isDefinition())this.postError(n.minChar,n.getLength(),r.scriptName,231,null,r.getEnclosingDecl());else{var h=new e.PullTypeResolutionContext,p=!1;for(var l=0;l<s.length;l++){if(s[l].isDefinition()||s[l]===i)continue;s[l].isResolved()||this.resolver.resolveDeclaredSymbol(s[l],r.getEnclosingDecl(),h);if(s[l].isStringConstantOverloadSignature())continue;if(this.resolver.signatureIsSubtypeOfTarget(i,s[l],h)){p=!0;break}}p||this.postError(n.minChar,n.getLength(),r.scriptName,221,null,r.getEnclosingDecl())}else if(f&&f!=i){var d=new t,h=new e.PullTypeResolutionContext;f.isResolved()||this.resolver.resolveDeclaredSymbol(f,r.getEnclosingDecl(),h),this.resolver.signatureIsAssignableToTarget(f,i,h,d)||(d.message?this.postError(n.minChar,n.getLength(),r.scriptName,216,[d.message],r.getEnclosingDecl()):this.postError(n.minChar,n.getLength(),r.scriptName,215,null,r.getEnclosingDecl()))}var v=f;if(!f){if(s[0]===i)return;v=s[0]}if(!n.isConstructor&&!n.isConstructMember()&&i!=v){var m;v.hasFlag(2)!=i.hasFlag(2)?m=217:v.hasFlag(1)!=i.hasFlag(1)?m=218:v.hasFlag(8)!=i.hasFlag(8)?m=219:v.hasFlag(128)!=i.hasFlag(128)&&(m=220),m&&this.postError(n.minChar,n.getLength(),r.scriptName,m,null,r.getEnclosingDecl())}},r.prototype.typeCheckTypeParameter=function(e,t){if(e.constraint){var n=this.typeCheckAST(e.constraint,t,!1);n&&!n.isError()&&n.isPrimitive()&&this.postError(e.constraint.minChar,e.constraint.getLength(),t.scriptName,151,null,t.getEnclosingDecl())}return this.resolveSymbolAndReportDiagnostics(e,!1,t.getEnclosingDecl())},r.prototype.typeCheckAccessor=function(t,n,r){var i=t,s=n.getEnclosingDecl(),o=this.resolveSymbolAndReportDiagnostics(t,r,s);this.checkForResolutionError(o.getType(),s);var u=e.hasFlag(i.getFunctionFlags(),32),a=!u,f=o.getGetter(),l=o.getSetter(),c=n.semanticInfo.getDeclForAST(i);n.pushEnclosingDecl(c),this.typeCheckAST(i.arguments,n,r),this.typeCheckAST(i.block,n,!1);var h=n.getEnclosingDeclHasReturn();this.validateVariableDeclarationGroups(c,n),n.popEnclosingDecl();var p=c.getSignatureSymbol(),d=p.getParameters(),v=p.getReturnType();this.checkForResolutionError(v,s);var m=i.name;u&&!h&&(i.block.statements.members.length>0&&i.block.statements.members[0].nodeType===95||this.postError(m.minChar,m.getLength(),n.scriptName,195,null,n.getEnclosingDecl()));if(f&&l){var g=f.getDeclarations()[0],y=l.getDeclarations()[0],b=g.getFlags()&2,w=y.getFlags()&2;b!=w&&this.postError(m.minChar,m.getLength(),n.scriptName,196,null,n.getEnclosingDecl())}return this.checkFunctionTypePrivacy(i,r,n),null},r.prototype.typeCheckConstructor=function(e,t,n){var r=t.getEnclosingDecl(),i=this.resolveSymbolAndReportDiagnostics(e,n,r),s=t.semanticInfo.getDeclForAST(e);t.pushEnclosingDecl(s),this.typeCheckAST(e.typeArguments,t,n),t.inConstructorArguments=!0,this.typeCheckAST(e.arguments,t,n),t.inConstructorArguments=!1,t.seenSuperConstructorCall=!1,this.typeCheckAST(e.returnTypeAnnotation,t,!1),this.typeCheckAST(e.block,t,!1),this.validateVariableDeclarationGroups(s,t),t.popEnclosingDecl();var o=s.getSignatureSymbol(),u=o.getParameters();if(u.length)for(var a=0,f=u.length;a<f;a++)this.checkForResolutionError(u[a].getType(),r);this.checkForResolutionError(o.getReturnType(),r);if(s.getSignatureSymbol()&&s.getSignatureSymbol().isDefinition()&&this.enclosingClassIsDerived(t))if(!t.seenSuperConstructorCall)this.postError(e.minChar,11,t.scriptName,175,null,r);else if(this.superCallMustBeFirstStatementInConstructor(s,r)){var l=this.getFirstStatementFromFunctionDeclAST(e);(!l||!this.isSuperCallNode(l))&&this.postError(e.minChar,11,t.scriptName,174,null,r)}return this.typeCheckFunctionOverloads(e,t),this.checkFunctionTypePrivacy(e,n,t),i?i.getType():null},r.prototype.typeCheckIndexer=function(n,r,i){var s=r.getEnclosingDecl();this.resolver.resolveAST(n,i,s,this.context);var o=n,u=r.semanticInfo.getDeclForAST(o);r.pushEnclosingDecl(u),this.typeCheckAST(o.arguments,r,!1),this.typeCheckAST(o.returnTypeAnnotation,r,!1),r.popEnclosingDecl();var a=u.getSignatureSymbol(),f=a.getParameters();if(f.length){var l=null;for(var c=0;c<f.length;c++)this.checkForResolutionError(f[c].getType(),s)}this.checkForResolutionError(a.getReturnType(),s),this.checkFunctionTypePrivacy(o,i,r);var h=f[0].getType()===this.semanticInfoChain.numberTypeSymbol,p=s.getSymbol().getType().getIndexSignatures();for(var c=0;c<p.length;c++){p[c].isResolved()||this.resolver.resolveDeclaredSymbol(p[c],p[c].getDeclarations()[0].getParentDecl(),this.context);if(p[c].getParameters()[0].getType()!==f[0].getType()){var d,v;if(h)v=a,d=p[c];else{v=p[c],d=a;if(s.getSymbol()===v.getDeclarations()[0].getParentDecl().getSymbol())break}var m=new t,g=new e.PullTypeResolutionContext;this.resolver.sourceIsSubtypeOfTarget(v.getReturnType(),d.getReturnType(),g,m)||(m.message?this.postError(o.minChar,o.getLength(),r.scriptName,236,[v.getReturnType().toString(),d.getReturnType().toString(),m.message],r.getEnclosingDecl()):this.postError(o.minChar,o.getLength(),r.scriptName,235,[v.getReturnType().toString(),d.getReturnType().toString()],r.getEnclosingDecl()));break}}var y=s.getSymbol().getType().getAllMembers(e.PullElementKind.All,!0);for(var c=0;c<y.length;c++){var b=y[c].getName();if(b){y[c].isResolved()||this.resolver.resolveDeclaredSymbol(y[c],y[c].getDeclarations()[0].getParentDecl(),this.context);if(s.getSymbol()!==y[c].getContainer()){var w=isFinite(+b);h===w&&this.checkThatMemberIsSubtypeOfIndexer(y[c],a,o,r,h)}}}return null},r.prototype.typeCheckMembersAgainstIndexer=function(t,n){var r=t.getIndexSignatures();if(r.length>0){var i=n.getEnclosingDecl().getChildDecls();for(var s=0;s<i.length;s++){var o=i[s];if(!o.getName()||o.getKind()&e.PullElementKind.SomeSignature)continue;var u=isFinite(+o.getName());for(var a=0;a<r.length;a++){r[a].isResolved()||this.resolver.resolveDeclaredSymbol(r[a],r[a].getDeclarations()[0].getParentDecl(),this.context);if(r[a].getParameters()[0].getType()===this.semanticInfoChain.numberTypeSymbol===u){this.checkThatMemberIsSubtypeOfIndexer(o.getSymbol(),r[a],this.semanticInfoChain.getASTForDecl(o),n,u);break}}}}},r.prototype.checkThatMemberIsSubtypeOfIndexer=function(n,r,i,s,o){var u=new t,a=new e.PullTypeResolutionContext;this.resolver.sourceIsSubtypeOfTarget(n.getType(),r.getReturnType(),a,u)||(o?u.message?this.postError(i.minChar,i.getLength(),s.scriptName,238,[r.getReturnType().toString(),u.message],s.getEnclosingDecl()):this.postError(i.minChar,i.getLength(),s.scriptName,237,[r.getReturnType().toString()],s.getEnclosingDecl()):u.message?this.postError(i.minChar,i.getLength(),s.scriptName,240,[r.getReturnType().toString(),u.message],s.getEnclosingDecl()):this.postError(i.minChar,i.getLength(),s.scriptName,239,[r.getReturnType().toString()],s.getEnclosingDecl()))},r.prototype.typeCheckIfTypeMemberPropertyOkToOverride=function(t,n,r,i,s){if(!t.isClass())return!0;var o=r.getKind(),u=i.getKind();if(o===u)return!0;var a;o===4096?r.isAccessor()?a=258:a=259:o===65536&&(i.isAccessor()?a=260:a=261);var f=e.getDiagnosticMessage(a,[t.toString(),r.getScopedNameEx().toString(),n.toString()]);return s.addMessage(f),!1},r.prototype.typeCheckIfTypeExtendsType=function(n,r,i,s){var o=r.getMembers(),u=new e.PullTypeResolutionContext,a=new t,f=!1;for(var l=0;l<o.length;l++){var c=o[l].getName(),h=i.findMember(c);if(h){f=!this.typeCheckIfTypeMemberPropertyOkToOverride(r,i,o[l],h,a),f||(f=!this.resolver.sourcePropertyIsSubtypeOfTargetProperty(r,i,o[l],h,u,a));if(f)break}}!f&&r.hasOwnCallSignatures()&&(f=!this.resolver.sourceCallSignaturesAreSubtypeOfTargetCallSignatures(r,i,u,a)),!f&&r.hasOwnConstructSignatures()&&(f=!this.resolver.sourceConstructSignaturesAreSubtypeOfTargetConstructSignatures(r,i,u,a)),!f&&r.hasOwnIndexSignatures()&&(f=!this.resolver.sourceIndexSignaturesAreSubtypeOfTargetIndexSignatures(r,i,u,a));if(!f&&r.isClass()){var p=r.getConstructorMethod().getType(),d=p.getMembers();if(d.length){var v=i.getConstructorMethod().getType(),m=new t(a);for(var l=0;l<d.length;l++){var c=d[l].getName(),g=v.findMember(c);if(g){if(!g.isResolved()){var y=s.semanticInfo.getASTForSymbol(i),b=s.semanticInfo.getDeclForAST(y);this.resolver.resolveDeclaredSymbol(g,b,u)}var w=d[l].getType(),E=g.getType();if(!this.resolver.sourceIsSubtypeOfTarget(w,E,u,m)){var S;m.message?S=e.getDiagnosticMessage(263,[g.getScopedNameEx().toString(),r.toString(),i.toString(),m.message]):S=e.getDiagnosticMessage(262,[g.getScopedNameEx().toString(),r.toString(),i.toString()]),a.addMessage(S),f=!0;break}}}}}if(f){var x;r.isClass()?x=208:i.isClass()?x=209:x=210,this.postError(n.name.minChar,n.name.getLength(),s.scriptName,x,[r.getScopedName(),i.getScopedName(),a.message],s.getEnclosingDecl())}},r.prototype.typeCheckIfClassImplementsType=function(n,r,i,s){var o=new e.PullTypeResolutionContext,u=new t,a=!this.resolver.sourceMembersAreSubtypeOfTargetMembers(r,i,o,u);a||(a=!this.resolver.sourceCallSignaturesAreSubtypeOfTargetCallSignatures(r,i,o,u),a||(a=!this.resolver.sourceConstructSignaturesAreSubtypeOfTargetConstructSignatures(r,i,o,u),a||(a=!this.resolver.sourceIndexSignaturesAreSubtypeOfTargetIndexSignatures(r,i,o,u))));if(a){var f=i.isClass()?205:204;this.postError(n.name.minChar,n.name.getLength(),s.scriptName,f,[r.getScopedName(),i.getScopedName(),u.message],s.getEnclosingDecl())}},r.prototype.typeCheckBase=function(t,n,r,i,s){var o=this,u=s.semanticInfo.getDeclForAST(t),a=new e.PullTypeResolutionContext;a.isResolvingClassExtendedType=!0;var f=this.typeCheckAST(new e.TypeReference(r,0),s,!1);a.isResolvingClassExtendedType=!1;var l=n.isClass();if(!n.isValidBaseKind(f,i)){if(f.isError()){var c=f.getDiagnostic();c&&this.postError(r.minChar,r.getLength(),s.scriptName,c.diagnosticCode(),c.arguments(),s.getEnclosingDecl())}else i?l?this.postError(r.minChar,r.getLength(),s.scriptName,144,null,s.getEnclosingDecl()):this.postError(r.minChar,r.getLength(),s.scriptName,146,null,s.getEnclosingDecl()):this.postError(r.minChar,r.getLength(),s.scriptName,145,null,s.getEnclosingDecl());return}if(f.getRootSymbol().hasBase(n.getRootSymbol())){n.setHasBaseTypeConflict(),f.setHasBaseTypeConflict(),this.postError(t.name.minChar,t.name.getLength(),s.scriptName,l?170:171,[n.getScopedName()],s.getEnclosingDecl());return}i?this.typeCheckIfTypeExtendsType(t,n,f,s):this.typeCheckIfClassImplementsType(t,n,f,s),this.checkTypePrivacy(n,f,s,function(e){return o.baseListPrivacyErrorReporter(t,n,r,i,e,s)})},r.prototype.typeCheckBases=function(e,t,n){if(!e.extendsList&&!e.implementsList)return;for(var r=0;r<e.extendsList.members.length;r++)this.typeCheckBase(e,t,e.extendsList.members[r],!0,n);if(t.isClass())for(var r=0;r<e.implementsList.members.length;r++)this.typeCheckBase(e,t,e.implementsList.members[r],!1,n);else e.implementsList&&this.postError(e.implementsList.minChar,e.implementsList.getLength(),n.scriptName,147,null,n.getEnclosingDecl())},r.prototype.typeCheckClass=function(e,t){var n=e,r=this.resolveSymbolAndReportDiagnostics(e,!1,t.getEnclosingDecl()).getType();this.checkForResolutionError(r,t.getEnclosingDecl()),this.typeCheckAST(n.typeParameters,t,!1);var i=t.semanticInfo.getDeclForAST(n);return t.pushEnclosingDecl(i),this.typeCheckAST(n.typeParameters,t,!1),this.typeCheckBases(n,r,t),this.typeCheckAST(n.members,t,!1),r.hasBaseTypeConflict()||this.typeCheckMembersAgainstIndexer(r,t),t.popEnclosingDecl(),r},r.prototype.typeCheckInterface=function(e,t){var n=e,r=this.resolveSymbolAndReportDiagnostics(e,!1,t.getEnclosingDecl()).getType();this.checkForResolutionError(r,t.getEnclosingDecl());var i=t.semanticInfo.getDeclForAST(n);return t.pushEnclosingDecl(i),this.typeCheckAST(n.typeParameters,t,!1),this.typeCheckBases(e,r,t),this.typeCheckAST(n.members,t,!1),r.hasBaseTypeConflict()||this.typeCheckMembersAgainstIndexer(r,t),t.popEnclosingDecl(),r},r.prototype.typeCheckModule=function(t,n){var r=t,i=this.resolveSymbolAndReportDiagnostics(t,!1,n.getEnclosingDecl());this.checkForResolutionError(i,n.getEnclosingDecl());var s=n.semanticInfo.getDeclForAST(r);n.pushEnclosingDecl(s);var o=r.name.text,u=e.isQuoted(o)||e.hasFlag(r.getModuleFlags(),512);if(u&&r.members&&r.members.members)for(var a=r.members.members.length-1;a>=0;a--)if(r.members.members[a]&&r.members.members[a].nodeType==87){this.typeCheckAST(r.members.members[a],n,!1);break}return this.typeCheckAST(r.members,n,!1),this.validateVariableDeclarationGroups(s,n),n.popEnclosingDecl(),i},r.prototype.checkAssignability=function(e,n,r,i){var s=new t,o=this.resolver.sourceIsAssignableToTarget(n,r,this.context,s);if(!o){var u=i.getEnclosingDecl();s.message?this.postError(e.minChar,e.getLength(),i.scriptName,83,[n.toString(),r.toString(),s.message],u):this.postError(e.minChar,e.getLength(),i.scriptName,82,[n.toString(),r.toString()],u)}},r.prototype.isValidLHS=function(t,n){var r=n.getType();return t.nodeType===35||this.resolver.isAnyOrEquivalent(r)?!0:!n.isType()||r.isArray()?(n.getKind()&e.PullElementKind.SomeLHS)!=0&&!n.hasFlag(4096):!1},r.prototype.typeCheckAssignment=function(e,t){var n=t.getEnclosingDecl();this.typeCheckAST(e.operand1,t,!1);var r=this.resolveSymbolAndReportDiagnostics
(e.operand1,!1,t.getEnclosingDecl()),i=r.getType();this.checkForResolutionError(i,n),i=this.resolver.widenType(r.getType()),this.context.pushContextualType(i,this.context.inProvisionalResolution(),null);var s=this.resolver.widenType(this.typeCheckAST(e.operand2,t,!0));return this.context.popContextualType(),this.isValidLHS(e.operand1,r)||this.postError(e.operand1.minChar,e.operand1.getLength(),t.scriptName,197,null,n),this.checkAssignability(e.operand1,s,i,t),s},r.prototype.typeCheckGenericType=function(e,t){var n=this.context.resolvingTypeReference;return this.context.resolvingTypeReference=!0,this.typeCheckAST(e.name,t,!1),this.context.resolvingTypeReference=n,this.typeCheckAST(e.typeArguments,t,!1),this.resolveSymbolAndReportDiagnostics(e,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckObjectLiteral=function(e,t,n){var r=e,i=t.getEnclosingDecl(),s=this.resolveSymbolAndReportDiagnostics(e,n,i).getType(),o=r.operand,u=this.context.getContextualType(),a;if(o){var f=null;for(var l=0;l<o.members.length;l++){var c=o.members[l];if(u){var h;c.operand1.nodeType===20?h=c.operand1.text:c.operand1.nodeType===5&&(h=c.operand1.text),f=u.findMember(h),f&&this.context.pushContextualType(f.getType(),this.context.inProvisionalResolution(),null)}this.typeCheckAST(c.operand2,t,f!=null),f&&(this.context.popContextualType(),f=null)}}return this.checkForResolutionError(s,i),s},r.prototype.typeCheckArrayLiteral=function(e,t,n){var r=e,i=t.getEnclosingDecl(),s=this.resolveSymbolAndReportDiagnostics(e,n,i).getType(),o=r.operand,u=this.context.getContextualType(),a=null;u&&u.isArray()&&(a=u.getElementType());if(o&&o.members&&o.members.length){var f=[];a&&this.context.pushContextualType(a,this.context.inProvisionalResolution(),null);for(var l=0;l<o.members.length;l++)f[f.length]=this.typeCheckAST(o.members[l],t,!1);a&&this.context.popContextualType()}return this.checkForResolutionError(s,i),s},r.prototype.enclosingClassIsDerived=function(e){var t=e.getEnclosingDecl(8);if(t){var n=t.getSymbol();if(n.getExtendedTypes().length>0)return!0}return!1},r.prototype.isSuperCallNode=function(e){if(e&&e.nodeType===88){var t=e;if(t.expression&&t.expression.nodeType===36){var n=t.expression;if(n.target&&n.target.nodeType===30)return!0}}return!1},r.prototype.getFirstStatementFromFunctionDeclAST=function(e){return e.block&&e.block.statements&&e.block.statements.members?e.block.statements.members[0]:null},r.prototype.superCallMustBeFirstStatementInConstructor=function(e,t){if(e&&t){var n=t.getSymbol();if(n.getExtendedTypes().length===0)return!1;var r=n.getMembers();for(var i=0,s=r.length;i<s;i++){var o=r[i];if(o.getKind()===4096){var u=o.getDeclarations();for(var a=0,f=u.length;a<f;a++){var l=u[a],c=this.semanticInfoChain.getASTForDecl(l);if(c.nodeType===19)return!0;if(c.nodeType===17){var h=c;if(h.init)return!0}}}}}return!1},r.prototype.checkForThisOrSuperCaptureInArrowFunction=function(t,n){var r=n.getEnclosingDecl(),i=n.enclosingDeclStack;if(i.length){var s=!1;for(var o=i.length-1;o>=0;o--){var u=i[o],a=u.getKind(),f=u.getFlags();if(a===131072&&e.hasFlag(f,8192)){s=!0;continue}if(s)if(a===16384||a===65536||a===32768||a===262144||a===524288||a===131072||a===8||a===4||a===32||a===1){u.setFlags(u.getFlags()|262144),a===8&&u.getChildDecls().filter(function(e){return e.getKind()===32768}).map(function(e){return e.setFlags(e.getFlags()|262144)});break}}}},r.prototype.typeCheckThisExpression=function(e,t){var n=t.getEnclosingDecl(),r=t.getEnclosingNonLambdaDecl();return t.inSuperConstructorCall&&this.superCallMustBeFirstStatementInConstructor(t.getEnclosingDecl(32768),t.getEnclosingDecl(8))?this.postError(e.minChar,e.getLength(),t.scriptName,168,null,n):r&&(r.getKind()===8?this.postError(e.minChar,e.getLength(),t.scriptName,207,null,n):r.getKind()===4||r.getKind()===32?this.postError(e.minChar,e.getLength(),t.scriptName,178,null,n):t.inConstructorArguments&&this.postError(e.minChar,e.getLength(),t.scriptName,222,null,n)),this.checkForThisOrSuperCaptureInArrowFunction(e,t),this.resolveSymbolAndReportDiagnostics(e,!1,n).getType()},r.prototype.typeCheckSuperExpression=function(e,t){var n=t.getEnclosingDecl(),r=t.getEnclosingNonLambdaDecl(),i=r.getKind(),s=t.inSuperConstructorTarget;return s&&n.getKind()!==32768?this.postError(e.minChar,e.getLength(),t.scriptName,176,null,n):i!==65536&&i!==262144&&i!==524288&&i!==32768||(r.getFlags()&16)!==0?this.postError(e.minChar,e.getLength(),t.scriptName,172,null,n):this.enclosingClassIsDerived(t)||this.postError(e.minChar,e.getLength(),t.scriptName,173,null,n),this.checkForThisOrSuperCaptureInArrowFunction(e,t),this.resolveSymbolAndReportDiagnostics(e,!1,n).getType()},r.prototype.typeCheckCallExpression=function(t,n){var r=n.getEnclosingDecl(),i=t.target.nodeType===30,s=new e.PullAdditionalCallResolutionData,o=this.resolver.resolveCallExpression(t,!1,r,this.context,s);this.reportDiagnostics(o,r);var u=o.symbol.getType();this.typeCheckAST(t.typeArguments,n,!1);if(!u.isError()){var a=n.inSuperConstructorTarget;i&&(n.inSuperConstructorTarget=!0),this.typeCheckAST(t.target,n,!1),n.inSuperConstructorTarget=a}i&&r.getKind()===32768&&(n.seenSuperConstructorCall=!0);var f=n.inSuperConstructorCall;i&&(n.inSuperConstructorCall=!0);var l=s.actualParametersContextTypeSymbols;if(t.arguments){var c=t.arguments.members;for(var h=0,p=c.length;h<p;h++){var d=c[h];l&&l[h]&&this.context.pushContextualType(l[h],this.context.inProvisionalResolution(),null),this.typeCheckAST(d,n,!1),l&&l[h]&&this.context.popContextualType()}}return n.inSuperConstructorCall=f,u},r.prototype.typeCheckObjectCreationExpression=function(t,n){var r=n.getEnclosingDecl(),i=new e.PullAdditionalCallResolutionData,s=this.resolver.resolveNewExpression(t,!1,r,this.context,i);this.reportDiagnostics(s,n.getEnclosingDecl());var o=s.symbol.getType();this.typeCheckAST(t.target,n,!1),this.typeCheckAST(t.typeArguments,n,!1);var u=i.actualParametersContextTypeSymbols;if(t.arguments){var a=t.arguments.members;for(var f=0,l=a.length;f<l;f++){var c=a[f];u&&u[f]&&this.context.pushContextualType(u[f],this.context.inProvisionalResolution(),null),this.typeCheckAST(c,n,!1),u&&u[f]&&this.context.popContextualType()}}return o},r.prototype.typeCheckTypeAssertion=function(e,n){var r=n.getEnclosingDecl(),i=this.resolveSymbolAndReportDiagnostics(e,!1,r).getType();if(i.isError()){var s=i.getData();this.postError(e.minChar,e.getLength(),n.scriptName,166,[s],n.getEnclosingDecl())}this.context.pushContextualType(i,this.context.inProvisionalResolution(),null);var o=this.typeCheckAST(e.operand,n,!0);this.context.popContextualType();var u=new t,a=this.resolver.sourceIsAssignableToTarget(i,o,this.context,u)||this.resolver.sourceIsAssignableToTarget(o,i,this.context,u);if(!a){var f;u.message?this.postError(e.minChar,e.getLength(),n.scriptName,83,[o.toString(),i.toString(),u.message],n.getEnclosingDecl()):this.postError(e.minChar,e.getLength(),n.scriptName,82,[o.toString(),i.toString()],n.getEnclosingDecl())}return i},r.prototype.typeCheckLogicalOperation=function(n,r){var i=this.typeCheckAST(n.operand1,r,!1),s=this.typeCheckAST(n.operand2,r,!1),o=new t;return!this.resolver.sourceIsAssignableToTarget(i,s,this.context,o)&&!this.resolver.sourceIsAssignableToTarget(s,i,this.context,o)&&this.postError(n.minChar,n.getLength(),r.scriptName,80,[e.BinaryExpression.getTextForBinaryToken(n.nodeType),i.toString(),s.toString()],r.getEnclosingDecl()),this.resolveSymbolAndReportDiagnostics(n,!1,r.getEnclosingDecl()).getType()},r.prototype.typeCheckLogicalAndOrExpression=function(e,t){return this.typeCheckAST(e.operand1,t,!1),this.typeCheckAST(e.operand2,t,!1),this.resolveSymbolAndReportDiagnostics(e,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckCommaExpression=function(e,t){return this.typeCheckAST(e.operand1,t,!1),this.typeCheckAST(e.operand2,t,!1),this.resolveSymbolAndReportDiagnostics(e,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckBinaryAdditionOperation=function(t,n){var r=n.getEnclosingDecl();this.resolveSymbolAndReportDiagnostics(t,!1,r).getType();var i=this.typeCheckAST(t.operand1,n,!1),s=this.typeCheckAST(t.operand2,n,!1);if(e.PullHelpers.symbolIsEnum(i))i=this.semanticInfoChain.numberTypeSymbol;else if(i===this.semanticInfoChain.nullTypeSymbol||i===this.semanticInfoChain.undefinedTypeSymbol)s!=this.semanticInfoChain.nullTypeSymbol&&s!=this.semanticInfoChain.undefinedTypeSymbol?i=s:i=this.semanticInfoChain.anyTypeSymbol;if(e.PullHelpers.symbolIsEnum(s))s=this.semanticInfoChain.numberTypeSymbol;else if(s===this.semanticInfoChain.nullTypeSymbol||s===this.semanticInfoChain.undefinedTypeSymbol)i!=this.semanticInfoChain.nullTypeSymbol&&i!=this.semanticInfoChain.undefinedTypeSymbol?s=i:s=this.semanticInfoChain.anyTypeSymbol;var o=null;i===this.semanticInfoChain.stringTypeSymbol||s===this.semanticInfoChain.stringTypeSymbol?o=this.semanticInfoChain.stringTypeSymbol:this.resolver.isAnyOrEquivalent(i)||this.resolver.isAnyOrEquivalent(s)?o=this.semanticInfoChain.anyTypeSymbol:s===this.semanticInfoChain.numberTypeSymbol&&i===this.semanticInfoChain.numberTypeSymbol&&(o=this.semanticInfoChain.numberTypeSymbol);if(o){if(t.nodeType===39){var u=this.resolveSymbolAndReportDiagnostics(t.operand1,!1,n.getEnclosingDecl());this.isValidLHS(t.operand1,u)||this.postError(t.operand1.minChar,t.operand1.getLength(),n.scriptName,197,null,r),this.checkAssignability(t.operand1,o,i,n)}}else this.postError(t.operand1.minChar,t.operand1.getLength(),n.scriptName,180,null,n.getEnclosingDecl()),o=this.semanticInfoChain.anyTypeSymbol;return o},r.prototype.typeCheckBinaryArithmeticOperation=function(t,n){var r=n.getEnclosingDecl();this.resolveSymbolAndReportDiagnostics(t,!1,r).getType();var i=this.typeCheckAST(t.operand1,n,!1),s=this.typeCheckAST(t.operand2,n,!1),o=this.resolver.isAnyOrEquivalent(i)||i===this.semanticInfoChain.numberTypeSymbol||e.PullHelpers.symbolIsEnum(i),u=this.resolver.isAnyOrEquivalent(s)||s===this.semanticInfoChain.numberTypeSymbol||e.PullHelpers.symbolIsEnum(s);u||this.postError(t.operand1.minChar,t.operand1.getLength(),n.scriptName,181,null,n.getEnclosingDecl()),o||this.postError(t.operand2.minChar,t.operand2.getLength(),n.scriptName,182,null,n.getEnclosingDecl());if(u&&o)switch(t.nodeType){case 47:case 48:case 49:case 40:case 42:case 41:case 43:case 46:case 44:case 45:var a=this.resolveSymbolAndReportDiagnostics(t.operand1,!1,n.getEnclosingDecl());this.isValidLHS(t.operand1,a)||this.postError(t.operand1.minChar,t.operand1.getLength(),n.scriptName,197,null,r),this.checkAssignability(t.operand1,s,i,n)}return this.semanticInfoChain.numberTypeSymbol},r.prototype.typeCheckLogicalNotExpression=function(e,t,n){return this.typeCheckAST(e.operand,t,n),this.semanticInfoChain.booleanTypeSymbol},r.prototype.typeCheckUnaryArithmeticOperation=function(t,n,r){var i=this.typeCheckAST(t.operand,n,r);switch(t.nodeType){case 26:case 27:case 72:return this.semanticInfoChain.numberTypeSymbol}var s=this.resolver.isAnyOrEquivalent(i)||i===this.semanticInfoChain.numberTypeSymbol||e.PullHelpers.symbolIsEnum(i);s||this.postError(t.operand.minChar,t.operand.getLength(),n.scriptName,183,null,n.getEnclosingDecl());switch(t.nodeType){case 76:case 74:case 77:case 75:var o=this.resolveSymbolAndReportDiagnostics(t.operand,!1,n.getEnclosingDecl());this.isValidLHS(t.operand,o)||this.postError(t.operand.minChar,t.operand.getLength(),n.scriptName,206,null,n.getEnclosingDecl())}return i},r.prototype.typeCheckElementAccessExpression=function(e,t){return this.typeCheckAST(e.operand1,t,!1),this.typeCheckAST(e.operand2,t,!1),this.resolveSymbolAndReportDiagnostics(e,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckTypeOf=function(e,t){return this.typeCheckAST(e.operand,t,!1),this.semanticInfoChain.stringTypeSymbol},r.prototype.typeCheckTypeReference=function(t,n){if(t.term.nodeType===12)this.typeCheckFunctionTypeSignature(t.term,n.getEnclosingDecl(),n);else if(t.term.nodeType===14)this.typeCheckInterfaceTypeReference(t.term,n.getEnclosingDecl(),n);else{var r=this.context.resolvingTypeReference;this.context.resolvingTypeReference=!0;var i=this.typeCheckAST(t.term,n,!1);i&&!i.isError()&&!n.inImportDeclaration&&(i.getKind()&e.PullElementKind.SomeType)===0&&(i.getKind()&e.PullElementKind.SomeContainer?this.postError(t.minChar,t.getLength(),n.scriptName,264,[i.toString()],n.getEnclosingDecl()):this.postError(t.minChar,t.getLength(),n.scriptName,265,null,n.getEnclosingDecl())),this.context.resolvingTypeReference=r}return this.resolveSymbolAndReportDiagnostics(t,!1,n.getEnclosingDecl()).getType()},r.prototype.typeCheckExportAssignment=function(e,t){return this.resolveSymbolAndReportDiagnostics(e,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckFunctionTypeSignature=function(e,t,n){var r=this.resolver.getSymbolAndDiagnosticsForAST(e),i=r&&r.symbol;i||(i=this.resolver.resolveFunctionTypeSignature(e,t,this.context));var s=n.semanticInfo.getDeclForAST(e);n.pushEnclosingDecl(s),this.typeCheckAST(e.arguments,n,!1),n.popEnclosingDecl();var o=i.getKind()===33554432?i.getConstructSignatures()[0]:i.getCallSignatures()[0],u=o.getParameters();for(var a=0;a<u.length;a++)this.checkForResolutionError(u[a].getType(),t);if(e.returnTypeAnnotation){var f=o.getReturnType();this.checkForResolutionError(f,t)}return this.typeCheckFunctionOverloads(e,n,o,[o]),i},r.prototype.typeCheckInterfaceTypeReference=function(e,t,n){var r=this.resolver.getSymbolAndDiagnosticsForAST(e),i=r&&r.symbol;i||(i=this.resolver.resolveInterfaceTypeReference(e,t,this.context));var s=n.semanticInfo.getDeclForAST(e);return n.pushEnclosingDecl(s),this.typeCheckAST(e.members,n,!1),this.typeCheckMembersAgainstIndexer(i,n),n.popEnclosingDecl(),i},r.prototype.typeCheckConditionalExpression=function(e,t){return this.typeCheckAST(e.operand1,t,!1),this.typeCheckAST(e.operand2,t,!1),this.typeCheckAST(e.operand3,t,!1),this.resolveSymbolAndReportDiagnostics(e,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckThrowStatement=function(e,t){this.typeCheckAST(e.expression,t,!1);var n=this.resolveSymbolAndReportDiagnostics(e.expression,!1,t.getEnclosingDecl()).getType();return this.checkForResolutionError(n,t.getEnclosingDecl()),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckDeleteExpression=function(e,t){this.typeCheckAST(e.operand,t,!1);var n=t.getEnclosingDecl(),r=this.resolveSymbolAndReportDiagnostics(e,!1,n).getType();return this.checkForResolutionError(r,n),r},r.prototype.typeCheckVoidExpression=function(e,t){this.typeCheckAST(e.operand,t,!1);var n=t.getEnclosingDecl(),r=this.resolveSymbolAndReportDiagnostics(e,!1,n).getType();return this.checkForResolutionError(r,n),r},r.prototype.typeCheckRegExpExpression=function(e,t){var n=this.resolveSymbolAndReportDiagnostics(e,!1,t.getEnclosingDecl()).getType();return this.checkForResolutionError(n,t.getEnclosingDecl()),n},r.prototype.typeCheckForStatement=function(e,t){return this.typeCheckAST(e.init,t,!1),this.typeCheckAST(e.cond,t,!1),this.typeCheckAST(e.body,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckForInStatement=function(e,t){var n=e,r=this.resolver.widenType(this.typeCheckAST(n.obj,t,!1)),i=n.lval;if(i.nodeType===18){var s=n.lval,o=s.declarators.members[0];o.typeExpr&&this.postError(i.minChar,i.getLength(),t.scriptName,184,null,t.getEnclosingDecl())}var u=this.resolveSymbolAndReportDiagnostics(n.lval,!1,t.getEnclosingDecl());this.checkForResolutionError(u.getType(),t.getEnclosingDecl());var a=u.getType()===this.semanticInfoChain.stringTypeSymbol||this.resolver.isAnyOrEquivalent(u.getType()),f=r&&(this.resolver.isAnyOrEquivalent(r)||!r.isPrimitive());return a||this.postError(i.minChar,i.getLength(),t.scriptName,185,null,t.getEnclosingDecl()),f||this.postError(n.obj.minChar,n.obj.getLength(),t.scriptName,186,null,t.getEnclosingDecl()),this.typeCheckAST(n.body,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckInExpression=function(e,t){var n=this.resolver.widenType(this.typeCheckAST(e.operand1,t,!1)),r=this.resolver.widenType(this.typeCheckAST(e.operand2,t,!1)),i=n.getType()===this.semanticInfoChain.stringTypeSymbol||this.resolver.isAnyOrEquivalent(n.getType())||this.resolver.isNumberOrEquivalent(n.getType()),s=r&&(this.resolver.isAnyOrEquivalent(r)||!r.isPrimitive());return i||this.postError(e.operand1.minChar,e.operand1.getLength(),t.scriptName,187,null,t.getEnclosingDecl()),s||this.postError(e.operand1.minChar,e.operand1.getLength(),t.scriptName,188,null,t.getEnclosingDecl()),this.semanticInfoChain.booleanTypeSymbol},r.prototype.typeCheckInstanceOfExpression=function(e,t){var n=this.resolver.widenType(this.typeCheckAST(e.operand1,t,!1)),r=this.typeCheckAST(e.operand2,t,!1),i=n&&(this.resolver.isAnyOrEquivalent(n)||!n.isPrimitive()),s=r&&(this.resolver.isAnyOrEquivalent(r)||r.isClass()||this.resolver.typeIsSubtypeOfFunction(r,this.context));return i||this.postError(e.operand1.minChar,e.operand1.getLength(),t.scriptName,189,null,t.getEnclosingDecl()),s||this.postError(e.operand1.minChar,e.operand1.getLength(),t.scriptName,190,null,t.getEnclosingDecl()),this.semanticInfoChain.booleanTypeSymbol},r.prototype.typeCheckParenthesizedExpression=function(e,t){return this.typeCheckAST(e.expression,t,!1)},r.prototype.typeCheckWhileStatement=function(e,t){return this.typeCheckAST(e.cond,t,!1),this.typeCheckAST(e.body,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckDoStatement=function(e,t){return this.typeCheckAST(e.cond,t,!1),this.typeCheckAST(e.body,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckIfStatement=function(e,t){return this.typeCheckAST(e.cond,t,!1),this.typeCheckAST(e.thenBod,t,!1),this.typeCheckAST(e.elseBod,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckBlock=function(e,t){return this.typeCheckAST(e.statements,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckVariableDeclaration=function(e,t){return this.typeCheckAST(e.declarators,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckVariableStatement=function(e,t){return this.typeCheckAST(e.declaration,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckWithStatement=function(e,t){return this.postError(e.expr.minChar,e.expr.getLength(),t.scriptName,202,null,t.getEnclosingDecl()),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckTryStatement=function(e,t){return this.typeCheckAST(e.tryBody,t,!1),this.typeCheckAST(e.catchClause,t,!1),this.typeCheckAST(e.finallyBody,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckCatchClause=function(e,t){var n=this.resolver.getDeclForAST(e);return t.pushEnclosingDecl(n),this.typeCheckAST(e.body,t,!1),t.popEnclosingDecl(),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckReturnStatement=function(n,r){r.setEnclosingDeclHasReturn();var i=n.returnExpression,s=r.getEnclosingDecl(),o=!1,u;if(s.getKind()&e.PullElementKind.SomeFunction){u=this.resolver.getASTForDecl(s);if(u.returnTypeAnnotation){var a=this.resolver.resolveTypeReference(u.returnTypeAnnotation,s,this.context).symbol;a&&(o=!0,this.context.pushContextualType(a,this.context.inProvisionalResolution(),null))}else{var f=this.context.getContextualType();if(f&&f.isFunction()){var l=f.getDeclarations()[0].getSignatureSymbol(),c=l.getReturnType();c&&(o=!0,this.context.pushContextualType(c,this.context.inProvisionalResolution(),null))}}}var h=this.typeCheckAST(i,r,o);o&&this.context.popContextualType(),s.getKind()===524288&&i&&this.postError(i.minChar,i.getLength(),r.scriptName,191,null,r.getEnclosingDecl());if(s.getKind()&e.PullElementKind.SomeFunction){u=this.resolver.getASTForDecl(s);if(u.returnTypeAnnotation){var p=s.getSignatureSymbol(),d=p.getReturnType();if(h&&d){var v=new t,m=null;h.isTypeParameter()&&(m=h.getConstraint(),m&&(h=m)),d.isTypeParameter()&&(m=d.getConstraint(),m&&(d=m)),h.isResolved()||this.resolver.resolveDeclaredSymbol(h,s,this.context),d.isResolved()||this.resolver.resolveDeclaredSymbol(d,s,this.context);var g=this.resolver.sourceIsAssignableToTarget(h,d,this.context,v);g||(v.message?this.postError(i.minChar,i.getLength(),r.scriptName,83,[h.toString(),d.toString(),v.message],s):this.postError(i.minChar,i.getLength(),r.scriptName,82,[h.toString(),d.toString()],s))}}}return h},r.prototype.typeCheckNameExpression=function(e,t){var n=t.getEnclosingDecl(),r=this.resolveSymbolAndReportDiagnostics(e,!1,n).getType();return this.checkForResolutionError(r,n),r},r.prototype.checkForSuperMemberAccess=function(e,t,n){var r=t.getEnclosingDecl();return n&&e.operand1.nodeType===30&&!n.isError()&&n.getKind()!==65536?(this.postError(e.operand2.minChar,e.operand2.getLength(),t.scriptName,234,[],r),!0):!1},r.prototype.checkForPrivateMemberAccess=function(e,t,n,r){var i=t.getEnclosingDecl();if(r&&r.hasFlag(2)){var s=r.getContainer();s&&s.getKind()===33554432&&(s=s.getAssociatedContainerType());if(s&&s.isClass()){var o=t.getEnclosingClassDecl();if(!o||o.getSymbol()!==s){var u=e.operand2;return this.postError(u.minChar,u.getLength(),t.scriptName,177,[s.toString(!1),u.actualText],i),!0}}}return!1},r.prototype.checkForStaticMemberAccess=function(e,t,n,r){if(n&&r&&!r.isError())if(n.isClass()||n.getKind()===33554432){var i=e.operand2,s=t.getEnclosingDecl();if(r.hasFlag(16)||this.resolver.isPrototypeMember(e,s,this.context))if(n.getKind()!==33554432){var s=t.getEnclosingDecl();return this.postError(i.minChar,i.getLength(),t.scriptName,223,null,s),!0}}return!1},r.prototype.typeCheckMemberAccessExpression=function(e,t){var n=t.getEnclosingDecl(),r=this.resolveSymbolAndReportDiagnostics(e,!1,n),i=r.getType();this.checkForResolutionError(i,n);var s=this.context.canUseTypeSymbol;this.context.canUseTypeSymbol=!0;var o=this.typeCheckAST(e.operand1,t,!1);return this.context.canUseTypeSymbol=s,this.checkForSuperMemberAccess(e,t,r)||this.checkForPrivateMemberAccess(e,t,o,r)||this.checkForStaticMemberAccess(e,t,o,r),i},r.prototype.typeCheckSwitchStatement=function(e,t){return this.typeCheckAST(e.val,t,!1),this.typeCheckAST(e.caseList,t,!1),this.typeCheckAST(e.defaultCase,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckExpressionStatement=function(e,t,n){return this.typeCheckAST(e.expression,t,n)},r.prototype.typeCheckCaseClause=function(e,t){return this.typeCheckAST(e.expr,t,!1),this.typeCheckAST(e.body,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckLabeledStatement=function(e,t){return this.typeCheckAST(e.statement,t,!1)},r.prototype.checkTypePrivacy=function(t,n,r,i){if(!n||n.getKind()===2)return;if(n.isArray()){this.checkTypePrivacy(t,n.getElementType(),r,i);return}if(!n.isNamedTypeSymbol()){var s=n.getMembers();for(var o=0;o<s.length;o++)this.checkTypePrivacy(t,s[o].getType(),r,i);this.checkTypePrivacyOfSignatures(t,n.getCallSignatures(),r,i),this.checkTypePrivacyOfSignatures(t,n.getConstructSignatures(),r,i),this.checkTypePrivacyOfSignatures(t,n.getIndexSignatures(),r,i);return}if(t.isExternallyVisible()){var u=n.isExternallyVisible();if(u){var a=n.pathToRoot();if(a.length&&a[a.length-1].getKind()===32){var f=t.pathToRoot();if(f.length&&f[f.length-1]!=a[a.length-1]){u=!1;for(var o=a.length-1;o>=0;o--){var l=a[o].getAliasedSymbol(t);if(l){e.CompilerDiagnostics.assert(l.getKind()===256,"dynamic module need to be referenced by type alias"),l.setIsTypeUsedExternally(),u=!0;break}}}}}u||i(n)}},r.prototype.checkTypePrivacyOfSignatures=function(e,t,n,r){for(var i=0;i<t.length;i++){var s=t[i];if(t.length&&s.isDefinition())continue;var o=s.getTypeParameters();for(var u=0;u<o.length;u++)this.checkTypePrivacy(e,o[u],n,r);var a=s.getParameters();for(var u=0;u<a.length;u++){var f=a[u].getType();this.checkTypePrivacy(e,f,n,r)}var l=s.getReturnType();this.checkTypePrivacy(e,l,n,r)}},r.prototype.baseListPrivacyErrorReporter=function(t,n,r,i,s,o){var u=this.resolver.getDeclForAST(t),a=o.getEnclosingDecl(),f,l,c=s.getScopedName();s.isContainer()?(e.isQuoted(c)||(c="'"+c+"'"),t.nodeType===13?i?(f=92,l=[n.getScopedName(),c]):(f=93,l=[n.getScopedName(),c]):(f=94,l=[n.getDisplayName(),c])):t.nodeType===13?i?(f=89,l=[n.getScopedName(),c]):(f=90,l=[n.getScopedName(),c]):(f=91,l=[n.getDisplayName(),c]),this.context.postError(o.scriptName,r.minChar,r.getLength(),f,l,a,!0)},r.prototype.variablePrivacyErrorReporter=function(t,n,r){var i=this.resolver.getASTForSymbol(t),s=r.getEnclosingDecl(),o=t.getKind()===4096,u=!1,a=t.getContainer();a&&(a.getKind()===8||a.getKind()===32768)&&(u=!0);var f,l,c=n.getScopedName();n.isContainer()?(e.isQuoted(c)||(c="'"+c+"'"),t.hasFlag(16)?(f=99,l=[t.getScopedName(),c]):o?u?(f=100,l=[t.getScopedName(),c]):(f=101,l=[t.getScopedName(),c]):(f=102,l=[t.getScopedName(),c])):t.hasFlag(16)?(f=95,l=[t.getScopedName(),c]):o?u?(f=96,l=[t.getScopedName(),c]):(f=97,l=[t.getScopedName(),c]):(f=98,l=[t.getScopedName(),c]),this.context.postError(r.scriptName,i.minChar,i.getLength(),f,l,s,!0)},r.prototype.checkFunctionTypePrivacy=function(e,t,n){var r=this;if(t||e.getFunctionFlags()&8192||e.getFunctionFlags()&16384)return;var i=n.semanticInfo.getDeclForAST(e),s=i.getSymbol(),o,u=e.isGetAccessor(),a=e.isSetAccessor();if(u||a){var f=s;o=(u?f.getGetter():f.getSetter()).getType().getCallSignatures()[0]}else{if(!s){var l=i.getParentDecl();s=l.getSymbol();if(s&&s.isType()&&!s.isNamedTypeSymbol())return}else if(s.getKind()==65536&&!s.getContainer().isNamedTypeSymbol())return;o=i.getSignatureSymbol()}if(!u){var c=o.getParameters();for(var h=0;h<c.length;h++)this.checkTypePrivacy(s,c[h].getType(),n,function(t){return r.functionArgumentTypePrivacyErrorReporter(e,h,c[h],t,n)})}a||this.checkTypePrivacy(s,o.getReturnType(),n,function(t){return r.functionReturnTypePrivacyErrorReporter(e,o.getReturnType(),t,n)})},r.prototype.functionArgumentTypePrivacyErrorReporter=function(t,n,r,i,s){var o=this.resolver.getDeclForAST(t),u=s.getEnclosingDecl(),a=t.isAccessor()&&e.hasFlag(t.getFunctionFlags(),32),f=t.isAccessor()&&e.hasFlag(t.getFunctionFlags(),64),l=(o.getFlags()&16)===16,c=o.getKind()===65536,h=!1,p=o.getParentDecl();p&&(p.getKind()===8||p.getKind()===32768)&&(h=!0);var d=t.arguments.members[n].minChar,v=t.arguments.members[n].getLength(),m=i.getScopedName();i.isContainer()?(e.isQuoted(m)||(m="'"+m+"'"),t.isConstructor?this.context.postError(s.scriptName,d,v,112,[r.getScopedName(),m],u,!0):f?l?this.context.postError(s.scriptName,d,v,113,[r.getScopedName(),m],u,!0):this.context.postError(s.scriptName,d,v,114,[r.getScopedName(),m],u,!0):t.isConstructMember()?this.context.postError(s.scriptName,d,v,115,[r.getScopedName(),m],u,!0):t.isCallMember()?this.context.postError(s.scriptName,d,v,116,[r.getScopedName(),m],u,!0):c?l?this.context.postError(s.scriptName,d,v,117,[r.getScopedName(),m],u,!0):h?this.context.postError(s.scriptName,d,v,118,[r.getScopedName(),m],u,!0):this.context.postError(s.scriptName,d,v,119,[r.getScopedName(),m],u,!0):a||this.context.postError(s.scriptName,d,v,120,[r.getScopedName(),m],u,!0)):t.isConstructor?this.context.postError(s.scriptName,d,v,103,[r.getScopedName(),m],u,!0):f?l?this.context.postError(s.scriptName,d,v,104,[r.getScopedName(),m],u,!0):this.context.postError(s.scriptName,d,v,105,[r.getScopedName(),m],u,!0):t.isConstructMember()?this.context.postError(s.scriptName,d,v,106,[r.getScopedName(),m],u,!0):t.isCallMember()?this.context.postError(s.scriptName,d,v,107,[r.getScopedName(),m],u,!0):c?l?this.context.postError(s.scriptName,d,v,108,[r.getScopedName(),m],u,!0):h?this.context.postError(s.scriptName,d,v,109,[r.getScopedName(),m],u,!0):this.context.postError(s.scriptName,d,v,110,[r.getScopedName(),m],u,!0):!a&&!t.isIndexerMember()&&this.context.postError(s.scriptName,d,v,111,[r.getScopedName(),m],u,!0)},r.prototype.functionReturnTypePrivacyErrorReporter=function(t,n,r,i){var s=this,o=this.resolver.getDeclForAST(t),u=i.getEnclosingDecl(),a=t.isAccessor()&&e.hasFlag(t.getFunctionFlags(),32),f=t.isAccessor()&&e.hasFlag(t.getFunctionFlags(),64),l=(o.getFlags()&16)===16,c=o.getKind()===65536,h=!1,p=o.getParentDecl();p&&(p.getKind()===8||p.getKind()===32768)&&(h=!0);var d=null,v,m=r.getScopedName();r.isContainer()?(e.isQuoted(m)||(m="'"+m+"'"),a?l?(d=130,v=[m]):(d=131,v=[m]):t.isConstructMember()?(d=132,v=[m]):t.isCallMember()?(d=133,v=[m]):t.isIndexerMember()?(d=134,v=[m]):c?l?(d=135,v=[m]):h?(d=136,v=[m]):(d=137,v=[m]):!f&&!t.isConstructor&&(d=138,v=[m])):a?l?(d=121,v=[m]):(d=122,v=[m]):t.isConstructMember()?(d=123,v=[m]):t.isCallMember()?(d=124,v=[m]):t.isIndexerMember()?(d=125,v=[m]):c?l?(d=126,v=[m]):h?(d=127,v=[m]):(d=128,v=[m]):!f&&!t.isConstructor&&(d=129,v=[m]);if(d){var g=!1,y=new e.PullTypeResolutionContext;if(t.returnTypeAnnotation){var b=this.resolver.resolveTypeReference(t.returnTypeAnnotation,o,y),w=b&&b.symbol;w===n&&this.context.postError(i.scriptName,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),d,v,u,!0)}if(t.block){var E=function(e,t,r){var a=!0;switch(e.nodeType){case 12:a=!1;break;case 93:var f=e,l=s.resolver.resolveAST(f.returnExpression,!1,o,y).symbol.getType();l===n?s.context.postError(i.scriptName,f.minChar,f.getLength(),d,v,u,!0):g=!0,a=!1;break;default:}return r.options.goChildren=a,e};e.getAstWalkerFactory().walk(t.block,E)}g&&this.context.postError(i.scriptName,t.minChar,t.getLength(),d,v,u,!0)}},r.globalPullTypeCheckPhase=0,r}();e.PullTypeChecker=r})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){e[e.NoChanges=0]="NoChanges",e[e.DeclAdded=1]="DeclAdded",e[e.DeclRemoved=2]="DeclRemoved",e[e.DeclChanged=3]="DeclChanged"})(e.PullDeclEdit||(e.PullDeclEdit={}));var t=e.PullDeclEdit,n=function(){function e(e,t,n){this.oldDecl=e,this.newDecl=t,this.kind=n}return e}();e.PullDeclDiff=n;var r=function(){function t(e,t){this.oldSemanticInfo=e,this.newSemanticInfo=t,this.differences=[]}return t.diffDecls=function(e,n,r,i){var s=new t(n,i);return s.diff(e,r),s.differences},t.prototype.diff=function(t,r){e.Debug.assert(t.getName()===r.getName()),e.Debug.assert(t.getKind()===r.getKind());var i=this.oldSemanticInfo.getASTForDecl(t),s=this.newSemanticInfo.getASTForDecl(r);e.Debug.assert(i!==undefined),e.Debug.assert(s!==undefined);if(i===s)return;this.diff1(t,r,i,s,t.childDeclTypeCache,r.childDeclTypeCache),this.diff1(t,r,i,s,t.childDeclTypeParameterCache,r.childDeclTypeParameterCache),this.diff1(t,r,i,s,t.childDeclValueCache,r.childDeclValueCache),this.diff1(t,r,i,s,t.childDeclNamespaceCache,r.childDeclNamespaceCache),this.isEquivalent(i,s)||this.differences.push(new n(t,r,3))},t.prototype.diff1=function(e,r,i,s,o,u){var a,f,l,c;for(var h in o){a=o[h]||t.emptyDeclArray,f=u[h]||t.emptyDeclArray;for(var p=0,d=a.length;p<d;p++){l=a[p];switch(l.getKind()){case 131072:case 512:case 8388608:case 16777216:case 33554432:continue}p<f.length?(c=f[p],l.getKind()===c.getKind()?this.diff(l,f[p]):(this.differences.push(new n(l,null,2)),this.differences.push(new n(e,c,1)))):this.differences.push(new n(l,null,2))}}for(var h in u){a=o[h]||t.emptyDeclArray,f=u[h]||t.emptyDeclArray;for(var p=a.length,d=f.length;p<d;p++)c=f[p],this.differences.push(new n(e,c,1))}},t.prototype.isEquivalent=function(t,n){e.Debug.assert(t!==null),e.Debug.assert(n!==null),e.Debug.assert(t!==n);if(t.nodeType!==n.nodeType||t.getFlags()!==n.getFlags())return!1;switch(t.nodeType){case 16:return this.importDeclarationIsEquivalent(t,n);case 15:return this.moduleDeclarationIsEquivalent(t,n);case 13:return this.classDeclarationIsEquivalent(t,n);case 14:return this.interfaceDeclarationIsEquivalent(t,n);case 19:return this.argumentDeclarationIsEquivalent(t,n);case 17:return this.variableDeclarationIsEquivalent(t,n);case 9:return this.typeParameterIsEquivalent(t,n);case 12:return this.functionDeclarationIsEquivalent(t,n);case 101:return this.catchClauseIsEquivalent(t,n);case 99:return this.withStatementIsEquivalent(t,n);case 2:return this.scriptIsEquivalent(t,n);default:throw e.Errors.invalidOperation()}},t.prototype.importDeclarationIsEquivalent=function(t,n){return e.structuralEqualsNotIncludingPosition(t.alias,n.alias)},t.prototype.typeDeclarationIsEquivalent=function(t,n){return t.getVarFlags()===n.getVarFlags()&&e.structuralEqualsNotIncludingPosition(t.typeParameters,n.typeParameters)&&e.structuralEqualsNotIncludingPosition(t.extendsList,n.extendsList)&&e.structuralEqualsNotIncludingPosition(t.implementsList,n.implementsList)},t.prototype.classDeclarationIsEquivalent=function(e,t){return this.typeDeclarationIsEquivalent(e,t)},t.prototype.interfaceDeclarationIsEquivalent=function(e,t){return this.typeDeclarationIsEquivalent(e,t)},t.prototype.typeParameterIsEquivalent=function(t,n){return e.structuralEqualsNotIncludingPosition(t.constraint,n.constraint)},t.prototype.boundDeclarationIsEquivalent=function(t,n){return t.getVarFlags()===n.getVarFlags()&&e.structuralEqualsNotIncludingPosition(t.typeExpr,n.typeExpr)?t.typeExpr===null?e.structuralEqualsNotIncludingPosition(t.init,n.init):!0:!1},t.prototype.argumentDeclarationIsEquivalent=
function(e,t){return this.boundDeclarationIsEquivalent(e,t)&&e.isOptional===t.isOptional},t.prototype.variableDeclarationIsEquivalent=function(e,t){return this.boundDeclarationIsEquivalent(e,t)},t.prototype.functionDeclarationIsEquivalent=function(t,n){return t.hint===n.hint&&t.getFunctionFlags()===n.getFunctionFlags()&&t.variableArgList===n.variableArgList&&t.isConstructor===n.isConstructor&&e.structuralEqualsNotIncludingPosition(t.returnTypeAnnotation,n.returnTypeAnnotation)&&e.structuralEqualsNotIncludingPosition(t.typeArguments,n.typeArguments)&&e.structuralEqualsNotIncludingPosition(t.arguments,n.arguments)?t.returnTypeAnnotation===null?e.structuralEqualsNotIncludingPosition(t.block,n.block):!0:!1},t.prototype.catchClauseIsEquivalent=function(t,n){return e.structuralEqualsNotIncludingPosition(t.param,n.param)&&e.structuralEqualsNotIncludingPosition(t.body,n.body)},t.prototype.withStatementIsEquivalent=function(t,n){return e.structuralEqualsNotIncludingPosition(t.expr,n.expr)&&e.structuralEqualsNotIncludingPosition(t.body,n.body)},t.prototype.scriptIsEquivalent=function(e,t){return!0},t.prototype.moduleDeclarationIsEquivalent=function(t,n){return t.getModuleFlags()===n.getModuleFlags()&&n.prettyName===n.prettyName&&e.ArrayUtilities.sequenceEquals(t.amdDependencies,n.amdDependencies,e.StringUtilities.stringEquals)},t.emptyDeclArray=[],t}();e.PullDeclDiffer=r})(TypeScript||(TypeScript={}));var TypeScript;(function(e){e.declCacheHit=0,e.declCacheMiss=0,e.symbolCacheHit=0,e.symbolCacheMiss=0;var t=function(){function t(t){this.topLevelDecls=[],this.topLevelSynthesizedDecls=[],this.astDeclMap=new e.DataMap,this.declASTMap=new e.DataMap,this.syntaxElementDeclMap=new e.DataMap,this.declSyntaxElementMap=new e.DataMap,this.astSymbolMap=new e.DataMap,this.symbolASTMap=new e.DataMap,this.syntaxElementSymbolMap=new e.DataMap,this.symbolSyntaxElementMap=new e.DataMap,this.properties=new n,this.hasBeenTypeChecked=!1,this.compilationUnitPath=t}return t.prototype.addTopLevelDecl=function(e){this.topLevelDecls[this.topLevelDecls.length]=e},t.prototype.setTypeChecked=function(){this.hasBeenTypeChecked=!0},t.prototype.getTypeChecked=function(){return this.hasBeenTypeChecked},t.prototype.invalidate=function(){this.astSymbolMap=new e.DataMap,this.symbolASTMap=new e.DataMap},t.prototype.getTopLevelDecls=function(){return this.topLevelDecls},t.prototype.getPath=function(){return this.compilationUnitPath},t.prototype.addSynthesizedDecl=function(e){this.topLevelSynthesizedDecls[this.topLevelSynthesizedDecls.length]=e},t.prototype.getSynthesizedDecls=function(){return this.topLevelSynthesizedDecls},t.prototype.getDeclForAST=function(e){return this.astDeclMap.read(e.getID().toString())},t.prototype.setDeclForAST=function(e,t){this.astDeclMap.link(e.getID().toString(),t)},t.prototype.getDeclKey=function(e){var t=e;return t.__declKey||(t.__declKey=e.getDeclID().toString()+"-"+e.getKind().toString()),t.__declKey},t.prototype.getASTForDecl=function(e){return this.declASTMap.read(this.getDeclKey(e))},t.prototype.setASTForDecl=function(e,t){this.declASTMap.link(this.getDeclKey(e),t)},t.prototype.setSymbolAndDiagnosticsForAST=function(e,t){this.astSymbolMap.link(e.getID().toString(),t),this.symbolASTMap.link(t.symbol.getSymbolID().toString(),e)},t.prototype.getSymbolAndDiagnosticsForAST=function(e){return this.astSymbolMap.read(e.getID().toString())},t.prototype.getASTForSymbol=function(e){return this.symbolASTMap.read(e.getSymbolID().toString())},t.prototype.getSyntaxElementForDecl=function(e){return this.declSyntaxElementMap.read(this.getDeclKey(e))},t.prototype.setSyntaxElementForDecl=function(e,t){this.declSyntaxElementMap.link(this.getDeclKey(e),t)},t.prototype.getDeclForSyntaxElement=function(t){return this.syntaxElementDeclMap.read(e.Collections.identityHashCode(t).toString())},t.prototype.setDeclForSyntaxElement=function(t,n){this.syntaxElementDeclMap.link(e.Collections.identityHashCode(t).toString(),n)},t.prototype.getSyntaxElementForSymbol=function(e){return this.symbolSyntaxElementMap.read(e.getSymbolID().toString())},t.prototype.getSymbolForSyntaxElement=function(t){return this.syntaxElementSymbolMap.read(e.Collections.identityHashCode(t).toString())},t.prototype.setSymbolForSyntaxElement=function(t,n){this.syntaxElementSymbolMap.link(e.Collections.identityHashCode(t).toString(),n),this.symbolSyntaxElementMap.link(n.getSymbolID().toString(),t)},t.prototype.getDiagnostics=function(t){for(var n=0;n<this.topLevelDecls.length;n++)e.getDiagnosticsFromEnclosingDecl(this.topLevelDecls[n],t)},t.prototype.getProperties=function(){return this.properties},t}();e.SemanticInfo=t;var n=function(){function e(){this.unitContainsBool=!1}return e}();e.SemanticInfoProperties=n;var r=function(){function n(){this.units=[new t("")],this.declCache=new e.BlockIntrinsics,this.symbolCache=new e.BlockIntrinsics,this.unitCache=new e.BlockIntrinsics,this.declSymbolMap=new e.DataMap,this.anyTypeSymbol=null,this.booleanTypeSymbol=null,this.numberTypeSymbol=null,this.stringTypeSymbol=null,this.nullTypeSymbol=null,this.undefinedTypeSymbol=null,this.elementTypeSymbol=null,this.voidTypeSymbol=null,e.globalBinder&&(e.globalBinder.semanticInfoChain=this);var n=this.getGlobalDecl(),r=this.units[0];r.addTopLevelDecl(n)}return n.prototype.addPrimitiveType=function(t,n){var r=new e.TextSpan(0,0),i=new e.PullDecl(t,t,2,0,r,""),s=new e.PullPrimitiveTypeSymbol(t);return s.addDeclaration(i),i.setSymbol(s),s.setResolved(),n&&n.addChildDecl(i),s},n.prototype.addPrimitiveValue=function(t,n,r){var i=new e.TextSpan(0,0),s=new e.PullDecl(t,t,1024,8,i,""),o=new e.PullSymbol(t,1024);o.addDeclaration(s),s.setSymbol(o),o.setType(n),o.setResolved(),r.addChildDecl(s)},n.prototype.getGlobalDecl=function(){var t=new e.TextSpan(0,0),n=new e.PullDecl("","",0,0,t,"");return this.anyTypeSymbol=this.addPrimitiveType("any",n),this.booleanTypeSymbol=this.addPrimitiveType("boolean",n),this.numberTypeSymbol=this.addPrimitiveType("number",n),this.stringTypeSymbol=this.addPrimitiveType("string",n),this.voidTypeSymbol=this.addPrimitiveType("void",n),this.elementTypeSymbol=this.addPrimitiveType("_element",n),this.nullTypeSymbol=this.addPrimitiveType("null",null),this.undefinedTypeSymbol=this.addPrimitiveType("undefined",null),this.addPrimitiveValue("undefined",this.undefinedTypeSymbol,n),this.addPrimitiveValue("null",this.nullTypeSymbol,n),n},n.prototype.addUnit=function(e){this.units[this.units.length]=e,this.unitCache[e.getPath()]=e},n.prototype.getUnit=function(e){for(var t=0;t<this.units.length;t++)if(this.units[t].getPath()===e)return this.units[t];return null},n.prototype.updateUnit=function(e,t){for(var n=0;n<this.units.length;n++)if(this.units[n].getPath()===e.getPath()){this.units[n]=t,this.unitCache[e.getPath()]=t;return}},n.prototype.collectAllTopLevelDecls=function(){var e=[],t;for(var n=0;n<this.units.length;n++){t=this.units[n].getTopLevelDecls();for(var r=0;r<t.length;r++)e[e.length]=t[r]}return e},n.prototype.collectAllSynthesizedDecls=function(){var e=[],t;for(var n=0;n<this.units.length;n++){t=this.units[n].getSynthesizedDecls();for(var r=0;r<t.length;r++)e[e.length]=t[r]}return e},n.prototype.getDeclPathCacheID=function(e,t){var n="";for(var r=0;r<e.length;r++)n+="#"+e[r];return n+"#"+t.toString()},n.prototype.findDecls=function(t,n){var r=this.getDeclPathCacheID(t,n);if(t.length){var i=this.declCache[r];if(i&&i.length)return e.declCacheHit++,i}e.declCacheMiss++;var s=this.collectAllTopLevelDecls(),o=[],u,a=[],f=n&4||n&16;for(var l=0;l<t.length;l++){u=t[l],o=[];for(var c=0;c<s.length;c++){a=s[c].searchChildDecls(u,n);for(var h=0;h<a.length;h++)o[o.length]=a[h];if(a.length&&!f)break}s=o;if(!s)break}return o.length&&(this.declCache[r]=o),o},n.prototype.findSymbol=function(t,n){var r=this.getDeclPathCacheID(t,n);if(t.length){var i=this.symbolCache[r];if(i)return e.symbolCacheHit++,i}e.symbolCacheMiss++;var s=this.findDecls(t,n),o=null;return s.length&&(o=s[0].getSymbol(),o&&(this.symbolCache[r]=o,o.addCacheID(r))),o},n.prototype.cacheGlobalSymbol=function(e,t){var n=this.getDeclPathCacheID([e.getName()],t),r=this.getDeclPathCacheID([e.getName()],e.getKind());this.symbolCache[n]||(this.symbolCache[n]=e,e.addCacheID(n)),this.symbolCache[r]||(this.symbolCache[r]=e,e.addCacheID(r))},n.prototype.cleanDecl=function(e){e.setSymbol(null),e.setSignatureSymbol(null),e.setSpecializingSignatureSymbol(null),e.setIsBound(!1);var t=e.getChildDecls();for(var n=0;n<t.length;n++)this.cleanDecl(t[n]);var r=e.getTypeParameters();for(var n=0;n<r.length;n++)this.cleanDecl(r[n]);var i=e.getValueDecl();i&&this.cleanDecl(i)},n.prototype.cleanAllDecls=function(){var e=this.collectAllTopLevelDecls();for(var t=1;t<e.length;t++)this.cleanDecl(e[t]);var n=this.collectAllSynthesizedDecls();for(var t=0;t<n.length;t++)this.cleanDecl(n[t])},n.prototype.update=function(){this.declCache=new e.BlockIntrinsics,this.symbolCache=new e.BlockIntrinsics,this.units[0]=new t(""),this.units[0].addTopLevelDecl(this.getGlobalDecl()),this.cleanAllDecls();for(var n in this.unitCache)this.unitCache[n]&&this.unitCache[n].invalidate()},n.prototype.invalidateUnit=function(e){var t=this.unitCache[e];t&&t.invalidate()},n.prototype.getDeclForAST=function(e,t){var n=this.unitCache[t];return n?n.getDeclForAST(e):null},n.prototype.getASTForDecl=function(e){var t=this.unitCache[e.getScriptName()];return t?t.getASTForDecl(e):null},n.prototype.getSymbolAndDiagnosticsForAST=function(e,t){var n=this.unitCache[t];return n?n.getSymbolAndDiagnosticsForAST(e):null},n.prototype.getASTForSymbol=function(e,t){var n=this.unitCache[t];return n?n.getASTForSymbol(e):null},n.prototype.setSymbolAndDiagnosticsForAST=function(e,t,n){var r=this.unitCache[n];r&&r.setSymbolAndDiagnosticsForAST(e,t)},n.prototype.setSymbolForDecl=function(e,t){this.declSymbolMap.link(e.getDeclID().toString(),t)},n.prototype.getSymbolForDecl=function(e){return this.declSymbolMap.read(e.getDeclID().toString())},n.prototype.removeSymbolFromCache=function(t){var n=[t.getName()],r=(t.getKind()&e.PullElementKind.SomeType)!==0?e.PullElementKind.SomeType:e.PullElementKind.SomeValue,i=this.getDeclPathCacheID(n,r),s=this.getDeclPathCacheID(n,t.getKind());t.addCacheID(i),t.addCacheID(s),t.invalidateCachedIDs(this.symbolCache)},n.prototype.postDiagnostics=function(){var e=[];for(var t=1;t<this.units.length;t++)this.units[t].getDiagnostics(e);return e},n}();e.SemanticInfoChain=r})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function n(t,n,r){var i=t,s=0,o=e.TextSpan.fromBounds(i.minChar,i.limChar),u=r.getParent();u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(s|=2097152);var a=new e.PullDecl(i.id.text,i.id.actualText,256,s,o,r.scriptName);return r.semanticInfo.setDeclForAST(t,a),r.semanticInfo.setASTForDecl(a,t),u.addChildDecl(a),a.setParentDecl(u),!1}function r(t,n,r){var i=t,s=0,o=i.name.text,u=e.isQuoted(o)||e.hasFlag(i.getModuleFlags(),512),a=4;e.hasFlag(i.getModuleFlags(),8)&&(s|=8),e.hasFlag(i.getModuleFlags(),1)&&(s|=1),e.hasFlag(i.getModuleFlags(),128)?(s|=135168,a=64):a=u?32:4;var f=e.TextSpan.fromBounds(i.minChar,i.limChar),l=new e.PullDecl(o,i.name.actualText,a,s,f,r.scriptName);r.semanticInfo.setDeclForAST(t,l),r.semanticInfo.setASTForDecl(l,t);var c=r.getParent();return c.addChildDecl(l),l.setParentDecl(c),r.pushParent(l),!0}function i(t,n,r){var i=0,s=1024;e.hasFlag(t.getVarFlags(),8)&&(i|=8),e.hasFlag(t.getVarFlags(),1)&&(i|=1);var o=e.TextSpan.fromBounds(t.minChar,t.limChar),u=new e.PullDecl(t.name.text,t.name.actualText,8,i,o,r.scriptName),a=new e.PullDecl(t.name.text,t.name.actualText,s,i|16384,o,r.scriptName);u.setValueDecl(a);var f=r.getParent();return f.addChildDecl(u),f.addChildDecl(a),u.setParentDecl(f),a.setParentDecl(f),r.pushParent(u),r.semanticInfo.setDeclForAST(t,u),r.semanticInfo.setASTForDecl(u,t),r.semanticInfo.setASTForDecl(a,t),!0}function s(t,n){var r=0,i=e.TextSpan.fromBounds(t.minChar,t.limChar),s=n.getParent();s&&(s.getKind()===536870912||s.getFlags()&2097152)&&(r|=2097152);var o=new e.PullDecl("","",8388608,r,i,n.scriptName);return n.semanticInfo.setDeclForAST(t,o),n.semanticInfo.setASTForDecl(o,t),s&&(s.addChildDecl(o),o.setParentDecl(s)),n.pushParent(o),!0}function o(t,n,r){var i=0;if(t.getFlags()&8)return s(t,r);e.hasFlag(t.getVarFlags(),1)&&(i|=1);var o=e.TextSpan.fromBounds(t.minChar,t.limChar),u=new e.PullDecl(t.name.text,t.name.actualText,16,i,o,r.scriptName);r.semanticInfo.setDeclForAST(t,u),r.semanticInfo.setASTForDecl(u,t);var a=r.getParent();return a&&(a.addChildDecl(u),u.setParentDecl(a)),r.pushParent(u),!0}function u(n,r,i){var s=0;e.hasFlag(n.getVarFlags(),2)?s|=2:s|=4;if(e.hasFlag(n.getFlags(),4)||e.hasFlag(n.id.getFlags(),4))s|=128;var o=i.getParent();o&&(o.getKind()===536870912||o.getFlags()&2097152)&&(s|=2097152);var u=e.TextSpan.fromBounds(n.minChar,n.limChar),a=new e.PullDecl(n.id.text,n.id.actualText,2048,s,u,i.scriptName);o.addChildDecl(a),a.setParentDecl(o);if(e.hasFlag(n.getVarFlags(),256)){var f=new e.PullDecl(n.id.text,n.id.actualText,4096,s,u,i.scriptName);f.setValueDecl(a),i.parentChain[i.parentChain.length-2].addChildDecl(f),f.setParentDecl(i.parentChain[i.parentChain.length-2]),i.semanticInfo.setASTForDecl(a,n),i.semanticInfo.setASTForDecl(f,n),i.semanticInfo.setDeclForAST(n,f)}else i.semanticInfo.setASTForDecl(a,n),i.semanticInfo.setDeclForAST(n,a);if(n.typeExpr&&(n.typeExpr.term.nodeType===14||n.typeExpr.term.nodeType===12)){var l=new t(i.semanticInfo);o&&l.pushParent(o),l.scriptName=i.scriptName,e.getAstWalkerFactory().walk(n.typeExpr.term,k,M,null,l)}return!1}function a(n,r,i){var s=0,o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=i.getParent();u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(s|=2097152);var a=new e.PullDecl(n.name.text,n.name.actualText,8192,s,o,i.scriptName);i.semanticInfo.setASTForDecl(a,n),i.semanticInfo.setDeclForAST(n,a),u.addChildDecl(a),a.setParentDecl(u);if(n.constraint&&(n.constraint.term.nodeType===14||n.constraint.term.nodeType===12)){var f=new t(i.semanticInfo);u&&f.pushParent(u),f.scriptName=i.scriptName,e.getAstWalkerFactory().walk(n.constraint.term,k,M,null,f)}return!0}function f(n,r){var i=4,s=r.getParent(),o=s.getKind()===64?67108864:4096;e.hasFlag(n.id.getFlags(),4)&&(i|=128),e.hasFlag(n.getVarFlags(),4096)&&(i|=524288);var u=e.TextSpan.fromBounds(n.minChar,n.limChar),a=new e.PullDecl(n.id.text,n.id.actualText,o,i,u,r.scriptName);r.semanticInfo.setDeclForAST(n,a),r.semanticInfo.setASTForDecl(a,n),s.addChildDecl(a),a.setParentDecl(s);if(n.typeExpr&&(n.typeExpr.term.nodeType===14||n.typeExpr.term.nodeType===12)){var f=new t(r.semanticInfo);s&&f.pushParent(s),f.scriptName=r.scriptName,e.getAstWalkerFactory().walk(n.typeExpr.term,k,M,null,f)}return!1}function l(n,r){var i=0,s=4096;e.hasFlag(n.getVarFlags(),2)?i|=2:i|=4,e.hasFlag(n.getVarFlags(),16)&&(i|=16);var o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=new e.PullDecl(n.id.text,n.id.actualText,s,i,o,r.scriptName);r.semanticInfo.setDeclForAST(n,u),r.semanticInfo.setASTForDecl(u,n);var a=r.getParent();a.addChildDecl(u),u.setParentDecl(a);if(n.typeExpr&&(n.typeExpr.term.nodeType===14||n.typeExpr.term.nodeType===12)){var f=new t(r.semanticInfo);a&&f.pushParent(a),f.scriptName=r.scriptName,e.getAstWalkerFactory().walk(n.typeExpr.term,k,M,null,f)}return!1}function c(n,r){var i=0,s=1024;e.hasFlag(n.getVarFlags(),8)&&(i|=8),e.hasFlag(n.getVarFlags(),1)&&(i|=1);var o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=r.getParent();u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(i|=2097152);var a=new e.PullDecl(n.id.text,n.id.actualText,s,i,o,r.scriptName);r.semanticInfo.setDeclForAST(n,a),r.semanticInfo.setASTForDecl(a,n),u.addChildDecl(a),a.setParentDecl(u);if(n.typeExpr&&(n.typeExpr.term.nodeType===14||n.typeExpr.term.nodeType===12)){var f=new t(r.semanticInfo);u&&f.pushParent(u),f.scriptName=r.scriptName,e.getAstWalkerFactory().walk(n.typeExpr.term,k,M,null,f)}return!1}function h(t,n,r){var i=t,s=0,o=1024,u=!1,a=!1;return e.hasFlag(i.getVarFlags(),2048)?l(i,r):e.hasFlag(i.getVarFlags(),256)?f(i,r):c(i,r)}function p(n,r){var i=2048,s=16777216,o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=r.getParent();u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(i|=2097152);var a=new e.PullDecl("","",s,i,o,r.semanticInfo.getPath());r.semanticInfo.setDeclForAST(n,a),r.semanticInfo.setASTForDecl(a,n),u&&(u.addChildDecl(a),a.setParentDecl(u)),r.pushParent(a);if(n.returnTypeAnnotation&&(n.returnTypeAnnotation.term.nodeType===14||n.returnTypeAnnotation.term.nodeType===12)){var f=new t(r.semanticInfo);u&&f.pushParent(u),f.scriptName=r.scriptName,e.getAstWalkerFactory().walk(n.returnTypeAnnotation.term,k,M,null,f)}return!0}function d(n,r){var i=0,s=33554432,o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=r.getParent();u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(i|=2097152);var a=new e.PullDecl("{new}","{new}",s,i,o,r.semanticInfo.getPath());r.semanticInfo.setDeclForAST(n,a),r.semanticInfo.setASTForDecl(a,n),u&&(u.addChildDecl(a),a.setParentDecl(u)),r.pushParent(a);if(n.returnTypeAnnotation&&(n.returnTypeAnnotation.term.nodeType===14||n.returnTypeAnnotation.term.nodeType===12)){var f=new t(r.semanticInfo);u&&f.pushParent(u),f.scriptName=r.scriptName,e.getAstWalkerFactory().walk(n.returnTypeAnnotation.term,k,M,null,f)}return!0}function v(n,r){var i=0,s=16384;e.hasFlag(n.getFunctionFlags(),8)&&(i|=8),e.hasFlag(n.getFunctionFlags(),1)&&(i|=1),n.block||(i|=2048);var o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=r.getParent();u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(i|=2097152);var a=new e.PullDecl(n.name.text,n.name.actualText,s,i,o,r.scriptName);r.semanticInfo.setDeclForAST(n,a),r.semanticInfo.setASTForDecl(a,n),u&&(u.addChildDecl(a),a.setParentDecl(u)),r.pushParent(a);if(n.returnTypeAnnotation&&(n.returnTypeAnnotation.term.nodeType===14||n.returnTypeAnnotation.term.nodeType===12)){var f=new t(r.semanticInfo);u&&f.pushParent(u),f.scriptName=r.scriptName,e.getAstWalkerFactory().walk(n.returnTypeAnnotation.term,k,M,null,f)}return!0}function m(n,r){var i=0;e.hasFlag(n.getFunctionFlags(),2048)&&(i|=8192);var s=e.TextSpan.fromBounds(n.minChar,n.limChar),o=r.getParent();o&&(o.getKind()===536870912||o.getFlags()&2097152)&&(i|=2097152);var u=n.name?n.name.actualText:"",a=new e.PullFunctionExpressionDecl(u,i,s,r.scriptName);r.semanticInfo.setDeclForAST(n,a),r.semanticInfo.setASTForDecl(a,n),o&&(o.addChildDecl(a),a.setParentDecl(o)),r.pushParent(a);if(n.returnTypeAnnotation&&(n.returnTypeAnnotation.term.nodeType===14||n.returnTypeAnnotation.term.nodeType===12)){var f=new t(r.semanticInfo);f.scriptName=r.scriptName,o&&f.pushParent(o),e.getAstWalkerFactory().walk(n.returnTypeAnnotation.term,k,M,null,f)}return!0}function g(n,r){var i=0,s=65536;e.hasFlag(n.getFunctionFlags(),16)&&(i|=16),e.hasFlag(n.getFunctionFlags(),2)?i|=2:i|=4,n.block||(i|=2048),e.hasFlag(n.name.getFlags(),4)&&(i|=128);var o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=new e.PullDecl(n.name.text,n.name.actualText,s,i,o,r.scriptName);r.semanticInfo.setDeclForAST(n,u),r.semanticInfo.setASTForDecl(u,n);var a=r.getParent();a&&(a.addChildDecl(u),u.setParentDecl(a)),r.pushParent(u);if(n.returnTypeAnnotation&&(n.returnTypeAnnotation.term.nodeType===14||n.returnTypeAnnotation.term.nodeType===12)){var f=new t(r.semanticInfo);f.scriptName=r.scriptName,a&&f.pushParent(a),e.getAstWalkerFactory().walk(n.returnTypeAnnotation.term,k,M,null,f)}return!0}function y(n,r){var i=3072,s=4194304,o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=r.getParent();u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(i|=2097152);var a=new e.PullDecl("[]","[]",s,i,o,r.scriptName);r.semanticInfo.setDeclForAST(n,a),r.semanticInfo.setASTForDecl(a,n),u&&(u.addChildDecl(a),a.setParentDecl(u)),r.pushParent(a);if(n.returnTypeAnnotation&&(n.returnTypeAnnotation.term.nodeType===14||n.returnTypeAnnotation.term.nodeType===12)){var f=new t(r.semanticInfo);u&&f.pushParent(u),f.scriptName=r.scriptName,e.getAstWalkerFactory().walk(n.returnTypeAnnotation.term,k,M,null,f)}return!0}function b(n,r){var i=2304,s=1048576,o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=r.getParent();u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(i|=2097152);var a=new e.PullDecl("()","()",s,i,o,r.scriptName);r.semanticInfo.setDeclForAST(n,a),r.semanticInfo.setASTForDecl(a,n),u&&(u.addChildDecl(a),a.setParentDecl(u)),r.pushParent(a);if(n.returnTypeAnnotation&&(n.returnTypeAnnotation.term.nodeType===14||n.returnTypeAnnotation.term.nodeType===12)){var f=new t(r.semanticInfo);f.scriptName=r.scriptName,u&&f.pushParent(u),e.getAstWalkerFactory().walk(n.returnTypeAnnotation.term,k,M,null,f)}return!0}function w(n,r){var i=2304,s=2097152,o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=r.getParent();u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(i|=2097152);var a=new e.PullDecl("new","new",s,i,o,r.scriptName);r.semanticInfo.setDeclForAST(n,a),r.semanticInfo.setASTForDecl(a,n),u&&(u.addChildDecl(a),a.setParentDecl(u)),r.pushParent(a);if(n.returnTypeAnnotation&&(n.returnTypeAnnotation.term.nodeType===14||n.returnTypeAnnotation.term.nodeType===12)){var f=new t(r.semanticInfo);f.scriptName=r.scriptName,u&&f.pushParent(u),e.getAstWalkerFactory().walk(n.returnTypeAnnotation.term,k,M,null,f)}return!0}function E(n,r){var i=512,s=32768;n.block||(i|=2048);var o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=r.getParent();if(u){var a=u.getFlags();a&1&&(i|=1)}var f=new e.PullDecl(u.getName(),u.getDisplayName(),s,i,o,r.scriptName);r.semanticInfo.setDeclForAST(n,f),r.semanticInfo.setASTForDecl(f,n),u&&(u.addChildDecl(f),f.setParentDecl(u)),r.pushParent(f);if(n.returnTypeAnnotation&&(n.returnTypeAnnotation.term.nodeType===14||n.returnTypeAnnotation.term.nodeType===12)){var l=new t(r.semanticInfo);l.scriptName=r.scriptName,u&&l.pushParent(u),e.getAstWalkerFactory().walk(n.returnTypeAnnotation.term,k,M,null,l)}return!0}function S(n,r){var i=4,s=262144;e.hasFlag(n.getFunctionFlags(),16)&&(i|=16),e.hasFlag(n.name.getFlags(),4)&&(i|=128),e.hasFlag(n.getFunctionFlags(),2)?i|=2:i|=4;var o=e.TextSpan.fromBounds(n.minChar,n.limChar),u=r.getParent();u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(i|=2097152);var a=new e.PullDecl(n.name.text,n.name.actualText,s,i,o,r.scriptName);r.semanticInfo.setDeclForAST(n,a),r.semanticInfo.setASTForDecl(a,n),u&&(u.addChildDecl(a),a.setParentDecl(u)),r.pushParent(a);if(n.returnTypeAnnotation&&(n.returnTypeAnnotation.term.nodeType===14||n.returnTypeAnnotation.term.nodeType===12)){var f=new t(r.semanticInfo);f.scriptName=r.scriptName,u&&f.pushParent(u),e.getAstWalkerFactory().walk(n.returnTypeAnnotation.term,k,M,null,f)}return!0}function x(t,n){var r=4,i=524288;e.hasFlag(t.getFunctionFlags(),16)&&(r|=16),e.hasFlag(t.name.getFlags(),4)&&(r|=128),e.hasFlag(t.getFunctionFlags(),2)?r|=2:r|=4;var s=e.TextSpan.fromBounds(t.minChar,t.limChar),o=n.getParent();o&&(o.getKind()===536870912||o.getFlags()&2097152)&&(r|=2097152);var u=new e.PullDecl(t.name.actualText,t.name.actualText,i,r,s,n.scriptName);return n.semanticInfo.setDeclForAST(t,u),n.semanticInfo.setASTForDecl(u,t),o&&(o.addChildDecl(u),u.setParentDecl(o)),n.pushParent(u),!0}function T(t,n,r){var i=0,s=1073741824,o=e.TextSpan.fromBounds(t.minChar,t.limChar),u=r.getParent();u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(i|=2097152);var a=new e.PullDecl("","",s,i,o,r.scriptName);return r.semanticInfo.setDeclForAST(t,a),r.semanticInfo.setASTForDecl(a,t),u&&(u.addChildDecl(a),a.setParentDecl(u)),r.pushParent(a),!0}function N(t,n,r){var i=0,s=536870912,o=e.TextSpan.fromBounds(t.minChar,t.limChar),u=r.getParent(),a=new e.PullDecl("","",s,i,o,r.scriptName);return r.semanticInfo.setDeclForAST(t,a),r.semanticInfo.setASTForDecl(a,t),u&&(u.addChildDecl(a),a.setParentDecl(u)),r.pushParent(a),!0}function C(t,n,r){var i=t;return i.isConstructor?E(i,r):i.isGetAccessor()?S(i,r):i.isSetAccessor()?x(i,r):e.hasFlag(i.getFunctionFlags(),1024)?e.hasFlag(i.getFlags(),8)?d(i,r):w(i,r):e.hasFlag(i.getFunctionFlags(),512)?b(i,r):e.hasFlag(i.getFunctionFlags(),4096)?y(i,r):e.hasFlag(i.getFlags(),8)?p(i,r):e.hasFlag(i.getFunctionFlags(),256)?g(i,r):e.hasFlag(i.getFunctionFlags(),26624)?m(i,r):v(i,r)}function k(t,s,f){var l=f.state,c=!1;if(t.nodeType===2){var p=t,d=e.TextSpan.fromBounds(p.minChar,p.limChar),v=new e.PullDecl(l.scriptName,l.scriptName,1,0,d,l.scriptName);l.semanticInfo.setDeclForAST(t,v),l.semanticInfo.setASTForDecl(v,t),l.pushParent(v),c=!0}else t.nodeType===1?c=!0:t.nodeType===81?c=!0:t.nodeType===18?c=!0:t.nodeType===97?c=!0:t.nodeType===15?c=r(t,s,l):t.nodeType===13?c=i(t,s,l):t.nodeType===14?c=o(t,s,l):t.nodeType===19?c=u(t,s,l):t.nodeType===17?c=h(t,s,l):t.nodeType===12?c=C(t,s,l):t.nodeType===16?c=n(t,s,l):t.nodeType===9?c=a(t,s,l):t.nodeType===91?c=!0:t.nodeType===90?c=!0:t.nodeType===89?c=!0:t.nodeType===98?c=!0:t.nodeType===85?c=!0:t.nodeType===25?c=!0:t.nodeType===93?c=!0:t.nodeType===94||t.nodeType===100?c=!0:t.nodeType===36?c=!0:t.nodeType===37?c=!0:t.nodeType===96?c=!0:t.nodeType===92?c=!0:t.nodeType===101?c=T(t,s,l):t.nodeType===99&&(c=N(t,s,l));return f.options.goChildren=c,t}function L(e){return e.getKind()===4||e.getKind()===32||e.getKind()===64}function A(e){return e.getKind()&4?32768:e.getKind()&64?131072:e.getKind()&32?65536:0}function O(e){var t=e.getKind();return t&4?(e.getFlags()&32768)!==0:t&64?(e.getFlags()&131072)!=0:t&32?(e.getFlags()&65536)!==0:!1}function M(t,n,r){var i=r.state,s,o=0;if(t.nodeType===15){var u=i.getParent();i.popParent(),s=i.getParent();if(O(u)){s&&L(s)&&(o=A(s),s.setFlags(s.getFlags()|o));var a=new e.PullDecl(u.getName(),u.getDisplayName(),1024,u.getFlags(),u.getSpan(),i.scriptName);u.setValueDecl(a),i.semanticInfo.setASTForDecl(a,t),s&&(s.addChildDecl(a),a.setParentDecl(s))}}else t.nodeType===13?(i.popParent(),s=i.getParent(),s&&L(s)&&(o=A(s),s.setFlags(s.getFlags()|o))):t.nodeType===14?i.popParent():t.nodeType===12?(i.popParent(),s=i.getParent(),s&&L(s)&&(o=A(s),s.setFlags(s.getFlags()|o))):t.nodeType===17?(s=i.getParent(),s&&L(s)&&(o=A(s),s.setFlags(s.getFlags()|o))):t.nodeType===101?(s=i.getParent(),s&&L(s)&&(o=A(s),s.setFlags(s.getFlags()|o)),i.popParent()):t.nodeType===99&&(s=i.getParent(),s&&L(s)&&(o=A(s),s.setFlags(s.getFlags()|o)),i.popParent());return t}var t=function(){function e(e,t){typeof t=="undefined"&&(t=""),this.semanticInfo=e,this.scriptName=t,this.parentChain=[],this.foundValueDecl=!1}return e.prototype.getParent=function(){return this.parentChain?this.parentChain[this.parentChain.length-1]:null},e.prototype.pushParent=function(e){e&&(this.parentChain[this.parentChain.length]=e)},e.prototype.popParent=function(){this.parentChain.length--},e}();e.DeclCollectionContext=t,e.preCollectImportDecls=n,e.preCollectModuleDecls=r,e.preCollectClassDecls=i,e.createObjectTypeDeclaration=s,e.preCollectInterfaceDecls=o,e.preCollectParameterDecl=u,e.preCollectTypeParameterDecl=a,e.createPropertySignature=f,e.createMemberVariableDeclaration=l,e.createVariableDeclaration=c,e.preCollectVarDecls=h,e.createFunctionTypeDeclaration=p,e.createConstructorTypeDeclaration=d,e.createFunctionDeclaration=v,e.createFunctionExpressionDeclaration=m,e.createMemberFunctionDeclaration=g,e.createIndexSignatureDeclaration=y,e.createCallSignatureDeclaration=b,e.createConstructSignatureDeclaration=w,e.createClassConstructorDeclaration=E,e.createGetAccessorDeclaration=S,e.createSetAccessorDeclaration=x,e.preCollectCatchDecls=T,e.preCollectWithDecls=N,e.preCollectFuncDecls=C,e.preCollectDecls=k,e.postCollectDecls=M})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function t(e){if(!e)return[];var t=e.getParentPath();if(t)return t;t=[e];var n=e.getParentDecl();while(n)n&&t[t.length-1]!=n&&!(n.getKind()&512)&&(t[t.length]=n),n=n.getParentDecl();return t=t.reverse(),e.setParentPath(t),t}function n(n,r,i){var s=(new Date).getTime(),o=t(i),u=[],a=null,f=0;if(o.length){for(var l=0;l<o.length;l++)u[u.length]=o[l].getName();u[u.length]=n;while(u.length>=2){a=e.globalSemanticInfoChain.findSymbol(u,r);if(a)return f=(new Date).getTime(),e.time_in_findSymbol+=f-s,a;u.length-=2,u[u.length]=n}}return a=e.globalSemanticInfoChain.findSymbol([n],r),f=(new Date).getTime(),e.time_in_findSymbol+=f-s,a}e.globalBindingPhase=0,e.getPathToDecl=t,e.findSymbolInContext=n;var r=function(){function r(t){this.semanticInfoChain=t,this.bindingPhase=e.globalBindingPhase++,this.functionTypeParameterCache=new e.BlockIntrinsics,this.reBindingAfterChange=!1,this.startingDeclForRebind=e.pullDeclID,this.startingSymbolForRebind=e.pullSymbolID}return r.prototype.findTypeParameterInCache=function(e){return this.functionTypeParameterCache[e]},r.prototype.addTypeParameterToCache=function(e){this.functionTypeParameterCache[e.getName()]=e},r.prototype.resetTypeParameterCache=function(){this.functionTypeParameterCache=new e.BlockIntrinsics},r.prototype.setUnit=function(e){this.semanticInfo=this.semanticInfoChain.getUnit(e)},r.prototype.getParent=function(e,t){typeof t=="undefined"&&(t=!1);var n=e.getParentDecl();if(n.getKind()==1)return null;var r=n.getSymbol();!r&&n&&!n.isBound()&&this.bindDeclToPullSymbol(n),r=n.getSymbol();if(r){var i=n.getKind();i==262144?r=r.getGetter():i==524288&&(r=r.getSetter())}if(r){if(t&&r.isType()&&r.isContainer()){var s=r.getInstanceSymbol();if(s)return s.getType()}return r.getType()}return null},r.prototype.findDeclsInContext=function(e,n,r){if(!r){var i=e.getParentDecl();return i.searchChildDecls(e.getName(),n)}var s=t(e);if(s.length){var o=[];for(var u=0;u<s.length;u++){if(s[u].getKind()&1)continue;o[o.length]=s[u].getName()}return this.semanticInfoChain.findDecls(o,n)}return this.semanticInfoChain.findDecls([name],n)},r.prototype.symbolIsRedeclaration=function(e){var t=e.getSymbolID();return t>=this.startingSymbolForRebind||e.getRebindingID()===this.bindingPhase&&t!==this.startingSymbolForRebind},r.prototype.bindModuleDeclarationToPullSymbol=function(t){var r=t.getName(),i=null,s=null,o=null,u=t.getValueDecl(),a=t.getKind(),f=this.getParent(t),l=this.getParent(t,!0),c=t.getParentDecl(),h=this.semanticInfo.getASTForDecl(t),p=t.getFlags()&1,d=(a&64)!=0,v=d?64:e.PullElementKind.SomeContainer,m=(t.getFlags()&e.PullElementFlags.SomeInitializedModule)!=0,g=!1;if(f)p?i=f.findNestedType(r,v):(i=f.findContainedMember(r),i&&!(i.getKind()&v)&&(i=null));else if(!p||t.getKind()===32)i=n(r,v,t);i&&i.getKind()!==a&&(m&&t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),h.minChar,h.getLength(),71,[t.getDisplayName()])),i=null),i?s=i.getInstanceSymbol():(i=new e.PullContainerTypeSymbol(r,a),g=!0,f||this.semanticInfoChain.cacheGlobalSymbol(i,v));if(!s&&m){var y=null;if(!d)if(l){p?(y=l.findMember(r,!1),y||(y=l.findContainedMember(r))):(y=l.findContainedMember(r),y||(y=l.findMember(r,!1)));if(y){var b=y.getDeclarations();if(b.length){var w=b[0].getParentDecl();c!==w&&(!this.reBindingAfterChange||w.getDeclID()>=this.startingDeclForRebind)&&(y=null)}}}else if(!(t.getFlags()&1)){var E=c.getChildDecls(),S=null;for(var x=0;x<E.length;x++){if(E[x]==t)break;if(E[x].getName()==r&&E[x].getKind()&(8|e.PullElementKind.SomeFunction)){S=E[x];break}}S&&(y=S.getSymbol(),y&&y.isType()&&(y=y.getConstructorMethod()))}if(y){var T=y.getKind(),N=T==16384||T==32768||y.hasFlag(e.PullElementFlags.ImplicitVariable);N?o=y.getType():y=null}o||(o=new e.PullTypeSymbol(r,8388608)),o.addDeclaration(t),o.setAssociatedContainerType(i),y?s=y:(s=new e.PullSymbol(r,1024),s.setType(o)),i.setInstanceSymbol(s)}i.addDeclaration(t),t.setSymbol(i),this.semanticInfo.setSymbolAndDiagnosticsForAST(h.name,e.SymbolAndDiagnostics.fromSymbol(i)),this.semanticInfo.setSymbolAndDiagnosticsForAST(h,e.SymbolAndDiagnostics.fromSymbol(i));var C=i.getDeclarations();if(d&&C.length>1&&h.members.members.length>0){var k=e.ArrayUtilities.where(C,function(e){return e.getKind()===64}).length>1;if(k){var L=h.members.members[0],A=L.declaration.declarators.members[0];A.isImplicitlyInitialized&&t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),A.minChar,A.getLength(),266,null))}}if(g){if(f){var O=t.getFlags()&1?5:6;O===5?f.addMember(i,O):i.setContainer(f)}}else if(this.reBindingAfterChange){var M=i.getDeclarations(),_=t.getScriptName();for(var x=0;x<M.length;x++)M[x].getScriptName()===_&&M[x].getDeclID()<this.startingDeclForRebind&&i.removeDeclaration(M[x]);i.invalidate(),s=i.getInstanceSymbol();if(s){var o=s.getType();M=o.getDeclarations();for(var x=0;x<M.length;x++)M[x].getScriptName()===_&&M[x].getDeclID()<this.startingDeclForRebind&&o.removeDeclaration(M[x]);o.addDeclaration(t),o.invalidate()}}if(d){o=i.getInstanceSymbol().getType();if(this.reBindingAfterChange){var D=o.getIndexSignatures();for(var x=0;x<D.length;x++)o.removeIndexSignature(D[x])}var P=new e.PullSignatureSymbol(4194304),H=new e.PullSymbol("x",2048);H.setType(this.semanticInfoChain.numberTypeSymbol),P.addParameter(H),P.setReturnType(this.semanticInfoChain.stringTypeSymbol
),o.addIndexSignature(P),o.recomputeIndexSignatures()}var B=t.getValueDecl();B&&B.ensureSymbolIsBound();var j=this.findDeclsInContext(t,t.getKind(),!0);if(j&&j.length)for(var x=0;x<j.length;x++)j[x].ensureSymbolIsBound()},r.prototype.bindImportDeclaration=function(t){var r=t.getFlags(),i=t.getKind(),s=this.semanticInfo.getASTForDecl(t),o=!1,u=6,a=null,f=t.getName(),l=!1,c=this.getParent(t);if(c){a=c.findMember(f,!1);if(!a){a=c.findContainedMember(f);if(a){var h=a.getDeclarations();if(h.length){var p=h[0].getParentDecl();p!==t.getParentDecl()&&(!this.reBindingAfterChange||p.getDeclID()>=this.startingDeclForRebind)&&(a=null)}}}}else t.getFlags()&1||(a=n(f,e.PullElementKind.SomeContainer,t));a&&(l=!0),a&&this.symbolIsRedeclaration(a)&&(t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),s.minChar,s.getLength(),71,[t.getDisplayName()])),a=null);if(this.reBindingAfterChange&&a){var d=a.getDeclarations(),v=t.getScriptName();for(var m=0;m<d.length;m++)d[m].getScriptName()===v&&d[m].getDeclID()<this.startingDeclForRebind&&a.removeDeclaration(d[m]);a.setUnresolved()}a||(a=new e.PullTypeAliasSymbol(f),c||this.semanticInfoChain.cacheGlobalSymbol(a,e.PullElementKind.SomeContainer)),a.addDeclaration(t),t.setSymbol(a),this.semanticInfo.setSymbolAndDiagnosticsForAST(s,e.SymbolAndDiagnostics.fromSymbol(a)),c&&!l&&(r&1?c.addMember(a,5):a.setContainer(c)),a.setIsBound(this.bindingPhase)},r.prototype.cleanInterfaceSignatures=function(e){var t=e.getCallSignatures(),n=e.getConstructSignatures(),r=e.getIndexSignatures();for(var i=0;i<t.length;i++)t[i].getSymbolID()<this.startingSymbolForRebind&&e.removeCallSignature(t[i],!1);for(var i=0;i<n.length;i++)n[i].getSymbolID()<this.startingSymbolForRebind&&e.removeConstructSignature(n[i],!1);for(var i=0;i<r.length;i++)r[i].getSymbolID()<this.startingSymbolForRebind&&e.removeIndexSignature(r[i],!1);e.recomputeCallSignatures(),e.recomputeConstructSignatures(),e.recomputeIndexSignatures()},r.prototype.cleanClassSignatures=function(e){var t=e.getCallSignatures(),n=e.getConstructSignatures(),r=e.getIndexSignatures();for(var i=0;i<t.length;i++)e.removeCallSignature(t[i],!1);for(var i=0;i<n.length;i++)e.removeConstructSignature(n[i],!1);for(var i=0;i<r.length;i++)e.removeIndexSignature(r[i],!1);e.recomputeCallSignatures(),e.recomputeConstructSignatures(),e.recomputeIndexSignatures();var s=e.getConstructorMethod(),o=s?s.getType():null;if(o){n=o.getConstructSignatures();for(var i=0;i<n.length;i++)o.removeConstructSignature(n[i],!1);o.recomputeConstructSignatures(),o.invalidate(),s.invalidate()}e.invalidate()},r.prototype.bindClassDeclarationToPullSymbol=function(t){var r=t.getName(),i=null,s=null,o=null,u=this.semanticInfo.getASTForDecl(t),a=!1,f=this.getParent(t),l=t.getParentDecl(),c=!1,h=t.getFlags()&1,p=!1,d=8;if(f)if(h)i=f.findNestedType(r),i||(i=f.findMember(r,!1));else{i=f.findContainedMember(r);if(i&&i.getKind()&d){var v=i.getDeclarations();if(v.length){var m=v[0].getParentDecl();m!==l&&(!this.reBindingAfterChange||m.getDeclID()>=this.startingDeclForRebind)&&(i=null)}}else i=null}else i=n(r,d,t);i&&(!(i.getKind()&d)||!this.reBindingAfterChange||this.symbolIsRedeclaration(i))?(t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),u.minChar,u.getLength(),71,[t.getDisplayName()])),i=null):i&&(a=!0);var g;if(this.reBindingAfterChange&&i){g=i.getDeclarations();var y=t.getScriptName();for(var b=0;b<g.length;b++)g[b].getScriptName()===y&&g[b].getDeclID()<this.startingDeclForRebind&&(i.removeDeclaration(g[b]),c=!0);s=i.getConstructorMethod(),o=s.getType(),g=s.getDeclarations();for(var b=0;b<g.length;b++)g[b].getScriptName()===y&&g[b].getDeclID()<this.startingDeclForRebind&&(s.removeDeclaration(g[b]),c=!0);s.getIsSynthesized()&&i.setConstructorMethod(null);if(i.isGeneric()){p=!0;var w=i.getKnownSpecializations(),E=null;for(var S=0;S<w.length;S++)w[S].setUnresolved(),w[S].invalidate();i.cleanTypeParameters(),o.cleanTypeParameters()}i.setUnresolved(),s.setUnresolved(),o.setUnresolved()}a||(i=new e.PullClassTypeSymbol(r),f||this.semanticInfoChain.cacheGlobalSymbol(i,d)),i.addDeclaration(t),t.setSymbol(i),this.semanticInfo.setSymbolAndDiagnosticsForAST(u.name,e.SymbolAndDiagnostics.fromSymbol(i)),this.semanticInfo.setSymbolAndDiagnosticsForAST(u,e.SymbolAndDiagnostics.fromSymbol(i));if(f&&!a){var x=t.getFlags()&1?5:6;x===5?f.addMember(i,x):i.setContainer(f)}if(a&&c){this.cleanClassSignatures(i);if(p){w=i.getKnownSpecializations();for(var S=0;S<w.length;S++)this.cleanClassSignatures(w[S])}}this.resetTypeParameterCache(),this.resetTypeParameterCache(),s=i.getConstructorMethod(),o=s?s.getType():null,s||(s=new e.PullSymbol(r,32768),o=new e.PullConstructorTypeSymbol,s.setIsSynthesized(),s.setType(o),s.addDeclaration(t.getValueDecl()),i.setConstructorMethod(s),o.addDeclaration(t),i.setHasDefaultConstructor()),o.setAssociatedContainerType(i);var T=t.getTypeParameters(),N,C=null;for(var S=0;S<T.length;S++){N=i.findTypeParameter(T[S].getName());if(!N)N=new e.PullTypeParameterSymbol(T[S].getName(),!1),i.addMember(N,18),o.addTypeParameter(N,!0);else{C=N.getDeclarations();if(this.symbolIsRedeclaration(N)){var k=this.semanticInfoChain.getASTForDecl(C[0]);t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),k.minChar,k.getLength(),71,[N.getName()]))}for(var b=0;b<C.length;b++)C[b].getDeclID()<this.startingDeclForRebind&&N.removeDeclaration(C[b])}N.addDeclaration(T[S]),T[S].setSymbol(N)}var L=t.getValueDecl();L&&L.ensureSymbolIsBound(),i.setIsBound(this.bindingPhase)},r.prototype.bindInterfaceDeclarationToPullSymbol=function(t){var r=t.getName(),i=n(r,e.PullElementKind.SomeType,t),s=this.semanticInfo.getASTForDecl(t),o=!1,u=this.getParent(t),a=16;u?i=u.findNestedType(r):t.getFlags()&1||(i=n(r,a,t)),i&&!(i.getKind()&a)&&(t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),s.minChar,s.getLength(),71,[t.getDisplayName()])),i=null),i||(i=new e.PullTypeSymbol(r,16),o=!0,u||this.semanticInfoChain.cacheGlobalSymbol(i,a)),i.addDeclaration(t),t.setSymbol(i);if(o){if(u){var f=t.getFlags()&1?5:6;f===5?u.addMember(i,f):i.setContainer(u)}}else if(this.reBindingAfterChange){var l=i.getDeclarations(),c=t.getScriptName();for(var h=0;h<l.length;h++)l[h].getScriptName()===c&&l[h].getDeclID()<this.startingDeclForRebind&&i.removeDeclaration(l[h]);if(i.isGeneric()){var p=i.getKnownSpecializations(),d=null;for(var h=0;h<p.length;h++)d=p[h],this.cleanInterfaceSignatures(d),d.invalidate();i.cleanTypeParameters()}this.cleanInterfaceSignatures(i),i.invalidate()}this.resetTypeParameterCache(),this.resetTypeParameterCache();var v=t.getTypeParameters(),m,g=null;for(var h=0;h<v.length;h++){m=i.findTypeParameter(v[h].getName());if(!m)m=new e.PullTypeParameterSymbol(v[h].getName(),!1),i.addMember(m,18);else{g=m.getDeclarations();if(this.symbolIsRedeclaration(m))for(var y=0;y<g.length;y++){var b=g[y].getParentDecl();if(b&&b===t){var w=this.semanticInfoChain.getASTForDecl(g[0]);t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),w.minChar,w.getLength(),71,[m.getName()]));break}}for(var y=0;y<g.length;y++)g[y].getDeclID()<this.startingDeclForRebind&&m.removeDeclaration(g[y])}m.addDeclaration(v[h]),v[h].setSymbol(m)}var E=this.findDeclsInContext(t,t.getKind(),!0);if(E&&E.length)for(var h=0;h<E.length;h++)E[h].ensureSymbolIsBound()},r.prototype.bindObjectTypeDeclarationToPullSymbol=function(t){var n=this.semanticInfo.getASTForDecl(t),r=new e.PullTypeSymbol("",8388608);r.addDeclaration(t),t.setSymbol(r),this.semanticInfo.setSymbolAndDiagnosticsForAST(n,e.SymbolAndDiagnostics.fromSymbol(r));var i=t.getChildDecls();for(var s=0;s<i.length;s++)this.bindDeclToPullSymbol(i[s]);var o=t.getTypeParameters(),u,a=null;for(var s=0;s<o.length;s++){u=r.findTypeParameter(o[s].getName());if(!u)u=new e.PullTypeParameterSymbol(o[s].getName(),!1),r.addMember(u,18);else{a=u.getDeclarations();if(this.symbolIsRedeclaration(u)){var f=this.semanticInfoChain.getASTForDecl(a[0]);t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),f.minChar,f.getLength(),71,[u.getName()]))}for(var l=0;l<a.length;l++)a[l].getDeclID()<this.startingDeclForRebind&&u.removeDeclaration(a[l])}u.addDeclaration(o[s]),o[s].setSymbol(u)}},r.prototype.bindConstructorTypeDeclarationToPullSymbol=function(t){var n=t.getKind(),r=t.getFlags(),i=this.semanticInfo.getASTForDecl(t),s=new e.PullConstructorTypeSymbol;t.setSymbol(s),s.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(i,e.SymbolAndDiagnostics.fromSymbol(s));var o=new e.PullDefinitionSignatureSymbol(2097152);i.variableArgList&&o.setHasVariableParamList(),o.addDeclaration(t),t.setSignatureSymbol(o),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),s,o),s.addSignature(o);var u=t.getTypeParameters(),a,f=null;for(var l=0;l<u.length;l++){a=s.findTypeParameter(u[l].getName());if(!a)a=new e.PullTypeParameterSymbol(u[l].getName(),!1),s.addTypeParameter(a);else{f=a.getDeclarations();if(this.symbolIsRedeclaration(a)){var c=this.semanticInfoChain.getASTForDecl(f[0]);t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),c.minChar,c.getLength(),71,[a.getName()]))}for(var h=0;h<f.length;h++)f[h].getDeclID()<this.startingDeclForRebind&&a.removeDeclaration(f[h])}a.addDeclaration(u[l]),u[l].setSymbol(a)}},r.prototype.bindVariableDeclarationToPullSymbol=function(t){var r=t.getFlags(),i=t.getKind(),s=this.semanticInfo.getASTForDecl(t),o=(r&1)!==0,u=6,a=null,f=t.getName(),l=!1,c=this.getParent(t,!0),h=t.getParentDecl(),p=(r&e.PullElementFlags.ImplicitVariable)!==0,d=(r&(32768|65536|131072))!=0,v=(r&131072)!=0,m=(r&16384)!=0;h&&!p&&h.addVariableDeclToGroup(t);if(c){o?a=c.findMember(f,!1):a=c.findContainedMember(f);if(a){var g=a.getDeclarations();if(g.length){var y=g[0].getParentDecl();h!==y&&(!this.reBindingAfterChange||y.getDeclID()>=this.startingDeclForRebind)&&(a=null)}}}else t.getFlags()&1||(a=n(f,e.PullElementKind.SomeValue,t));a&&!a.isType()&&(l=!0);var b,w,E,S,x;if(a&&this.symbolIsRedeclaration(a)){var T=a.getKind(),N=a.hasFlag(8),C=a.hasFlag(131072),k=T==32768,L=a.hasFlag(98304),A=(v||C)&&(!v||!C),O=(t.getFlags()&8)!=0,M=t.getKind()==32768,_=p&&(!v&&!m&&T==16384||!d&&L&&O||!d&&k||a.hasFlag(e.PullElementFlags.ImplicitVariable));_&&k&&!N&&a.getDeclarations()[0].getScriptName()!=t.getScriptName()&&(_=!1);if(!d&&!M&&!O||!_||A){b=t.getSpan();if(!c||a.getIsSynthesized()){var D=p?a.getDeclarations()[0]:t;D.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),b.start(),b.length(),71,[t.getDisplayName()]))}a=null,l=!1}}else a&&a.getKind()!==1024&&!p&&(b=t.getSpan(),t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),b.start(),b.length(),71,[t.getDisplayName()])),a=null,l=!1);if(this.reBindingAfterChange&&a&&!a.isType()){E=a.getDeclarations();var P=t.getScriptName();for(var H=0;H<E.length;H++)E[H].getScriptName()===P&&E[H].getDeclID()<this.startingDeclForRebind&&a.removeDeclaration(E[H]);a.invalidate()}var B=!1,j=null;if((r&e.PullElementFlags.ImplicitVariable)===0)a||(a=new e.PullSymbol(f,i)),a.addDeclaration(t),t.setSymbol(a),this.semanticInfo.setSymbolAndDiagnosticsForAST(s.id,e.SymbolAndDiagnostics.fromSymbol(a)),this.semanticInfo.setSymbolAndDiagnosticsForAST(s,e.SymbolAndDiagnostics.fromSymbol(a));else if(!l){if(m){var F=a;if(c){x=c.getMembers();for(var I=0;I<x.length;I++)if(x[I].getName()===f&&x[I].getKind()===8){F=x[I];break}}if(!F){var h=t.getParentDecl();if(h){var q=h.searchChildDecls(f,e.PullElementKind.SomeType);if(q.length)for(var I=0;I<q.length;I++)q[I].getValueDecl()===t&&(F=q[I].getSymbol())}F||(F=n(f,e.PullElementKind.SomeType,t))}F&&F.getKind()!==8&&(F=null),F&&F.isClass()?(B=a&&a.getIsSynthesized(),B&&(j=a),a=F.getConstructorMethod(),t.setSymbol(a),E=F.getDeclarations(),E.length&&(w=E[E.length-1],S=this.semanticInfo.getASTForDecl(w),S&&this.semanticInfo.setASTForDecl(t,S))):(a||(a=new e.PullSymbol(f,i)),a.addDeclaration(t),t.setSymbol(a),a.setType(this.semanticInfoChain.anyTypeSymbol))}else if(r&e.PullElementFlags.SomeInitializedModule){var R=null,U=this.getParent(t);if(U){x=U.getMembers();for(var I=0;I<x.length;I++)if(x[I].getName()===f&&x[I].isContainer()){R=x[I];break}}if(!R){var h=t.getParentDecl();if(h){var z=r&98304?e.PullElementKind.SomeContainer:64,q=h.searchChildDecls(f,z);if(q.length)for(var I=0;I<q.length;I++)q[I].getValueDecl()===t&&(R=q[I].getSymbol())}R||(R=n(f,e.PullElementKind.SomeContainer,t),R||(R=n(f,64,t)))}R&&!R.isContainer()&&(R=null),R?(a=R.getInstanceSymbol(),a.addDeclaration(t),t.setSymbol(a),E=R.getDeclarations(),E.length&&(w=E[E.length-1],S=this.semanticInfo.getASTForDecl(w),S&&this.semanticInfo.setASTForDecl(t,S))):e.Debug.assert(!1,"Attempted to bind invalid implicit variable symbol")}}else a.addDeclaration(t),t.setSymbol(a);c&&!l?r&1?c.addMember(a,5):a.setContainer(c):B&&(c.removeMember(j),c.addMember(a,u)),a.setIsBound(this.bindingPhase)},r.prototype.bindPropertyDeclarationToPullSymbol=function(t){var n=t.getFlags(),r=t.getKind(),i=this.semanticInfo.getASTForDecl(t),s=!1,o=!1,u=5,a=null;e.hasFlag(n,16)&&(s=!0),e.hasFlag(n,2)&&(u=6),e.hasFlag(n,128)&&(o=!0);var f=t.getName(),l=!1,c=this.getParent(t,!0);c.isClass()&&s&&(c=c.getConstructorMethod().getType()),a=c.findMember(f,!1);if(a&&(!this.reBindingAfterChange||this.symbolIsRedeclaration(a))){var h=t.getSpan();t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),h.start(),h.length(),71,[t.getDisplayName()])),a=null}a&&(l=!0);if(this.reBindingAfterChange&&a){var p=a.getDeclarations(),d=t.getScriptName();for(var v=0;v<p.length;v++)p[v].getScriptName()===d&&p[v].getDeclID()<this.startingDeclForRebind&&a.removeDeclaration(p[v]);a.setUnresolved()}var m;l||(a=new e.PullSymbol(f,r)),a.addDeclaration(t),t.setSymbol(a),this.semanticInfo.setSymbolAndDiagnosticsForAST(i.id,e.SymbolAndDiagnostics.fromSymbol(a)),this.semanticInfo.setSymbolAndDiagnosticsForAST(i,e.SymbolAndDiagnostics.fromSymbol(a)),o&&a.setIsOptional(),c&&!l&&(c.isClass()?(m=c,m.addMember(a,u)):c.addMember(a,u)),a.setIsBound(this.bindingPhase)},r.prototype.bindParameterSymbols=function(t,n,r){var i=[],s=null,o=null,u=null,a=!1,f=new e.BlockIntrinsics;if(t.arguments)for(var l=0;l<t.arguments.members.length;l++){o=t.arguments.members[l],s=this.semanticInfo.getDeclForAST(o),a=e.hasFlag(o.getVarFlags(),256),u=new e.PullSymbol(o.id.text,2048),t.variableArgList&&l===t.arguments.members.length-1&&u.setIsVarArg(),s.getFlags()&128&&u.setIsOptional(),f[o.id.text]?s.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),o.minChar,o.getLength(),71,[o.id.actualText])):f[o.id.text]=!0;if(s)if(a){s.ensureSymbolIsBound();var c=s.getValueDecl();c&&(c.setSymbol(u),u.addDeclaration(c))}else u.addDeclaration(s),s.setSymbol(u);r.addParameter(u,u.getIsOptional()),r.isDefinition()&&u.setContainer(n)}},r.prototype.bindFunctionDeclarationToPullSymbol=function(t){var r=t.getKind(),i=t.getFlags(),s=this.semanticInfo.getASTForDecl(t),o=(i&1)!==0,u=t.getName(),a=(i&2048)!==0,f=this.getParent(t,!0),l=t.getParentDecl(),c=!1,h=!1,p=null,d=null;if(f){p=f.findMember(u,!1);if(!p){p=f.findContainedMember(u);if(p){var v=p.getDeclarations();if(v.length){var m=v[0].getParentDecl();l!==m&&(!this.reBindingAfterChange||m.getDeclID()>=this.startingDeclForRebind)&&(p=null)}}}}else t.getFlags()&1||(p=n(u,e.PullElementKind.SomeValue,t));p&&(p.getKind()!==16384||this.symbolIsRedeclaration(p)&&!a&&!p.allDeclsHaveFlag(2048))&&(t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),s.minChar,s.getLength(),71,[t.getDisplayName()])),p=null),p&&(d=p.getType(),c=!0);if(this.reBindingAfterChange&&p){var g=p.getDeclarations(),y=t.getScriptName(),b=d.isGeneric();for(var w=0;w<g.length;w++)g[w].getScriptName()===y&&g[w].getDeclID()<this.startingDeclForRebind&&(p.removeDeclaration(g[w]),h=!0);g=d.getDeclarations();for(var w=0;w<g.length;w++)g[w].getScriptName()===y&&g[w].getDeclID()<this.startingDeclForRebind&&(d.removeDeclaration(g[w]),h=!0);if(b){var E=d.getKnownSpecializations();for(var S=0;S<E.length;S++)E[S].invalidate()}p.invalidate(),d.invalidate()}p||(p=new e.PullSymbol(u,16384)),d||(d=new e.PullFunctionTypeSymbol,p.setType(d)),t.setSymbol(p),p.addDeclaration(t),d.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(s.name,e.SymbolAndDiagnostics.fromSymbol(p)),this.semanticInfo.setSymbolAndDiagnosticsForAST(s,e.SymbolAndDiagnostics.fromSymbol(p)),f&&!c&&(o?f.addMember(p,5):p.setContainer(f));if(c&&h){var x=d.getCallSignatures();for(var S=0;S<x.length;S++)d.removeCallSignature(x[S],!1);p.invalidate(),d.invalidate(),d.recomputeCallSignatures();if(b){var E=d.getKnownSpecializations();for(var w=0;w<E.length;w++){x=E[w].getCallSignatures();for(var S=0;S<x.length;S++)x[S].invalidate()}}}var T=a?new e.PullSignatureSymbol(1048576):new e.PullDefinitionSignatureSymbol(1048576);T.addDeclaration(t),t.setSignatureSymbol(T),s.variableArgList&&T.setHasVariableParamList(),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),d,T);var N=t.getTypeParameters(),C,k=null;for(var S=0;S<N.length;S++){C=T.findTypeParameter(N[S].getName());if(!C)C=new e.PullTypeParameterSymbol(N[S].getName(),!0),T.addTypeParameter(C);else{k=C.getDeclarations();if(this.symbolIsRedeclaration(C)){var L=this.semanticInfoChain.getASTForDecl(k[0]);t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),L.minChar,L.getLength(),71,[C.getName()]))}for(var w=0;w<k.length;w++)k[w].getDeclID()<this.startingDeclForRebind&&C.removeDeclaration(k[w])}C.addDeclaration(N[S]),N[S].setSymbol(C)}d.addCallSignature(T),!a,p.setIsBound(this.bindingPhase);var A=this.findDeclsInContext(t,t.getKind(),!1);if(A&&A.length)for(var S=0;S<A.length;S++)A[S].ensureSymbolIsBound()},r.prototype.bindFunctionExpressionToPullSymbol=function(t){var n=t.getKind(),r=t.getFlags(),i=this.semanticInfo.getASTForDecl(t),s=n==131072?t.getFunctionExpressionName():t.getName(),o=new e.PullSymbol(s,16384),u=new e.PullFunctionTypeSymbol;o.setType(u),t.setSymbol(o),o.addDeclaration(t),u.addDeclaration(t),i.name&&this.semanticInfo.setSymbolAndDiagnosticsForAST(i.name,e.SymbolAndDiagnostics.fromSymbol(o)),this.semanticInfo.setSymbolAndDiagnosticsForAST(i,e.SymbolAndDiagnostics.fromSymbol(o));var a=new e.PullDefinitionSignatureSymbol(1048576);i.variableArgList&&a.setHasVariableParamList();var f=t.getTypeParameters(),l,c=null;for(var h=0;h<f.length;h++){l=a.findTypeParameter(f[h].getName());if(!l)l=new e.PullTypeParameterSymbol(f[h].getName(),!0),a.addTypeParameter(l);else{c=l.getDeclarations();if(this.symbolIsRedeclaration(l)){var p=this.semanticInfoChain.getASTForDecl(c[0]);t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),p.minChar,p.getLength(),71,[l.getName()]))}c=l.getDeclarations();for(var d=0;d<c.length;d++)c[d].getDeclID()<this.startingDeclForRebind&&l.removeDeclaration(c[d])}l.addDeclaration(f[h]),f[h].setSymbol(l)}a.addDeclaration(t),t.setSignatureSymbol(a),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),u,a),u.addSignature(a)},r.prototype.bindFunctionTypeDeclarationToPullSymbol=function(t){var n=t.getKind(),r=t.getFlags(),i=this.semanticInfo.getASTForDecl(t),s=new e.PullFunctionTypeSymbol;t.setSymbol(s),s.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(i,e.SymbolAndDiagnostics.fromSymbol(s));var o=(r&2048)!==0,u=o?new e.PullSignatureSymbol(1048576):new e.PullDefinitionSignatureSymbol(1048576);i.variableArgList&&u.setHasVariableParamList();var a=t.getTypeParameters(),f,l=null;for(var c=0;c<a.length;c++){f=u.findTypeParameter(a[c].getName());if(!f)f=new e.PullTypeParameterSymbol(a[c].getName(),!0),u.addTypeParameter(f);else{l=f.getDeclarations();if(this.symbolIsRedeclaration(f)){var h=this.semanticInfoChain.getASTForDecl(l[0]);t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),h.minChar,h.getLength(),71,[f.getName()]))}l=f.getDeclarations();for(var p=0;p<l.length;p++)l[p].getDeclID()<this.startingDeclForRebind&&f.removeDeclaration(l[p])}f.addDeclaration(a[c]),a[c].setSymbol(f)}u.addDeclaration(t),t.setSignatureSymbol(u),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),s,u),s.addSignature(u)},r.prototype.bindMethodDeclarationToPullSymbol=function(t){var n=t.getKind(),r=t.getFlags(),i=this.semanticInfo.getASTForDecl(t),s=(r&2)!==0,o=(r&16)!==0,u=(r&128)!==0,a=t.getName(),f=(r&2048)!==0,l=this.getParent(t,!0),c=!1,h=!1,p=null,d=null,v=s?6:5;l.isClass()&&o&&(l=l.getConstructorMethod().getType()),p=l.findMember(a,!1),p&&(p.getKind()!==65536||this.symbolIsRedeclaration(p)&&!f&&!p.allDeclsHaveFlag(2048))&&(t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),i.minChar,i.getLength(),71,[t.getDisplayName()])),p=null),p&&(d=p.getType(),c=!0);if(this.reBindingAfterChange&&p){var m=p.getDeclarations(),g=t.getScriptName(),y=d.isGeneric();for(var b=0;b<m.length;b++)m[b].getScriptName()===g&&m[b].getDeclID()<this.startingDeclForRebind&&(p.removeDeclaration(m[b]),h=!0);m=d.getDeclarations();for(var b=0;b<m.length;b++)m[b].getScriptName()===g&&m[b].getDeclID()<this.startingDeclForRebind&&(d.removeDeclaration(m[b]),h=!0);if(y){var w=d.getKnownSpecializations();for(var E=0;E<w.length;E++)w[E].invalidate()}p.invalidate(),d.invalidate()}p||(p=new e.PullSymbol(a,65536)),d||(d=new e.PullFunctionTypeSymbol,p.setType(d)),t.setSymbol(p),p.addDeclaration(t),d.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(i.name,e.SymbolAndDiagnostics.fromSymbol(p)),this.semanticInfo.setSymbolAndDiagnosticsForAST(i,e.SymbolAndDiagnostics.fromSymbol(p)),u&&p.setIsOptional(),c||l.addMember(p,v);if(c&&h){var S=d.getCallSignatures(),x=d.getConstructSignatures(),T=d.getIndexSignatures();for(var E=0;E<S.length;E++)d.removeCallSignature(S[E],!1);for(var E=0;E<x.length;E++)d.removeConstructSignature(x[E],!1);for(var E=0;E<T.length;E++)d.removeIndexSignature(T[E],!1);p.invalidate(),d.invalidate(),d.recomputeCallSignatures(),d.recomputeConstructSignatures(),d.recomputeIndexSignatures();if(y){var w=d.getKnownSpecializations();for(var b=0;b<w.length;b++){S=w[b].getCallSignatures();for(var E=0;E<S.length;E++)S[E].invalidate()}}}var N=1048576,C=f?new e.PullSignatureSymbol(N):new e.PullDefinitionSignatureSymbol(N);i.variableArgList&&C.setHasVariableParamList();var k=t.getTypeParameters(),L,A=null,O,M;for(var E=0;E<k.length;E++){O=k[E].getName(),M=this.semanticInfo.getASTForDecl(k[E]),L=C.findTypeParameter(O);if(!L)M.constraint||(L=this.findTypeParameterInCache(O)),L||(L=new e.PullTypeParameterSymbol(O,!0),M.constraint||this.addTypeParameterToCache(L)),C.addTypeParameter(L);else{A=L.getDeclarations(),this.symbolIsRedeclaration(L)&&(M=this.semanticInfoChain.getASTForDecl(A[0]),t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),M.minChar,M.getLength(),71,[L.getName()]))),A=L.getDeclarations();for(var b=0;b<A.length;b++)A[b].getDeclID()<this.startingDeclForRebind&&L.removeDeclaration(A[b])}L.addDeclaration(k[E]),k[E].setSymbol(L)}C.addDeclaration(t),t.setSignatureSymbol(C),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),d,C),d.addSignature(C),!f;var _=this.findDeclsInContext(t,t.getKind(),!1);if(_&&_.length)for(var E=0;E<_.length;E++)_[E].ensureSymbolIsBound()},r.prototype.bindConstructorDeclarationToPullSymbol=function(t){var n=t.getKind(),r=t.getFlags(),i=this.semanticInfo.getASTForDecl(t),s=t.getName(),o=(r&2048)!==0,u=this.getParent(t,!0),a=!1,f=!1,l=u.getConstructorMethod(),c=null,h=7;l&&(l.getKind()!==32768||!o&&l.getType()&&l.getType().hasOwnConstructSignatures()&&l.getType().getDefinitionSignature()&&!l.allDeclsHaveFlag(2048))&&(t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),i.minChar,i.getLength(),141,null)),l=null);if(l){c=l.getType();if(this.reBindingAfterChange){var p=l.getDeclarations(),d=t.getScriptName(),v=c.isGeneric();for(var m=0;m<p.length;m++)p[m].getScriptName()===d&&p[m].getDeclID()<this.startingDeclForRebind&&(l.removeDeclaration(p[m]),f=!0);p=c.getDeclarations();for(var m=0;m<p.length;m++)p[m].getScriptName()===d&&p[m].getDeclID()<this.startingDeclForRebind&&(c.removeDeclaration(p[m]),f=!0);if(v){var g=c.getKnownSpecializations();for(var y=0;y<g.length;y++)g[y].invalidate()}l.invalidate(),c.invalidate()}}l||(l=new e.PullSymbol(s,32768),c=new e.PullConstructorTypeSymbol),u.setConstructorMethod(l),l.setType(c),t.setSymbol(l),l.addDeclaration(t),c.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(i,e.SymbolAndDiagnostics.fromSymbol(l));if(a&&f){var b=c.getConstructSignatures();for(var y=0;y<b.length;y++)c.removeConstructSignature(b[y]);l.invalidate(),c.invalidate(),c.recomputeConstructSignatures();if(v){var g=c.getKnownSpecializations();for(var m=0;m<g.length;m++){b=g[m].getConstructSignatures();for(var y=0;y<b.length;y++)b[y].invalidate()}}}var w=o?new e.PullSignatureSymbol(2097152):new e.PullDefinitionSignatureSymbol(2097152);w.setReturnType(u),w.addDeclaration(t),t.setSignatureSymbol(w),this.bindParameterSymbols(i,c,w);var E=c.getTypeParameters();for(var y=0;y<E.length;y++)w.addTypeParameter(E[y]);i.variableArgList&&w.setHasVariableParamList(),c.addSignature(w),!o;var S=this.findDeclsInContext(t,t.getKind(),!1);if(S&&S.length)for(var y=0;y<S.length;y++)S[y].ensureSymbolIsBound()},r.prototype.bindConstructSignatureDeclarationToPullSymbol=function(t){var n=this.getParent(t,!0),r=this.semanticInfo.getASTForDecl(t),i=n.getConstructSignatures();for(var s=0;s<i.length;s++)i[s].getSymbolID()<this.startingSymbolForRebind&&n.removeConstructSignature(i[s],!1);n.recomputeConstructSignatures();var o=new e.PullSignatureSymbol(2097152);r.variableArgList&&o.setHasVariableParamList();var u=t.getTypeParameters(),a,f=null;for(var s=0;s<u.length;s++){a=o.findTypeParameter(u[s].getName());if(!a)a=new e.PullTypeParameterSymbol(u[s].getName(),!0),o.addTypeParameter(a);else{f=a.getDeclarations();if(this.symbolIsRedeclaration(a)){var l=this.semanticInfoChain.getASTForDecl(f[0]);t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),l.minChar,l.getLength(),71,[a.getName()]))}for(var c=0;c<f.length;c++)f[c].getDeclID()<this.startingDeclForRebind&&a.removeDeclaration(f[c])}a.addDeclaration(u[s]),u[s].setSymbol(a)}o.addDeclaration(t),t.setSignatureSymbol(o),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),null,o),this.semanticInfo.setSymbolAndDiagnosticsForAST(this.semanticInfo.getASTForDecl(t),e.SymbolAndDiagnostics.fromSymbol(o)),n.addConstructSignature(o)},r.prototype.bindCallSignatureDeclarationToPullSymbol=function(t){var n=this.getParent(t,!0),r=this.semanticInfo.getASTForDecl(t),i=n.getCallSignatures();for(var s=0;s<i.length;s++)i[s].getSymbolID()<this.startingSymbolForRebind&&n.removeCallSignature(i[s],!1);n.recomputeCallSignatures();var o=new e.PullSignatureSymbol(1048576);r.variableArgList&&o.setHasVariableParamList();var u=t.getTypeParameters(),a,f=null;for(var s=0;s<u.length;s++){a=o.findTypeParameter(u[s].getName());if(!a)a=new e.PullTypeParameterSymbol(u[s].getName(),!0),o.addTypeParameter(a);else{f=a.getDeclarations();if(this.symbolIsRedeclaration(a)){var l=this.semanticInfoChain.getASTForDecl(f[0]);t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),l.minChar,l.getLength(),71,[a.getName()]))}for(var c=0;c<f.length;c++)f[c].getDeclID()<this.startingDeclForRebind&&a.removeDeclaration(f[c])}a.addDeclaration(u[s]),u[s].setSymbol(a)}o.addDeclaration(t),t.setSignatureSymbol(o),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),null,o),this.semanticInfo.setSymbolAndDiagnosticsForAST(this.semanticInfo.getASTForDecl(t),e.SymbolAndDiagnostics.fromSymbol(o)),n.addCallSignature(o)},r.prototype.bindIndexSignatureDeclarationToPullSymbol=function(t){var n=this.getParent(t,!0),r=n.getIndexSignatures();for(var i=0;i<r.length;i++)r[i].getSymbolID()<this.startingSymbolForRebind&&n.removeIndexSignature(r[i],!1);n.recomputeIndexSignatures();var s=new e.PullSignatureSymbol(4194304),o=t.getTypeParameters(),u,a=null;for(var i=0;i<o.length;i++){u=s.findTypeParameter(o[i].getName());if(!u)u=new e.PullTypeParameterSymbol(o[i].getName(),!0),s.addTypeParameter(u);else{a=u.getDeclarations();if(this.symbolIsRedeclaration(u)){var f=this.semanticInfoChain.getASTForDecl(a[0]);t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),f.minChar,f.getLength(),71,[u.getName()]))}a=u.getDeclarations();for(var l=0;l<a.length;l++)a[l].getDeclID()<this.startingDeclForRebind&&u.removeDeclaration(a[l])}u.addDeclaration(o[i]),o[i].setSymbol(u)}s.addDeclaration(t),t.setSignatureSymbol(s),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),null,s),this.semanticInfo.setSymbolAndDiagnosticsForAST(this.semanticInfo.getASTForDecl(t),e.SymbolAndDiagnostics.fromSymbol(s)),n.addIndexSignature(s)},r.prototype.bindGetAccessorDeclarationToPullSymbol=function(t){var n=t.getKind(),r=t.getFlags(),i=this.semanticInfo.getASTForDecl(t),s=(r&1)!==0,o=t.getName(),u=(r&2048)!==0,a=!1,f=5;e.hasFlag(r,16)&&(a=!0),e.hasFlag(r,2)&&(f=6);var l=this.getParent(t,!0),c=!1,h=!1,p=null,d=null,v=null;a&&(l=l.getConstructorMethod().getType()),p=l.findMember(o,!1),p&&(p.isAccessor()?(d=p.getGetter(),d&&(!this.reBindingAfterChange||this.symbolIsRedeclaration(d))&&(t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),i.minChar,i.getLength(),86,[t.getDisplayName()])),p=null,d=null)):(t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),i.minChar,i.getLength(),71,[t.getDisplayName()])),p=null)),p&&(c=!0),p&&d&&(v=d.getType());if(this.reBindingAfterChange&&p){var m=p.getDeclarations(),g=t.getScriptName();for(var y=0;y<m.length;y++)m[y].getScriptName()===g&&m[y].getDeclID()<this.startingDeclForRebind&&(p.removeDeclaration(m[y]),h=!0);if(d){m=d.getDeclarations();for(var y=0;y<m.length;y++)m[y].getScriptName()===g&&m[y].getDeclID()<this.startingDeclForRebind&&(d.removeDeclaration(m[y]),h=!0)}p.invalidate()}p||(p=new e.PullAccessorSymbol(o)),d||(d=new e.PullSymbol(o,16384),v=new e.PullFunctionTypeSymbol,d.setType(v),p.setGetter(d)),t.setSymbol(p),p.addDeclaration(t),d.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(i.name,e.SymbolAndDiagnostics.fromSymbol(d)),this.semanticInfo.setSymbolAndDiagnosticsForAST(i,e.SymbolAndDiagnostics.fromSymbol(d)),c||l.addMember(p,f);if(c&&h){var b=v.getCallSignatures();for(var w=0;w<b.length;w++)v.removeCallSignature(b[w],!1);d.invalidate(),v.invalidate(),v.recomputeCallSignatures()}var E=u?new e.PullSignatureSymbol(1048576):new e.PullDefinitionSignatureSymbol(1048576);E.addDeclaration(t),t.setSignatureSymbol(E),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),v,E);var S=t.getTypeParameters();S.length&&t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),i.minChar,i.getLength(),88,null)),v.addSignature(E),!u,d.setIsBound(this.bindingPhase)},r.prototype.bindSetAccessorDeclarationToPullSymbol=function(t){var n=t.getKind(),r=t.getFlags(),i=this.semanticInfo.getASTForDecl(t),s=(r&1)!==0,o=t.getName(),u=(r&2048)!==0,a=!1,f=5;e.hasFlag(r,16)&&(a=!0),e.hasFlag(r,2)&&(f=6);var l=this.getParent(t,!0),c=!1,h=!1,p=null,d=null,v=null;a&&(l=l.getConstructorMethod().getType()),p=l.findMember(o,!1),p&&(p.isAccessor()?(d=p.getSetter(),d&&(!this.reBindingAfterChange||this.symbolIsRedeclaration(d))&&(t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),i.minChar,i.getLength(),87,[t.getDisplayName()])),p=null,d=null)):(t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),i.minChar,i.getLength(),71,[t.getDisplayName()])),p=null)),p&&(c=!0),p&&d&&(v=d.getType());if(this.reBindingAfterChange&&p){var m=p.getDeclarations(),g=t.getScriptName();for(var y=0;y<m.length;y++)m[y].getScriptName()===g&&m[y].getDeclID()<this.startingDeclForRebind&&(p.removeDeclaration(m[y]),h=!0);if(d){m=d.getDeclarations();for(var y=0;y<m.length;y++)m[y].getScriptName()===g&&m[y].getDeclID()<this.startingDeclForRebind&&(d.removeDeclaration(m[y]),h=!0)}p.invalidate()}p||(p=new e.PullAccessorSymbol(o)),d||(d=new e.PullSymbol(o,16384),v=new e.PullFunctionTypeSymbol,d.setType(v),p.setSetter(d)),t.setSymbol(p),p.addDeclaration(t),d.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(i.name,e.SymbolAndDiagnostics.fromSymbol(d)),this.semanticInfo.setSymbolAndDiagnosticsForAST(i,e.SymbolAndDiagnostics.fromSymbol(d)),c||l.addMember(p,f);if(c&&h){var b=v.getCallSignatures();for(var w=0;w<b.length;w++)v.removeCallSignature(b[w],!1);d.invalidate(),v.invalidate(),v.recomputeCallSignatures()}var E=u?new e.PullSignatureSymbol(1048576):new e.PullDefinitionSignatureSymbol(1048576);E.addDeclaration(t),t.setSignatureSymbol(E),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),v,E);var S=t.getTypeParameters();S.length&&t.addDiagnostic(new e.SemanticDiagnostic(this.semanticInfo.getPath(),i.minChar,i.getLength(),88,null)),v.addSignature(E),!u,d.setIsBound(this.bindingPhase)},r.prototype.bindCatchBlockPullSymbols=function(e){},r.prototype
.bindWithBlockPullSymbols=function(e){},r.prototype.bindDeclToPullSymbol=function(t,n){typeof n=="undefined"&&(n=!1),n&&(this.startingDeclForRebind=e.lastBoundPullDeclId,this.startingSymbolForRebind=e.lastBoundPullSymbolID,this.reBindingAfterChange=!0);if(t.isBound())return;t.setIsBound(!0);switch(t.getKind()){case 1:var r=t.getChildDecls();for(var i=0;i<r.length;i++)this.bindDeclToPullSymbol(r[i]);break;case 64:case 32:case 4:this.bindModuleDeclarationToPullSymbol(t);break;case 16:this.bindInterfaceDeclarationToPullSymbol(t);break;case 8:this.bindClassDeclarationToPullSymbol(t);break;case 16384:this.bindFunctionDeclarationToPullSymbol(t);break;case 1024:this.bindVariableDeclarationToPullSymbol(t);break;case 67108864:case 4096:this.bindPropertyDeclarationToPullSymbol(t);break;case 65536:this.bindMethodDeclarationToPullSymbol(t);break;case 32768:this.bindConstructorDeclarationToPullSymbol(t);break;case 1048576:this.bindCallSignatureDeclarationToPullSymbol(t);break;case 2097152:this.bindConstructSignatureDeclarationToPullSymbol(t);break;case 4194304:this.bindIndexSignatureDeclarationToPullSymbol(t);break;case 262144:this.bindGetAccessorDeclarationToPullSymbol(t);break;case 524288:this.bindSetAccessorDeclarationToPullSymbol(t);break;case 8388608:this.bindObjectTypeDeclarationToPullSymbol(t);break;case 16777216:this.bindFunctionTypeDeclarationToPullSymbol(t);break;case 33554432:this.bindConstructorTypeDeclarationToPullSymbol(t);break;case 131072:this.bindFunctionExpressionToPullSymbol(t);break;case 256:this.bindImportDeclaration(t);break;case 2048:case 8192:break;case 1073741824:this.bindCatchBlockPullSymbols(t);case 536870912:this.bindWithBlockPullSymbols(t);break;default:throw new Error("Unrecognized type declaration")}},r.prototype.bindDeclsForUnit=function(e,t){typeof t=="undefined"&&(t=!1),this.setUnit(e);var n=this.semanticInfo.getTopLevelDecls();for(var r=0;r<n.length;r++)this.bindDeclToPullSymbol(n[r],t)},r}();e.PullSymbolBinder=r})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function u(t,n){var r=n.symbolToUpdate,i=t.end;if(i.removeUpdateVersion===e.updateVersion||i.isPrimitive())return;t.kind===2?n.updater.invalidateType(i):t.kind===21?(r.removeSpecialization(i),n.updater.removeSymbol(i),n.updater.invalidateType(i)):t.kind===5?n.updater.removeSymbol(i):t.kind===6?n.updater.removeSymbol(i):t.kind===7?n.updater.invalidateType(i):t.kind===10?(i.removeMember(r),n.updater.invalidateType(i)):t.kind===13?n.updater.removeSymbol(i):t.kind===15?n.updater.invalidateType(i):t.kind===16?n.updater.invalidateType(i):t.kind===17&&n.updater.invalidateType(i),r.removeOutgoingLink(t)}function a(t,n){var r=n.symbolToUpdate,i=t.start;if(i.removeUpdateVersion===e.updateVersion||i.isPrimitive())return;t.kind===0?n.updater.invalidateType(i):t.kind===1?n.updater.invalidateType(i):t.kind===18?n.updater.invalidateType(i):t.kind===19?n.updater.invalidateType(i):t.kind===21?i.removeSpecialization(r):t.kind===22?n.updater.invalidateType(i):t.kind===5?(i.removeMember(r),n.updater.invalidateType(i)):t.kind===6?(i.removeMember(r),n.updater.invalidateType(i)):t.kind===7?n.updater.invalidateType(i):t.kind===10?n.updater.invalidateType(i):t.kind===11?n.updater.invalidateType(i):t.kind===12?n.updater.invalidateType(i):t.kind===13?n.updater.invalidateType(i):t.kind===14?n.updater.invalidateType(i):t.kind===15?n.updater.invalidateType(i):t.kind===16?n.updater.invalidateType(i):t.kind===17?n.updater.invalidateType(i):t.kind===8?n.updater.invalidateType(i):t.kind===9&&n.updater.invalidateType(i)}function f(t,n){var r=n.symbolToUpdate,i=t.end;if(i.addUpdateVersion===e.updateVersion||i.isPrimitive())return;t.kind===10?n.updater.invalidateType(i):t.kind===2?n.updater.invalidateType(i):t.kind===18?n.updater.invalidateType(i):t.kind===19?n.updater.invalidateType(i):t.kind===21?n.updater.invalidateType(i):t.kind===22?n.updater.invalidateType(i):t.kind===5?n.updater.invalidateType(i):t.kind===7?n.updater.invalidateType(i):t.kind===14?n.updater.invalidateType(i):t.kind===15?n.updater.invalidateType(i):t.kind===16?n.updater.invalidateType(i):t.kind===17&&n.updater.invalidateType(i)}function l(t,n){var r=n.symbolToUpdate,i=t.start;if(i.addUpdateVersion===e.updateVersion||i.isPrimitive())return;t.kind===0?n.updater.invalidateType(i):t.kind===1?n.updater.invalidateType(i):t.kind===18?n.updater.invalidateType(i):t.kind===19?n.updater.invalidateType(i):t.kind===22?n.updater.invalidateType(i):t.kind===5?n.updater.invalidateType(i):t.kind===7?n.updater.invalidateType(i):t.kind===11?n.updater.invalidateType(i):t.kind===12?n.updater.invalidateType(i):t.kind===14?n.updater.invalidateType(i):t.kind===8?n.updater.invalidateType(i):t.kind===9&&n.updater.invalidateType(i)}function c(t,n){var r=n.symbolToUpdate,i=t.end;if(i.typeChangeUpdateVersion===e.updateVersion||i.isPrimitive())return;t.kind===2?n.updater.invalidateType(i):t.kind===10?n.updater.invalidateType(i):t.kind===18?n.updater.invalidateType(i):t.kind===19?n.updater.invalidateType(i):t.kind===21?n.updater.invalidateType(i):t.kind===22?n.updater.invalidateType(i):t.kind===5?n.updater.invalidateType(i):t.kind===15?n.updater.invalidateType(i):t.kind===7?n.updater.invalidateType(i):t.kind===16?n.updater.invalidateType(i):t.kind===17&&n.updater.invalidateType(i)}function h(t,n){var r=n.symbolToUpdate,i=t.start;if(i.typeChangeUpdateVersion===e.updateVersion||i.isPrimitive())return;t.kind===0?n.updater.invalidateType(i):t.kind===1?n.updater.invalidateType(i):t.kind===18?n.updater.invalidateType(i):t.kind===19?n.updater.invalidateType(i):t.kind===22?n.updater.invalidateType(i):t.kind===5?n.updater.invalidateType(i):t.kind===17?n.updater.invalidateType(i):t.kind===11?n.updater.invalidateType(i):t.kind===12?n.updater.invalidateType(i):t.kind===14?n.updater.invalidateType(i):t.kind===8?n.updater.invalidateType(i):t.kind===9&&n.updater.invalidateType(i)}e.linkID=0;var t=function(){function e(e){this.value=e,this.next=null,this.prev=null}return e}();e.IListItem=t;var n=function(){function e(){this.head=null,this.last=null,this.length=0}return e.prototype.addItem=function(e){this.head?(this.last.next=new t(e),this.last.next.prev=this.last,this.last=this.last.next):(this.head=new t(e),this.last=this.head),this.length++},e.prototype.find=function(e){var t=this.head,n=[];while(t)e(t.value)&&(n[n.length]=t.value),t=t.next;return n},e.prototype.remove=function(e){var t=this.head,n=null,r=null;while(t)e(t.value)&&(t===this.head?(this.last===this.head&&(this.last=null),this.head=this.head.next,this.head&&(this.head.prev=null)):(n=t.prev,r=t.next,n&&(n.next=r),r&&(r.prev=n),t===this.last&&(this.last=n)),this.length--),t=t.next},e.prototype.update=function(e,t){var n=this.head;while(n)e(n.value,t),n=n.next},e}();e.LinkList=n;var r=function(){function t(t,n,r){this.start=t,this.end=n,this.kind=r,this.id=e.linkID++}return t}();e.PullSymbolLink=r,function(e){e[e.NoUpdate=0]="NoUpdate",e[e.SymbolRemoved=1]="SymbolRemoved",e[e.SymbolAdded=2]="SymbolAdded",e[e.TypeChanged=3]="TypeChanged"}(e.GraphUpdateKind||(e.GraphUpdateKind={}));var i=e.GraphUpdateKind,s=function(){function e(e,t,n){this.updateKind=e,this.symbolToUpdate=t,this.updater=n}return e}();e.PullSymbolUpdate=s,e.updateVersion=0;var o=function(){function t(e){this.semanticInfoChain=e}return t.prototype.removeDecl=function(t){var n=t.getSymbol();if(n){n.removeDeclaration(t);var r=t.getChildDecls();for(var i=0;i<r.length;i++)this.removeDecl(r[i]);var s=n.getDeclarations();s.length?n.invalidate():(this.removeSymbol(n),this.semanticInfoChain.removeSymbolFromCache(n))}var o=t.getValueDecl();o&&this.removeDecl(o),e.updateVersion++},t.prototype.addDecl=function(t){var n=t.getSymbol();n&&this.addSymbol(n),e.updateVersion++},t.prototype.removeSymbol=function(t){if(t.removeUpdateVersion===e.updateVersion)return;t.removeUpdateVersion=e.updateVersion,t.updateOutgoingLinks(u,new s(1,t,this)),t.updateIncomingLinks(a,new s(1,t,this)),t.unsetContainer(),this.semanticInfoChain.removeSymbolFromCache(t);var n=t.getContainer();n&&(n.removeMember(t),this.semanticInfoChain.removeSymbolFromCache(t));if(t.isAccessor()){var r=t.getGetter(),i=t.getSetter();r&&this.removeSymbol(r),i&&this.removeSymbol(i)}t.removeAllLinks()},t.prototype.addSymbol=function(t){if(t.addUpdateVersion===e.updateVersion)return;t.addUpdateVersion=e.updateVersion,t.updateOutgoingLinks(f,new s(2,t,this)),t.updateIncomingLinks(l,new s(2,t,this))},t.prototype.invalidateType=function(t){if(!t)return;if(t.isPrimitive())return;if(t.typeChangeUpdateVersion===e.updateVersion)return;t.typeChangeUpdateVersion=e.updateVersion,t.updateOutgoingLinks(c,new s(3,t,this)),t.updateIncomingLinks(h,new s(3,t,this));if(t.getKind()===4){var n=t.getInstanceSymbol();this.invalidateType(n)}t.isResolved()&&t.invalidate(),this.invalidateUnitsForSymbol(t)},t.prototype.invalidateUnitsForSymbol=function(e){var t=e.getDeclarations();for(var n=0;n<t.length;n++)this.semanticInfoChain.invalidateUnit(t[n].getScriptName())},t}();e.PullSymbolGraphUpdater=o,e.propagateRemovalToOutgoingLinks=u,e.propagateRemovalToIncomingLinks=a,e.propagateAdditionToOutgoingLinks=f,e.propagateAdditionToIncomingLinks=l,e.propagateChangedTypeToOutgoingLinks=c,e.propagateChangedTypeToIncomingLinks=h})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function n(e,t){var r=e.getDiagnostics();if(r)for(var i=0;i<r.length;i++)t[t.length]=r[i];var s=e.getChildDecls();for(var i=0;i<s.length;i++)n(s[i],t)}var t=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.equals=function(t,n){return e.Diagnostic.equals(t,n)},n}(e.Diagnostic);e.SemanticDiagnostic=t,e.getDiagnosticsFromEnclosingDecl=n})(TypeScript||(TypeScript={}));var TypeScript;(function(e){(function(e){function t(e,t){var n=t.getDeclForAST(e),r=n.getSymbol();r||(r=n.getSignatureSymbol());var i=null,s=null;if(r.isSignature()){i=r;var o=n.getParentDecl();s=o.getSymbol().getType()}else i=n.getSignatureSymbol(),s=r.getType();var u;return e.isConstructor||e.isConstructMember()?u=s.getConstructSignatures():e.isIndexerMember()?u=s.getIndexSignatures():u=s.getCallSignatures(),{signature:i,allSignatures:u}}function n(e,t,n){var r=t.getDeclForAST(e,n),i=r.getSymbol();return i}function r(t,n,r){var i=e.getAccessorSymbol(t,n,r),s={getter:null,setter:null},o=i.getGetter();if(o){var u=o.getDeclarations()[0];s.getter=n.getASTForDecl(u)}var a=i.getSetter();if(a){var f=a.getDeclarations()[0];s.setter=n.getASTForDecl(f)}return s}function i(e){return e&&(e.getKind()&67108928||e.hasFlag(131072))}function s(e){return e.getKind()==4||o(e,4)}function o(e,t){var n=e.getDeclarations();for(var r=0;r<n.length;r++)if(n[r].getKind()===t)return!0;return!1}e.getSignatureForFuncDecl=t,e.getAccessorSymbol=n,e.getGetterAndSetterFunction=r,e.symbolIsEnum=i,e.symbolIsModule=s})(e.PullHelpers||(e.PullHelpers={}));var t=e.PullHelpers})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=!0,n=function(){function t(t){this.position=0,this.elementToPosition=e.Collections.createHashTable(2048,e.Collections.identityHashCode),this.process(t)}return t.prototype.process=function(e){if(e!==null)if(e.isToken())this.elementToPosition.add(e,this.position),this.position+=e.fullWidth();else{(e.isNode()||e.isList()&&e.childCount()>0||e.isSeparatedList()&&e.childCount()>0)&&this.elementToPosition.add(e,this.position);for(var t=0,n=e.childCount();t<n;t++)this.process(e.childAt(t))}},t.create=function(e){var n=new t(e);return n},t.prototype.fullStart=function(e){return this.elementToPosition.get(e)},t.prototype.start=function(e){return this.fullStart(e)+e.leadingTriviaWidth()},t.prototype.end=function(e){return this.start(e)+e.width()},t.prototype.fullEnd=function(e){return this.fullStart(e)+e.fullWidth()},t}();e.SyntaxPositionMap=n;var r=function(){function r(t,n,r,i){this.syntaxPositionMap=t,this.fileName=n,this.lineMap=r,this.compilationSettings=i,this.position=0,this.requiresExtendsBlock=!1,this.previousTokenTrailingComments=null,this.isParsingAmbientModule=!1,this.containingModuleHasExportAssignment=!1,this.isParsingDeclareFile=e.isDTSFile(n)}return r.visit=function(e,t,i){var s=r.checkPositions?n.create(e.sourceUnit()):null,o=new r(s,t,e.lineMap(),i);return e.sourceUnit().accept(o)},r.prototype.assertElementAtPosition=function(t){r.checkPositions&&e.Debug.assert(this.position===this.syntaxPositionMap.fullStart(t))},r.prototype.movePast=function(e){e!==null&&(this.assertElementAtPosition(e),this.position+=e.fullWidth())},r.prototype.moveTo=function(t,n){n!==null&&(this.position+=e.Syntax.childOffset(t,n))},r.prototype.applyDelta=function(t,n){var r=this;if(n===0)return;var i=function(e){e.minChar!==-1&&(e.minChar+=n),e.limChar!==-1&&(e.limChar+=n)},s=function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t];i(n),n.minLine=r.lineMap.getLineNumberFromPosition(n.minChar),n.limLine=r.lineMap.getLineNumberFromPosition(n.limChar)}},o=function(e,t,n){return i(e),s(e.preComments),s(e.postComments),e};e.getAstWalkerFactory().walk(t,o)},r.prototype.setSpan=function(e,t,n){var r=t+n.leadingTriviaWidth(),i=r+n.width();this.setSpanExplicit(e,r,i),e.trailingTriviaWidth=n.trailingTriviaWidth()},r.prototype.setSpanExplicit=function(t,n,r){if(t.minChar!==-1){e.Debug.assert(t.limChar!==-1),e.Debug.assert(t.nodeType!==undefined);var i=n-t.minChar;this.applyDelta(t,i),t.limChar=r,e.Debug.assert(t.minChar===n),e.Debug.assert(t.limChar===r)}else e.Debug.assert(t.limChar===-1),t.minChar=n,t.limChar=r;e.Debug.assert(!isNaN(t.minChar)),e.Debug.assert(!isNaN(t.limChar)),e.Debug.assert(t.minChar!==-1),e.Debug.assert(t.limChar!==-1)},r.prototype.identifierFromToken=function(t,n,i){this.assertElementAtPosition(t);var s=null;t.fullWidth()===0?s=new e.MissingIdentifier:(s=new e.Identifier(t.text()),s.text=i?t.valueText():s.text,s.text==r.protoString&&(s.text=r.protoSubstitutionString)),n&&s.setFlags(s.getFlags()|4);var o=this.position+t.leadingTriviaWidth();return this.setSpanExplicit(s,o,o+t.width()),s},r.prototype.getAST=function(e){if(this.previousTokenTrailingComments!==null)return null;if(t){var n=e._ast;return n?n:null}return null},r.prototype.setAST=function(e,n){t&&(e._ast=n)},r.prototype.visitSyntaxList=function(t){var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{r=new e.ASTList;for(var i=0,s=t.childCount();i<s;i++)r.append(t.childAt(i).accept(this));s>0&&this.setAST(t,r)}return this.setSpan(r,n,t),r},r.prototype.visitSeparatedSyntaxList=function(t){var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{r=new e.ASTList;for(var i=0,s=t.childCount();i<s;i++)if(i%2===0)r.append(t.childAt(i).accept(this)),this.previousTokenTrailingComments=null;else{var o=t.childAt(i);this.previousTokenTrailingComments=this.convertTokenTrailingComments(o,this.position+o.leadingTriviaWidth()+o.width()),this.movePast(o)}r.postComments=this.previousTokenTrailingComments,this.previousTokenTrailingComments=null,s>0&&this.setAST(t,r)}return this.setSpan(r,n,t),r},r.prototype.createRef=function(t,n){var r=new e.Identifier(t);return r.minChar=n,r},r.prototype.convertComment=function(t,n,r){var i=new e.Comment(t.fullText(),t.kind()===6,r);return i.minChar=n,i.limChar=n+t.fullWidth(),i.minLine=this.lineMap.getLineNumberFromPosition(i.minChar),i.limLine=this.lineMap.getLineNumberFromPosition(i.limChar),i},r.prototype.convertComments=function(e,t){var n=[];for(var r=0,i=e.count();r<i;r++){var s=e.syntaxTriviaAt(r);if(s.isComment()){var o=r+1<i&&e.syntaxTriviaAt(r+1).isNewLine();n.push(this.convertComment(s,t,o))}t+=s.fullWidth()}return n},r.prototype.mergeComments=function(e,t){return e===null?t:t===null?e:e.concat(t)},r.prototype.convertTokenLeadingComments=function(e,t){if(e===null)return null;var n=e.hasLeadingComment()?this.convertComments(e.leadingTrivia(),t):null,r=this.previousTokenTrailingComments;return this.previousTokenTrailingComments=null,this.mergeComments(r,n)},r.prototype.convertTokenTrailingComments=function(e,t){return e===null||!e.hasTrailingComment()||e.hasTrailingNewLine()?null:this.convertComments(e.trailingTrivia(),t)},r.prototype.convertNodeLeadingComments=function(e,t){return this.convertTokenLeadingComments(e.firstToken(),t)},r.prototype.convertNodeTrailingComments=function(e,t){return this.convertTokenTrailingComments(e.lastToken(),t+e.leadingTriviaWidth()+e.width())},r.prototype.visitToken=function(t){this.assertElementAtPosition(t);var n=this.getAST(t),r=this.position;if(n)this.movePast(t);else{if(t.kind()===35)n=new e.ThisExpression;else if(t.kind()===50)n=new e.SuperExpression;else if(t.kind()===37)n=new e.LiteralExpression(3);else if(t.kind()===24)n=new e.LiteralExpression(4);else if(t.kind()===32)n=new e.LiteralExpression(8);else if(t.kind()===14)n=new e.StringLiteral(t.text(),t.valueText());else if(t.kind()===12)n=new e.RegexLiteral(t.text());else if(t.kind()===13){var i=this.convertTokenLeadingComments(t,r),s=t.text().indexOf(".")>0?parseFloat(t.text()):parseInt(t.text());n=new e.NumberLiteral(s,t.text()),n.preComments=i}else n=this.identifierFromToken(t,!1,!0);this.movePast(t)}var o=r+t.leadingTriviaWidth();return this.setAST(t,n),this.setSpanExplicit(n,o,o+t.width()),n},r.prototype.getLeadingComments=function(e){var t=e.firstToken(),n=[];if(t.hasLeadingComment()){var r=t.leadingTrivia();for(var i=0,s=r.count();i<s;i++){var o=r.syntaxTriviaAt(i);o.isComment()&&n.push(o)}}return n},r.prototype.hasTopLevelImportOrExport=function(t){var n;for(var r=0,i=t.moduleElements.childCount();r<i;r++){var s=t.moduleElements.childAt(r);n=s.firstToken();if(n!==null&&n.kind()===47)return!0;if(s.kind()===133){var o=s;if(o.moduleReference.kind()===245)return!0}}var u=this.getLeadingComments(t);for(var r=0,i=u.length;r<i;r++){var a=u[r];if(e.getImplicitImport(a.fullText()))return!0}return!1},r.prototype.getAmdDependency=function(e){var t=/^\/\/\/\s*<amd-dependency\s+path=('|")(.+?)\1/gim,n=t.exec(e);return n?n[2]:null},r.prototype.visitSourceUnit=function(t){this.assertElementAtPosition(t);var n=this.position,r,i=this.visitSyntaxList(t.moduleElements),s=null;if(this.hasTopLevelImportOrExport(t)){var o=e.switchToForwardSlashes(this.fileName),u=new e.Identifier(o);s=new e.ModuleDeclaration(u,i,null),this.setSpanExplicit(s,n,this.position),s.setModuleFlags(s.getModuleFlags()|512),s.setModuleFlags(s.getModuleFlags()|256),s.setModuleFlags(s.getModuleFlags()|1),this.isParsingDeclareFile&&s.setModuleFlags(s.getModuleFlags()|8),s.prettyName=e.getPrettyName(o);var a=this.getLeadingComments(t);for(var f=0,l=a.length;f<l;f++){var c=a[f],h=this.getAmdDependency(c.fullText());h&&s.amdDependencies.push(h)}i=new e.ASTList,this.setSpanExplicit(i,n,this.position),i.append(s)}var p=new e.Script;return this.setSpanExplicit(p,n,n+t.fullWidth()),p.moduleElements=i,p.topLevelMod=s,p.isDeclareFile=this.isParsingDeclareFile,p.requiresExtendsBlock=this.requiresExtendsBlock,p},r.prototype.visitExternalModuleReference=function(e){this.assertElementAtPosition(e),this.moveTo(e,e.stringLiteral);var t=this.identifierFromToken(e.stringLiteral,!1,!1);return this.movePast(e.stringLiteral),this.movePast(e.closeParenToken),t},r.prototype.visitModuleNameModuleReference=function(e){return this.assertElementAtPosition(e),e.moduleName.accept(this)},r.prototype.visitClassDeclaration=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.convertNodeTrailingComments(t,n);this.moveTo(t,t.identifier);var o=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);var u=t.typeParameterList===null?null:t.typeParameterList.accept(this),a=new e.ASTList,f=new e.ASTList;for(var l=0,c=t.heritageClauses.childCount();l<c;l++){var h=t.heritageClauses.childAt(l);h.extendsOrImplementsKeyword.tokenKind===48?a=h.accept(this):(e.Debug.assert(h.extendsOrImplementsKeyword.tokenKind===51),f=h.accept(this))}this.movePast(t.openBraceToken);var p=this.visitSyntaxList(t.classElements),d=this.position;this.movePast(t.closeBraceToken);var v=new e.ASTSpan;this.setSpan(v,d,t.closeBraceToken),r=new e.ClassDeclaration(o,u,p,a,f),r.endingToken=v,r.preComments=i,r.postComments=s;for(var l=0;l<p.members.length;l++){var m=p.members[l];if(m.nodeType===12){var g=m;g.isConstructor&&(g.classDecl=r,r.constructorDecl=g)}}}return this.requiresExtendsBlock=this.requiresExtendsBlock||r.extendsList.members.length>0,!this.containingModuleHasExportAssignment&&(e.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)?r.setVarFlags(r.getVarFlags()|1):r.setVarFlags(r.getVarFlags()&-2),e.SyntaxUtilities.containsToken(t.modifiers,64)||this.isParsingAmbientModule||this.isParsingDeclareFile?r.setVarFlags(r.getVarFlags()|8):r.setVarFlags(r.getVarFlags()&-9),this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitInterfaceDeclaration=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.convertNodeTrailingComments(t,n);this.moveTo(t,t.identifier);var o=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);var u=t.typeParameterList===null?null:t.typeParameterList.accept(this),a=null;for(var f=0,l=t.heritageClauses.childCount();f<l;f++){var c=t.heritageClauses.childAt(f);f===0?a=c.accept(this):this.movePast(c)}this.movePast(t.body.openBraceToken);var h=this.visitSeparatedSyntaxList(t.body.typeMembers);this.movePast(t.body.closeBraceToken),r=new e.InterfaceDeclaration(o,u,h,a,null),r.preComments=i,r.postComments=s}return!this.containingModuleHasExportAssignment&&(e.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)?r.setVarFlags(r.getVarFlags()|1):r.setVarFlags(r.getVarFlags()&-2),this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitHeritageClause=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{r=new e.ASTList,this.movePast(t.extendsOrImplementsKeyword);for(var i=0,s=t.typeNames.childCount();i<s;i++)if(i%2===1)this.movePast(t.typeNames.childAt(i));else{var o=this.visitType(t.typeNames.childAt(i)).term;r.append(o)}}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.getModuleNames=function(e){var t=[];return e.stringLiteral!==null?(t.push(this.identifierFromToken(e.stringLiteral,!1,!1)),this.movePast(e.stringLiteral)):this.getModuleNamesHelper(e.moduleName,t),t},r.prototype.getModuleNamesHelper=function(e,t){this.assertElementAtPosition(e);if(e.kind()===122){var n=e;this.getModuleNamesHelper(n.left,t),this.movePast(n.dotToken),t.push(this.identifierFromToken(n.right,!1,!1)),this.movePast(n.right)}else t.push(this.identifierFromToken(e,!1,!1)),this.movePast(e)},r.prototype.visitModuleDeclaration=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.convertNodeTrailingComments(t,n);this.moveTo(t,t.moduleKeyword),this.movePast(t.moduleKeyword);var o=this.getModuleNames(t);this.movePast(t.openBraceToken);var u=this.isParsingAmbientModule;if(e.SyntaxUtilities.containsToken(t.modifiers,64)||this.isParsingDeclareFile)this.isParsingAmbientModule=!0;var a=this.containingModuleHasExportAssignment;this.containingModuleHasExportAssignment=e.ArrayUtilities.any(t.moduleElements.toArray(),function(e){return e.kind()===134});var f=this.visitSyntaxList(t.moduleElements);this.isParsingAmbientModule=u,this.containingModuleHasExportAssignment=a;var l=this.position;this.movePast(t.closeBraceToken);var c=new e.ASTSpan;this.setSpan(c,l,t.closeBraceToken);for(var h=o.length-1;h>=0;h--){var p=o[h];r=new e.ModuleDeclaration(p,f,c),this.setSpan(r,n,t),r.preComments=i,r.postComments=s,i=null,s=null,h?r.setModuleFlags(r.getModuleFlags()|1):!this.containingModuleHasExportAssignment&&(e.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)&&r.setModuleFlags(r.getModuleFlags()|1),f=new e.ASTList,f.append(r)}}return e.SyntaxUtilities.containsToken(t.modifiers,64)||this.isParsingAmbientModule||this.isParsingDeclareFile?r.setModuleFlags(r.getModuleFlags()|8):r.setModuleFlags(r.getModuleFlags()&-9),this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.hasDotDotDotParameter=function(e){for(var t=0,n=e.nonSeparatorCount();t<n;t++)if(e.nonSeparatorAt(t).dotDotDotToken)return!0;return!1},r.prototype.visitFunctionDeclaration=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.convertNodeTrailingComments(t,n);this.moveTo(t,t.identifier);var o=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);var u=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),a=t.callSignature.parameterList.accept(this),f=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,l=t.block?t.block.accept(this):null;this.movePast(t.semicolonToken),r=new e.FunctionDeclaration(o,l,!1,u,a,12),r.preComments=i,r.postComments=s,r.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters),r.returnTypeAnnotation=f,t.semicolonToken&&r.setFunctionFlags(r.getFunctionFlags()|128)}return!this.containingModuleHasExportAssignment&&(e.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)?r.setFunctionFlags(r.getFunctionFlags()|1):r.setFunctionFlags(r.getFunctionFlags()&-2),e.SyntaxUtilities.containsToken(t.modifiers,64)||this.isParsingAmbientModule||this.isParsingDeclareFile?r.setFunctionFlags(r.getFunctionFlags()|8):r.setFunctionFlags(r.getFunctionFlags()&-9),this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitEnumDeclaration=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.convertNodeLeadingComments(t,n),i=this.convertNodeTrailingComments(t,n);this.moveTo(t,t.identifier);var s=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier),this.movePast(t.openBraceToken);var o=new e.ASTList,u=null,a=[],f;for(var l=0,c=t.enumElements.childCount();l<c;l++)if(l%2===1)this.movePast(t.enumElements.childAt(l));else{var h=t.enumElements.childAt(l),p=null;f=this.identifierFromToken(h.propertyName,!1,!0),this.movePast(h.propertyName),h.equalsValueClause!==null&&(p=h.equalsValueClause.accept(this),u=null);var d=this.position;if(p===null)if(u===null)p=new e.NumberLiteral(0,"0"),u=p;else{var v=u.value+1;p=new e.NumberLiteral(v,v.toString()),u=p}var m=new e.VariableDeclarator(f);m.init=p,m.isImplicitlyInitialized=h.equalsValueClause===null,m.typeExpr=new e.TypeReference(this.createRef(s.actualText,-1),0),m.setVarFlags(m.getVarFlags()|256),this.setSpanExplicit(m,d,this.position);if(p.nodeType===7)m.setVarFlags(m.getVarFlags()|4096);else if(p.nodeType===69){var g=p;g.operand1.nodeType===7&&g.operand2.nodeType===7&&m.setVarFlags(m.getVarFlags()|4096)}else if(p.nodeType===20){var y=p;for(var b=0;b<a.length;b++){f=a[b];if(f.text===y.text){m.setVarFlags(m.getVarFlags()|4096);break}}}var w=new e.ASTList;w.append(m);var E=new e.VariableDeclaration(w);this.setSpanExplicit(E,d,this.position);var S=new e.VariableStatement(E);S.setFlags(16),this.setSpanExplicit(S,d,this.position),o.append(S),a.push(f),m.setVarFlags(m.getVarFlags()|1)}var x=this.position;this.movePast(t.closeBraceToken);var T=new e.ASTSpan;this.setSpan(T,x,t.closeBraceToken);var N=new e.ModuleDeclaration(s,o,T);return this.setSpan(N,n,t),N.preComments=r,N.postComments=i,N.setModuleFlags(N.getModuleFlags()|128),!this.containingModuleHasExportAssignment&&(e.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)&&N.setModuleFlags(N.getModuleFlags()|1),N},r.prototype.visitEnumElement=function(t){throw e.Errors.invalidOperation()},r.prototype.visitImportDeclaration=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.convertNodeTrailingComments(t,n);this.moveTo(t,t.identifier);var o=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier),this.movePast(t.equalsToken);var u=t.moduleReference.accept(this);this.movePast(t.semicolonToken),r=new e.ImportDeclaration(o,u),r.preComments=i,r.postComments=s,r.isDynamicImport=t.moduleReference.kind()===245}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitExportAssignment=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.moveTo(t,t.identifier);var i=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier),this.movePast(t.semicolonToken),r=new e.ExportAssignment(i)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitVariableStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=null;t.modifiers.childCount()>0&&(r=this.convertTokenLeadingComments(t.modifiers.firstToken(),n)),this.moveTo(t,t.variableDeclaration);var i=t.variableDeclaration.accept(this);this.movePast(t.semicolonToken);for(var s=0,o=i.declarators.members.length;s<o;s++){var u=i.declarators.members[s];s===0&&(u.preComments=this.mergeComments(r,u.preComments)),!this.containingModuleHasExportAssignment&&(e.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)?u.setVarFlags(u.getVarFlags()|1):u.setVarFlags(u.getVarFlags()&-2),e.SyntaxUtilities.containsToken(t.modifiers,64)||this.isParsingAmbientModule||this.isParsingDeclareFile?u.setVarFlags(u.getVarFlags()|8):u.setVarFlags(u.getVarFlags()&-9)}var a=new e.VariableStatement(i);return this.setSpan(a,n,t),a},r.prototype.visitVariableDeclaration=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.convertNodeLeadingComments(t,n),i=this.convertNodeTrailingComments(t,n);this.moveTo(t,t.variableDeclarators);var s=this.visitSeparatedSyntaxList(t.variableDeclarators);for(var o=0;o<s.members.length;o++)o===0&&(s.members[o].preComments=r,s.members[o].postComments=i);var u=new e.VariableDeclaration(s);return this.setSpan(u,n,t),u},r.prototype.visitVariableDeclarator=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);var i=t.typeAnnotation?t.typeAnnotation.accept(this):null,s=t.equalsValueClause?t.equalsValueClause.accept(this):null,o=new e.VariableDeclarator(r);this.setSpan(o,n,t),o.typeExpr=i,o.init=s;if(s&&s.nodeType===12){var u=s;u.hint=r.actualText}return o},r.prototype.visitEqualsValueClause=function(e){this.assertElementAtPosition(e),this.previousTokenTrailingComments=this.convertTokenTrailingComments(e.equalsToken,this.position+e.equalsToken.leadingTriviaWidth()+e.equalsToken.width()),this.movePast(e.equalsToken);var t=e.value.accept(this);return this.previousTokenTrailingComments=null,t},r.prototype.getUnaryExpressionNodeType=function(t){switch(t){case 163:return 26;case 164:return 27;case 165:return 72;case 166:return 73;case 167:return 74;case 168:return 75;default:throw e.Errors.invalidOperation()}},r.prototype.visitPrefixUnaryExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.operatorToken);var i=t.operand.accept(this);r=new e.UnaryExpression(this.getUnaryExpressionNodeType(t.kind()),i)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.isOnSingleLine=function(e,t){return this.lineMap.getLineNumberFromPosition(e)===this.lineMap.getLineNumberFromPosition(t)},r.prototype.visitArrayLiteralExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.position+t.openBracketToken.leadingTriviaWidth();this.movePast(t.openBracketToken);var s=this.visitSeparatedSyntaxList(t.expressions),o=this.position+t.closeBracketToken.leadingTriviaWidth();this.movePast(t.closeBracketToken),e.Debug.assert(s!==null),r=new e.UnaryExpression(21,s),this.isOnSingleLine(i,o)&&r.setFlags(r.getFlags()|2)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitOmittedExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);return r?this.movePast(t):r=new e.OmittedExpression,this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitParenthesizedExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.openParenToken);var i=t.expression.accept(this);this.movePast(t.closeParenToken),r=new e.ParenthesizedExpression(i)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.getArrowFunctionStatements=function(t){if(t.kind()===145)return t.accept(this);var n=new e.ASTList,r=t.accept(this),i=new e.ReturnStatement(r);i.preComments=r.preComments,r.preComments=null,n.append(i);var s=new e.Block(n);return s.closeBraceSpan=n.members[0],s},r.prototype.visitSimpleArrowFunctionExpression=function(
t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier),this.movePast(t.equalsGreaterThanToken);var s=new e.ASTList,o=new e.Parameter(i);this.setSpanExplicit(o,i.minChar,i.limChar),s.append(o);var u=this.getArrowFunctionStatements(t.body);r=new e.FunctionDeclaration(null,u,!1,null,s,12),r.returnTypeAnnotation=null,r.setFunctionFlags(r.getFunctionFlags()|8192),r.setFunctionFlags(r.getFunctionFlags()|2048)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitParenthesizedArrowFunctionExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),o=t.callSignature.parameterList.accept(this),u=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null;this.movePast(t.equalsGreaterThanToken);var a=this.getArrowFunctionStatements(t.body);r=new e.FunctionDeclaration(null,a,!1,s,o,12),r.preComments=i,r.returnTypeAnnotation=u,r.setFunctionFlags(r.getFunctionFlags()|8192),r.setFunctionFlags(r.getFunctionFlags()|2048),r.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitType=function(t){this.assertElementAtPosition(t);var n;if(t.isToken()){var r=this.position;n=new e.TypeReference(t.accept(this),0),this.setSpan(n,r,t)}else n=t.accept(this);return e.Debug.assert(n.nodeType===11),n},r.prototype.visitQualifiedName=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.visitType(t.left).term;this.movePast(t.dotToken);var s=this.identifierFromToken(t.right,!1,!0);this.movePast(t.right);var o=new e.BinaryExpression(32,i,s);this.setSpan(o,n,t),r=new e.TypeReference(o,0)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitTypeArgumentList=function(t){this.assertElementAtPosition(t);var n=new e.ASTList;this.movePast(t.lessThanToken);var r=this.position;for(var i=0,s=t.typeArguments.childCount();i<s;i++)i%2===1?this.movePast(t.typeArguments.childAt(i)):n.append(this.visitType(t.typeArguments.childAt(i)));return this.movePast(t.greaterThanToken),this.setSpan(n,r,t.typeArguments),n},r.prototype.visitConstructorType=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.newKeyword);var i=t.typeParameterList===null?null:t.typeParameterList.accept(this),s=t.parameterList.accept(this);this.movePast(t.equalsGreaterThanToken);var o=t.type?this.visitType(t.type):null,u=new e.FunctionDeclaration(null,null,!1,i,s,12);this.setSpan(u,n,t),u.returnTypeAnnotation=o,u.setFunctionFlags(u.getFunctionFlags()|128),u.variableArgList=this.hasDotDotDotParameter(t.parameterList.parameters),u.setFunctionFlags(u.getFunctionFlags()|1024),u.setFlags(u.getFlags()|8),u.hint="_construct",u.classDecl=null,r=new e.TypeReference(u,0)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitFunctionType=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=t.typeParameterList===null?null:t.typeParameterList.accept(this),s=t.parameterList.accept(this);this.movePast(t.equalsGreaterThanToken);var o=t.type?this.visitType(t.type):null,u=new e.FunctionDeclaration(null,null,!1,i,s,12);this.setSpan(u,n,t),u.returnTypeAnnotation=o,u.setFlags(u.getFunctionFlags()|128),u.setFlags(u.getFlags()|8),u.variableArgList=this.hasDotDotDotParameter(t.parameterList.parameters),r=new e.TypeReference(u,0)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitObjectType=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.openBraceToken);var i=this.visitSeparatedSyntaxList(t.typeMembers);this.movePast(t.closeBraceToken);var s=new e.InterfaceDeclaration(new e.Identifier("__anonymous"),null,i,null,null);this.setSpan(s,n,t),s.setFlags(s.getFlags()|8),r=new e.TypeReference(s,0)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitArrayType=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.visitType(t.type);this.movePast(t.openBracketToken),this.movePast(t.closeBracketToken),i.nodeType===11?(r=i,r.arrayCount++):r=new e.TypeReference(i,1),r.setFlags(r.getFlags()|8)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitGenericType=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.visitType(t.name).term,s=t.typeArgumentList.accept(this),o=new e.GenericType(i,s);this.setSpan(o,n,t),o.setFlags(o.getFlags()|8),r=new e.TypeReference(o,0)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitTypeAnnotation=function(e){return this.assertElementAtPosition(e),this.movePast(e.colonToken),this.visitType(e.type)},r.prototype.visitBlock=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.openBraceToken);var i=this.visitSyntaxList(t.statements),s=this.position;this.movePast(t.closeBraceToken);var o=new e.ASTSpan;this.setSpan(o,s,t.closeBraceToken),r=new e.Block(i),r.closeBraceSpan=o}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitParameter=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.convertNodeTrailingComments(t,n);this.moveTo(t,t.identifier);var o=this.identifierFromToken(t.identifier,!!t.questionToken,!0);this.movePast(t.identifier),this.movePast(t.questionToken);var u=t.typeAnnotation?t.typeAnnotation.accept(this):null,a=t.equalsValueClause?t.equalsValueClause.accept(this):null;r=new e.Parameter(o),r.preComments=i,r.postComments=s,r.isOptional=!!t.questionToken,r.init=a,r.typeExpr=u,t.publicOrPrivateKeyword&&(r.setVarFlags(r.getVarFlags()|256),t.publicOrPrivateKeyword.kind()===57?r.setVarFlags(r.getVarFlags()|4):r.setVarFlags(r.getVarFlags()|2)),(t.equalsValueClause||t.dotDotDotToken)&&r.setFlags(r.getFlags()|4)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitMemberAccessExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=t.expression.accept(this);this.movePast(t.dotToken);var s=this.identifierFromToken(t.name,!1,!0);this.movePast(t.name),r=new e.BinaryExpression(32,i,s)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitPostfixUnaryExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=t.operand.accept(this);this.movePast(t.operatorToken),r=new e.UnaryExpression(t.kind()===209?76:77,i)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitElementAccessExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=t.expression.accept(this);this.movePast(t.openBracketToken);var s=t.argumentExpression.accept(this);this.movePast(t.closeBracketToken),r=new e.BinaryExpression(35,i,s)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.convertArgumentListArguments=function(e){if(e===null)return null;var t=this.position;this.movePast(e.openParenToken);var n=this.visitSeparatedSyntaxList(e.arguments);if(e.arguments.fullWidth()===0&&e.closeParenToken.fullWidth()===0){var r=t+e.openParenToken.leadingTriviaWidth()+e.openParenToken.width();this.setSpanExplicit(n,r,r+e.openParenToken.trailingTriviaWidth())}return this.movePast(e.closeParenToken),n},r.prototype.visitInvocationExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=t.expression.accept(this),s=t.argumentList.typeArgumentList!==null?t.argumentList.typeArgumentList.accept(this):null,o=this.convertArgumentListArguments(t.argumentList);r=new e.CallExpression(36,i,s,o)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitArgumentList=function(t){throw e.Errors.invalidOperation()},r.prototype.getBinaryExpressionNodeType=function(t){switch(t.kind()){case 172:return 25;case 173:return 38;case 174:return 39;case 175:return 40;case 176:return 42;case 177:return 41;case 178:return 43;case 179:return 44;case 180:return 45;case 181:return 46;case 182:return 47;case 183:return 48;case 184:return 49;case 186:return 51;case 187:return 52;case 188:return 53;case 189:return 54;case 190:return 55;case 191:return 56;case 192:return 57;case 193:return 58;case 194:return 59;case 195:return 60;case 196:return 62;case 197:return 61;case 198:return 63;case 199:return 33;case 200:return 31;case 201:return 69;case 202:return 70;case 203:return 71;case 204:return 66;case 205:return 67;case 206:return 68;case 207:return 64;case 208:return 65}throw e.Errors.invalidOperation()},r.prototype.visitBinaryExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.getBinaryExpressionNodeType(t),s=t.left.accept(this);this.movePast(t.operatorToken);var o=t.right.accept(this);r=new e.BinaryExpression(i,s,o);if(o.nodeType===12){var u=s.nodeType===32?s.operand2:s,a=u.nodeType===20?u.actualText:null,f=o;f.hint=a}}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitConditionalExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=t.condition.accept(this);this.movePast(t.questionToken);var s=t.whenTrue.accept(this);this.movePast(t.colonToken);var o=t.whenFalse.accept(this);r=new e.ConditionalExpression(i,s,o)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitConstructSignature=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n);this.movePast(t.newKeyword);var s=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),o=t.callSignature.parameterList.accept(this),u=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null;r=new e.FunctionDeclaration(null,null,!1,s,o,12),r.preComments=i,r.returnTypeAnnotation=u,r.hint="_construct",r.setFunctionFlags(r.getFunctionFlags()|1024),r.setFunctionFlags(r.getFunctionFlags()|256),r.setFunctionFlags(r.getFunctionFlags()|128),r.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitMethodSignature=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.identifierFromToken(t.propertyName,!!t.questionToken,!0);this.movePast(t.propertyName),this.movePast(t.questionToken);var o=t.callSignature.typeParameterList?t.callSignature.typeParameterList.accept(this):null,u=t.callSignature.parameterList.accept(this),a=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null;r=new e.FunctionDeclaration(s,null,!1,o,u,12),r.preComments=i,r.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters),r.returnTypeAnnotation=a,r.setFunctionFlags(r.getFunctionFlags()|256),r.setFunctionFlags(r.getFunctionFlags()|128)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitIndexSignature=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n);this.movePast(t.openBracketToken);var s=t.parameter.accept(this);this.movePast(t.closeBracketToken);var o=t.typeAnnotation?t.typeAnnotation.accept(this):null,u=new e.Identifier("__item");this.setSpanExplicit(u,n,n);var a=new e.ASTList;a.append(s),r=new e.FunctionDeclaration(u,null,!1,null,a,12),r.preComments=i,r.variableArgList=!1,r.returnTypeAnnotation=o,r.setFunctionFlags(r.getFunctionFlags()|4096),r.setFunctionFlags(r.getFunctionFlags()|256),r.setFunctionFlags(r.getFunctionFlags()|128)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitPropertySignature=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.identifierFromToken(t.propertyName,!!t.questionToken,!0);this.movePast(t.propertyName),this.movePast(t.questionToken);var o=t.typeAnnotation?t.typeAnnotation.accept(this):null;r=new e.VariableDeclarator(s),r.preComments=i,r.typeExpr=o,r.setVarFlags(r.getVarFlags()|256)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitParameterList=function(e){this.assertElementAtPosition(e);var t=this.position,n=e.openParenToken;this.previousTokenTrailingComments=this.convertTokenTrailingComments(n,t+n.leadingTriviaWidth()+n.width()),this.movePast(e.openParenToken);var r=this.visitSeparatedSyntaxList(e.parameters);return this.movePast(e.closeParenToken),r},r.prototype.visitCallSignature=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=t.typeParameterList===null?null:t.typeParameterList.accept(this),o=t.parameterList.accept(this),u=t.typeAnnotation?t.typeAnnotation.accept(this):null;r=new e.FunctionDeclaration(null,null,!1,s,o,12),r.preComments=i,r.variableArgList=this.hasDotDotDotParameter(t.parameterList.parameters),r.returnTypeAnnotation=u,r.hint="_call",r.setFunctionFlags(r.getFunctionFlags()|512),r.setFunctionFlags(r.getFunctionFlags()|256),r.setFunctionFlags(r.getFunctionFlags()|128)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitTypeParameterList=function(e){this.assertElementAtPosition(e),this.movePast(e.lessThanToken);var t=this.visitSeparatedSyntaxList(e.typeParameters);return this.movePast(e.greaterThanToken),t},r.prototype.visitTypeParameter=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);var s=t.constraint?t.constraint.accept(this):null;r=new e.TypeParameter(i,s)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitConstraint=function(e){return this.assertElementAtPosition(e),this.movePast(e.extendsKeyword),this.visitType(e.type)},r.prototype.visitIfStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.moveTo(t,t.condition);var i=t.condition.accept(this);this.movePast(t.closeParenToken);var s=t.statement.accept(this),o=t.elseClause?t.elseClause.accept(this):null;r=new e.IfStatement(i,s,o)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitElseClause=function(e){return this.assertElementAtPosition(e),this.movePast(e.elseKeyword),e.statement.accept(this)},r.prototype.visitExpressionStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.convertNodeTrailingComments(t,n),o=t.expression.accept(this);this.movePast(t.semicolonToken),r=new e.ExpressionStatement(o),r.preComments=i,r.postComments=s}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitConstructorDeclaration=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.convertNodeTrailingComments(t,n);this.moveTo(t,t.parameterList);var o=t.parameterList.accept(this),u=t.block?t.block.accept(this):null;this.movePast(t.semicolonToken),r=new e.FunctionDeclaration(null,u,!0,null,o,12),r.preComments=i,r.postComments=s,r.variableArgList=this.hasDotDotDotParameter(t.parameterList.parameters),t.semicolonToken&&r.setFunctionFlags(r.getFunctionFlags()|128)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitMemberFunctionDeclaration=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.convertNodeTrailingComments(t,n);this.moveTo(t,t.propertyName);var o=this.identifierFromToken(t.propertyName,!1,!0);this.movePast(t.propertyName);var u=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),a=t.callSignature.parameterList.accept(this),f=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,l=t.block?t.block.accept(this):null;this.movePast(t.semicolonToken),r=new e.FunctionDeclaration(o,l,!1,u,a,12),r.preComments=i,r.postComments=s,r.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters),r.returnTypeAnnotation=f,t.semicolonToken&&r.setFunctionFlags(r.getFunctionFlags()|128),e.SyntaxUtilities.containsToken(t.modifiers,55)?r.setFunctionFlags(r.getFunctionFlags()|2):r.setFunctionFlags(r.getFunctionFlags()|4),e.SyntaxUtilities.containsToken(t.modifiers,58)&&r.setFunctionFlags(r.getFunctionFlags()|16),r.setFunctionFlags(r.getFunctionFlags()|256)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitMemberAccessorDeclaration=function(t,n){this.assertElementAtPosition(t);var r=this.position,i=this.getAST(t);if(i)this.movePast(t);else{var s=this.convertNodeLeadingComments(t,r),o=this.convertNodeTrailingComments(t,r);this.moveTo(t,t.propertyName);var u=this.identifierFromToken(t.propertyName,!1,!0);this.movePast(t.propertyName);var a=t.parameterList.accept(this),f=n?n.accept(this):null,l=t.block?t.block.accept(this):null;i=new e.FunctionDeclaration(u,l,!1,null,a,12),i.preComments=s,i.postComments=o,i.variableArgList=this.hasDotDotDotParameter(t.parameterList.parameters),i.returnTypeAnnotation=f,e.SyntaxUtilities.containsToken(t.modifiers,55)?i.setFunctionFlags(i.getFunctionFlags()|2):i.setFunctionFlags(i.getFunctionFlags()|4),e.SyntaxUtilities.containsToken(t.modifiers,58)&&i.setFunctionFlags(i.getFunctionFlags()|16),i.setFunctionFlags(i.getFunctionFlags()|256)}return this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitGetMemberAccessorDeclaration=function(e){this.assertElementAtPosition(e);var t=this.visitMemberAccessorDeclaration(e,e.typeAnnotation);return t.setFunctionFlags(t.getFunctionFlags()|32),t.hint="get"+t.name.actualText,t},r.prototype.visitSetMemberAccessorDeclaration=function(e){this.assertElementAtPosition(e);var t=this.visitMemberAccessorDeclaration(e,null);return t.setFunctionFlags(t.getFunctionFlags()|64),t.hint="set"+t.name.actualText,t},r.prototype.visitMemberVariableDeclaration=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.convertNodeTrailingComments(t,n);this.moveTo(t,t.variableDeclarator),this.moveTo(t.variableDeclarator,t.variableDeclarator.identifier);var o=this.identifierFromToken(t.variableDeclarator.identifier,!1,!0);this.movePast(t.variableDeclarator.identifier);var u=t.variableDeclarator.typeAnnotation?t.variableDeclarator.typeAnnotation.accept(this):null,a=t.variableDeclarator.equalsValueClause?t.variableDeclarator.equalsValueClause.accept(this):null;this.movePast(t.semicolonToken),r=new e.VariableDeclarator(o),r.preComments=i,r.postComments=s,r.typeExpr=u,r.init=a,e.SyntaxUtilities.containsToken(t.modifiers,58)&&r.setVarFlags(r.getVarFlags()|16),e.SyntaxUtilities.containsToken(t.modifiers,55)?r.setVarFlags(r.getVarFlags()|2):r.setVarFlags(r.getVarFlags()|4),r.setVarFlags(r.getVarFlags()|2048)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitThrowStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.throwKeyword);var i=t.expression.accept(this);this.movePast(t.semicolonToken),r=new e.ThrowStatement(i)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitReturnStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.convertNodeTrailingComments(t,n);this.movePast(t.returnKeyword);var o=t.expression?t.expression.accept(this):null;this.movePast(t.semicolonToken),r=new e.ReturnStatement(o),r.preComments=i,r.postComments=s}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitObjectCreationExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.newKeyword);var i=t.expression.accept(this),s=t.argumentList===null||t.argumentList.typeArgumentList===null?null:t.argumentList.typeArgumentList.accept(this),o=this.convertArgumentListArguments(t.argumentList);r=new e.CallExpression(37,i,s,o);if(i.nodeType===11){var u=i;if(u.arrayCount===0){var a=u.term;if(a.nodeType===32||a.nodeType===20)i=a}}}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitSwitchStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.switchKeyword),this.movePast(t.openParenToken);var i=t.expression.accept(this);this.movePast(t.closeParenToken);var s=this.position;this.movePast(t.openBraceToken),r=new e.SwitchStatement(i),r.statement.minChar=n,r.statement.limChar=s,r.caseList=new e.ASTList;for(var o=0,u=t.switchClauses.childCount();o<u;o++){var a=t.switchClauses.childAt(o),f=a.accept(this);a.kind()===232&&(r.defaultCase=f),r.caseList.append(f)}this.movePast(t.closeBraceToken)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitCaseSwitchClause=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.caseKeyword);var i=t.expression.accept(this);this.movePast(t.colonToken);var s=this.visitSyntaxList(t.statements);r=new e.CaseClause,r.expr=i,r.body=s}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitDefaultSwitchClause=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.defaultKeyword),this.movePast(t.colonToken);var i=this.visitSyntaxList(t.statements);r=new e.CaseClause,r.body=i}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitBreakStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);return r?this.movePast(t):(this.movePast(t.breakKeyword),this.movePast(t.identifier),this.movePast(t.semicolonToken),r=new e.Jump(82),t.identifier!==null&&(r.target=t.identifier.valueText())),this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitContinueStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);return r?this.movePast(t):(this.movePast(t.continueKeyword),this.movePast(t.identifier),this.movePast(t.semicolonToken),r=new e.Jump(83),t.identifier!==null&&(r.target=t.identifier.valueText())),this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitForStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.forKeyword),this.movePast(t.openParenToken);var i=t.variableDeclaration?t.variableDeclaration.accept(this):t.initializer?t.initializer.accept(this):null;this.movePast(t.firstSemicolonToken);var s=t.condition?t.condition.accept(this):null;this.movePast(t.secondSemicolonToken);var o=t.incrementor?t.incrementor.accept(this):null;this.movePast(t.closeParenToken);var u=t.statement.accept(this);r=new e.ForStatement(i,s,o,u)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitForInStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.forKeyword),this.movePast(t.openParenToken);var i=t.variableDeclaration?t.variableDeclaration.accept(this):t.left.accept(this);this.movePast(t.inKeyword);var s=t.expression.accept(this);this.movePast(t.closeParenToken);var o=t.statement.accept(this);r=new e.ForInStatement(i,s,o)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitWhileStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.moveTo(t,t.condition);var i=t.condition.accept(this);this.movePast(t.closeParenToken);var s=t.statement.accept(this);r=new e.WhileStatement(i,s)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitWithStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.moveTo(t,t.condition);var i=t.condition.accept(this);this.movePast(t.closeParenToken);var s=t.statement.accept(this);r=new e.WithStatement(i,s)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitCastExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.lessThanToken);var i=this.visitType(t.type);this.movePast(t.greaterThanToken);var s=t.expression.accept(this);r=new e.UnaryExpression(78,s),r.castTerm=i}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitObjectLiteralExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=this.position+t.openBraceToken.leadingTriviaWidth();this.movePast(t.openBraceToken);var o=this.visitSeparatedSyntaxList(t.propertyAssignments),u=this.position+t.closeBraceToken.leadingTriviaWidth();this.movePast(t.closeBraceToken),r=new e.UnaryExpression(22,o),r.preComments=i,this.isOnSingleLine(s,u)&&r.setFlags(r.getFlags()|2)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitSimplePropertyAssignment=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n),s=t.propertyName.accept(this);this.previousTokenTrailingComments=this.convertTokenTrailingComments(t.colonToken,this.position+t.colonToken.leadingTriviaWidth()+t.colonToken.width()),this.movePast(t.colonToken);var o=t.expression.accept(this);r=new e.BinaryExpression(80,s,o),r.preComments=i;if(o.nodeType===12){var u=o;u.hint=s.text}}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitFunctionPropertyAssignment=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=t.propertyName.accept(this),s=t.callSignature.accept(this),o=t.block.accept(this);s.hint=i.text,s.block=o,s.setFunctionFlags(16384),r=new e.BinaryExpression(80,i,s)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitGetAccessorPropertyAssignment=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.moveTo(t,t.propertyName);var i=this.identifierFromToken(t.propertyName,!1,!0),s=this.identifierFromToken(t.propertyName,!1,!0);this.movePast(t.propertyName),this.movePast(t.openParenToken),this.movePast(t.closeParenToken);var o=t.typeAnnotation?t.typeAnnotation.accept(this):null,u=t.block?t.block.accept(this):null,a=new e.FunctionDeclaration(s,u,!1,null,new e.ASTList,12);this.setSpan(a,n,t),a.setFunctionFlags(a.getFunctionFlags()|32),a.setFunctionFlags(a.getFunctionFlags()|8192),a.hint="get"+t.propertyName.valueText(),a.returnTypeAnnotation=o,r=new e.BinaryExpression(80,i,a)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitSetAccessorPropertyAssignment=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.moveTo(t,t.propertyName);var i=this.identifierFromToken(t.propertyName,!1,!0),s=this.identifierFromToken(t.propertyName,!1,!0);this.movePast(t.propertyName),this.movePast(t.openParenToken);var o=t.parameter.accept(this);this.movePast(t.closeParenToken);var u=new e.ASTList;u.append(o);var a=t.block?t.block.accept(this):null,f=new e.FunctionDeclaration(s,a,!1,null,u,12);this.setSpan(f,n,t),f.setFunctionFlags(f.getFunctionFlags()|64),f.setFunctionFlags(f.getFunctionFlags()|8192),f.hint="set"+t.propertyName.valueText(),r=new e.BinaryExpression(80,i,f)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitFunctionExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.convertNodeLeadingComments(t,n);this.movePast(t.functionKeyword);var s=t.identifier===null?null:this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);var o=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),u=t.callSignature.parameterList.accept(this),a=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,f=t.block?t.block.accept(this):null;r=new e.FunctionDeclaration(s,f,!1,o,u,12),r.preComments=i,r.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters),r.returnTypeAnnotation=a,r.setFunctionFlags(r.getFunctionFlags()|8192)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitEmptyStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);return r?this.movePast(t):(this.movePast(t.semicolonToken),r=new e.EmptyStatement),this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitTryStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.tryKeyword);var i=t.block.accept(this),s=null;t.catchClause!==null&&(s=t.catchClause.accept(this));var o=null;t.finallyClause!==null&&(o=t.finallyClause.accept(this)),r=new e.TryStatement(i,s,o)}return e.Debug.assert(r!==null),this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitCatchClause=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.catchKeyword),this.movePast(t.openParenToken);var i=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);var s=t.typeAnnotation?t.typeAnnotation.accept(this):null;this.movePast(t.closeParenToken);var o=t.block.accept(this),u=new e.VariableDeclarator(i);this.setSpanExplicit(u,i.minChar,i.limChar),u.typeExpr=s,r=new e.CatchClause(u,o)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitFinallyClause=function(e){return this.movePast(e.finallyKeyword),e.block.accept(this)},r.prototype.visitLabeledStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{var i=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier),this.movePast(t.colonToken);var s=t.statement.accept(this);r=new e.LabeledStatement(i,s)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitDoStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.doKeyword);var i=t.statement.accept(this),s=new e.ASTSpan;this.setSpan(s,this.position,t.whileKeyword),this.movePast(t.whileKeyword),this.movePast(t.openParenToken);var o=t.condition.accept(this);this.movePast(t.closeParenToken),this.movePast(t.semicolonToken),r=new e.DoStatement(i,o),r.whileSpan=s}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitTypeOfExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.typeOfKeyword);var i=t.expression.accept(this);r=new e.UnaryExpression(34,i)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitDeleteExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.deleteKeyword);var i=t.expression.accept(this);r=new e.UnaryExpression(28,i)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitVoidExpression=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);if(r)this.movePast(t);else{this.movePast(t.voidKeyword);var i=t.expression.accept(this);r=new e.UnaryExpression(24,i)}return this.setAST(t,r),this.setSpan(r,n,t),r},r.prototype.visitDebuggerStatement=function(t){this.assertElementAtPosition(t);var n=this.position,r=this.getAST(t);return r?this.movePast(t):(this.movePast(t.debuggerKeyword),this.movePast(t.semicolonToken),r=new e.DebuggerStatement),this.setAST(t,r),this.setSpan(r,n,t),r},r.checkPositions=!1,r.protoString="__proto__",r.protoSubstitutionString="#__proto__",r}();e.SyntaxTreeToAstVisitor=r})(TypeScript||(TypeScript={}));var TypeScript;(function(e){var t=function(){function t(t,n,r,i,s,o,u){this.fileName=t,this.compilationSettings=n,this.scriptSnapshot=r,this.byteOrderMark=i,this.version=s,this.isOpen=o,this._diagnostics=null
,this._syntaxTree=null,this._bloomFilter=null,o?this._syntaxTree=u:this._diagnostics=u.diagnostics();var a=new e.BlockIntrinsics,f=new e.IdentifierWalker(a);u.sourceUnit().accept(f);var l=0;for(var c in a)l++;this._bloomFilter=new e.BloomFilter(l),this._bloomFilter.addKeys(a),this.lineMap=u.lineMap(),this.script=e.SyntaxTreeToAstVisitor.visit(u,t,n)}return t.prototype.diagnostics=function(){return this._diagnostics===null&&(this._diagnostics=this._syntaxTree.diagnostics()),this._diagnostics},t.prototype.syntaxTree=function(){return this._syntaxTree?this._syntaxTree:e.Parser.parse(this.fileName,e.SimpleText.fromScriptSnapshot(this.scriptSnapshot),e.isDTSFile(this.fileName),this.compilationSettings.codeGenTarget,e.getParseOptions(this.compilationSettings))},t.prototype.bloomFilter=function(){return this._bloomFilter},t.prototype.update=function(n,r,i,s,o){var u=this.script,a=this._syntaxTree,f=e.SimpleText.fromScriptSnapshot(n),l=s===null||a===null?e.Parser.parse(this.fileName,f,e.isDTSFile(this.fileName),o.codeGenTarget,e.getParseOptions(this.compilationSettings)):e.Parser.incrementalParse(a,s,f);return new t(this.fileName,this.compilationSettings,n,this.byteOrderMark,r,i,l)},t.create=function(n,r,i,s,o,u,a){var f=e.Parser.parse(n,e.SimpleText.fromScriptSnapshot(r),e.isDTSFile(n),a.codeGenTarget,e.getParseOptions(a)),l=new t(n,a,r,i,s,o,f);return l.script.referencedFiles=u,l},t}();e.Document=t,e.globalSemanticInfoChain=null,e.globalBinder=null,e.globalLogger=null;var n=function(){function n(t,n,r){typeof t=="undefined"&&(t=new e.NullLogger),typeof n=="undefined"&&(n=new e.CompilationSettings),typeof r=="undefined"&&(r=null),this.logger=t,this.settings=n,this.diagnosticMessages=r,this.pullTypeChecker=null,this.semanticInfoChain=null,this.fileNameToDocument=new e.StringHashTable,this.emitOptions=new e.EmitOptions(this.settings),e.globalLogger=t,this.diagnosticMessages&&(e.diagnosticMessages=this.diagnosticMessages)}return n.prototype.getDocument=function(e){return this.fileNameToDocument.lookup(e)},n.prototype.timeFunction=function(t,n){return e.timeFunction(this.logger,t,n)},n.prototype.addSourceUnit=function(e,n,r,i,s,o){typeof o=="undefined"&&(o=[]);var u=this;return this.timeFunction("addSourceUnit("+e+")",function(){var a=t.create(e,n,r,i,s,o,u.emitOptions.compilationSettings);return u.fileNameToDocument.addOrUpdate(e,a),a})},n.prototype.updateSourceUnit=function(e,t,n,r,i){var s=this;return this.timeFunction("pullUpdateUnit("+e+")",function(){var o=s.getDocument(e),u=o.update(t,n,r,i,s.settings);return s.fileNameToDocument.addOrUpdate(e,u),s.pullUpdateScript(o,u),u})},n.prototype.isDynamicModuleCompilation=function(){var e=this.fileNameToDocument.getAllKeys();for(var t=0,n=e.length;t<n;t++){var r=this.getDocument(e[t]),i=r.script;if(!i.isDeclareFile&&i.topLevelMod!==null)return!0}return!1},n.prototype.updateCommonDirectoryPath=function(){var t=[],n=-1,r=this.fileNameToDocument.getAllKeys();for(var i=0,s=r.length;i<s;i++){var o=r[i],u=this.getDocument(r[i]),a=u.script;if(!a.isDeclareFile){var f=e.filePathComponents(o);if(n===-1)t=f,n=t.length;else{var l=!1;for(var c=0;c<n&&c<f.length;c++)if(t[c]!==f[c]){n=c,l=!0;if(c===0)return new e.Diagnostic(null,0,0,276,null);break}!l&&f.length<n&&(n=f.length)}}}return this.emitOptions.commonDirectoryPath=t.slice(0,n).join("/")+"/",this.emitOptions.compilationSettings.outputOption.charAt(this.emitOptions.compilationSettings.outputOption.length-1)!=="/"&&(this.emitOptions.compilationSettings.outputOption+="/"),null},n.prototype.parseEmitOption=function(t){return this.emitOptions.ioHost=t,this.emitOptions.compilationSettings.outputOption===""?(this.emitOptions.outputMany=!0,this.emitOptions.commonDirectoryPath="",null):(this.emitOptions.compilationSettings.outputOption=e.switchToForwardSlashes(this.emitOptions.ioHost.resolvePath(this.emitOptions.compilationSettings.outputOption)),this.emitOptions.ioHost.directoryExists(this.emitOptions.compilationSettings.outputOption)?this.emitOptions.outputMany=!0:this.emitOptions.ioHost.fileExists(this.emitOptions.compilationSettings.outputOption)?this.emitOptions.outputMany=!1:this.emitOptions.outputMany=!e.isJSFile(this.emitOptions.compilationSettings.outputOption),this.isDynamicModuleCompilation()&&!this.emitOptions.outputMany?new e.Diagnostic(null,0,0,277,null):this.emitOptions.outputMany?this.updateCommonDirectoryPath():null)},n.prototype.getScripts=function(){var e=[],t=this.fileNameToDocument.getAllKeys();for(var n=0,r=t.length;n<r;n++){var i=this.getDocument(t[n]);e.push(i.script)}return e},n.prototype.writeByteOrderMarkForDocument=function(e){if(this.emitOptions.outputMany)return e.byteOrderMark!==0;var t=this.fileNameToDocument.getAllKeys();for(var n=0,r=t.length;n<r;n++){var e=this.getDocument(t[n]);if(e.byteOrderMark!==0)return!0}return!1},n.mapToDTSFileName=function(t,n){return e.getDeclareFilePath(t)},n.prototype.canEmitDeclarations=function(e){return this.settings.generateDeclarationFiles?!e||!e.isDeclareFile&&e.moduleElements!==null?!0:!1:!1},n.prototype.emitDeclarations=function(t,r){var i=t.script;if(this.canEmitDeclarations(i)){if(!r){var s=this.emitOptions.mapOutputFileName(t.fileName,n.mapToDTSFileName);r=new e.DeclarationEmitter(s,this.semanticInfoChain,this.emitOptions,t.byteOrderMark!==0)}r.fileName=t.fileName,r.emitDeclarations(i)}return r},n.prototype.emitAllDeclarations=function(){if(this.canEmitDeclarations()){var t=null,n=this.fileNameToDocument.getAllKeys();for(var r=0,i=n.length;r<i;r++){var s=n[r];try{var o=this.getDocument(n[r]);if(this.emitOptions.outputMany){var u=this.emitDeclarations(o);u&&u.close()}else t=this.emitDeclarations(o,t)}catch(a){return e.Emitter.handleEmitterError(s,a)}}if(t)try{t.close()}catch(f){return e.Emitter.handleEmitterError(t.fileName,f)}}return[]},n.prototype.emitUnitDeclarations=function(t){if(this.canEmitDeclarations()){if(!this.emitOptions.outputMany)return this.emitAllDeclarations();try{var n=this.getDocument(t),r=this.emitDeclarations(n);r&&r.close()}catch(i){return e.Emitter.handleEmitterError(t,i)}}return[]},n.mapToFileNameExtension=function(e,t,n){if(n)return t;var r=t.split(".");return r.pop(),r.join(".")+e},n.mapToJSFileName=function(e,t){return n.mapToFileNameExtension(".js",e,t)},n.prototype.emit=function(t,r,i){var s=t.script;if(!s.isDeclareFile){var o=t.fileName;if(!i){var u=this.emitOptions.mapOutputFileName(o,n.mapToJSFileName),a=this.createFile(u,this.writeByteOrderMarkForDocument(t));i=new e.Emitter(u,a,this.emitOptions,this.semanticInfoChain);if(this.settings.mapSourceFiles){var f=u+e.SourceMapper.MapFileExtension;i.setSourceMappings(new e.SourceMapper(o,u,f,a,this.createFile(f,!1),this.settings.emitFullSourceMapPath))}r&&r(o,u)}else this.settings.mapSourceFiles&&i.setSourceMappings(new e.SourceMapper(o,i.emittingFileName,i.sourceMapper.sourceMapFileName,i.outfile,i.sourceMapper.sourceMapOut,this.settings.emitFullSourceMapPath));i.setDocument(t),i.emitJavascript(s,!1)}return i},n.prototype.emitAll=function(t,n){var r=this.parseEmitOption(t);if(r)return[r];var i=(new Date).getTime(),s=this.fileNameToDocument.getAllKeys(),o=null;for(var u=0,a=s.length;u<a;u++){var f=s[u],l=this.getDocument(f);try{if(this.emitOptions.outputMany){var c=this.emit(l,n);c&&c.emitSourceMapsAndClose()}else o=this.emit(l,n,o)}catch(h){return e.Emitter.handleEmitterError(f,h)}}this.logger.log("Emit: "+((new Date).getTime()-i));if(o)try{o.emitSourceMapsAndClose()}catch(p){return e.Emitter.handleEmitterError(o.document.fileName,p)}return[]},n.prototype.emitUnit=function(t,n,r){var i=this.parseEmitOption(n);if(i)return[i];if(this.emitOptions.outputMany){var s=this.getDocument(t);try{var o=this.emit(s,r);o&&o.emitSourceMapsAndClose()}catch(u){return e.Emitter.handleEmitterError(t,u)}return[]}return this.emitAll(n,r)},n.prototype.createFile=function(t,n){return new e.TextWriter(this.emitOptions.ioHost,t,n)},n.prototype.getSyntacticDiagnostics=function(e){return this.getDocument(e).diagnostics()},n.prototype.getSyntaxTree=function(e){return this.getDocument(e).syntaxTree()},n.prototype.getScript=function(e){return this.getDocument(e).script},n.prototype.getSemanticDiagnostics=function(t){var n=[],r=this.semanticInfoChain.getUnit(t);e.globalSemanticInfoChain=this.semanticInfoChain,e.globalBinder&&(e.globalBinder.semanticInfoChain=this.semanticInfoChain);if(r){var i=this.getDocument(t),s=i.script;s&&(this.pullTypeChecker.typeCheckScript(s,t,this),r.getDiagnostics(n))}return n},n.prototype.pullTypeCheck=function(){var t=this;return this.timeFunction("pullTypeCheck()",function(){t.semanticInfoChain=new e.SemanticInfoChain,e.globalSemanticInfoChain=t.semanticInfoChain,t.pullTypeChecker=new e.PullTypeChecker(t.settings,t.semanticInfoChain);var n=null,r,i,s=(new Date).getTime(),o=t.fileNameToDocument.getAllKeys();for(var r=0,i=o.length;r<i;r++){var u=o[r],a=t.getDocument(u),f=new e.SemanticInfo(u);n=new e.DeclCollectionContext(f),n.scriptName=u,e.getAstWalkerFactory().walk(a.script,e.preCollectDecls,e.postCollectDecls,null,n),f.addTopLevelDecl(n.getParent()),t.semanticInfoChain.addUnit(f)}var l=(new Date).getTime(),c=(new Date).getTime(),h=new e.PullSymbolBinder(t.semanticInfoChain);e.globalBinder=h;var p=(new Date).getTime();t.logger.log("Decl creation: "+(l-s)),t.logger.log("Binding: "+(p-c)),t.logger.log("    Time in findSymbol: "+e.time_in_findSymbol),t.logger.log("Number of symbols created: "+e.pullSymbolID),t.logger.log("Number of specialized types created: "+e.nSpecializationsCreated),t.logger.log("Number of specialized signatures created: "+e.nSpecializedSignaturesCreated)})},n.prototype.pullUpdateScript=function(t,n){var r=this;this.timeFunction("pullUpdateScript: ",function(){var i=t.script,s=n.script,o=new e.SemanticInfo(t.fileName),u=r.semanticInfoChain.getUnit(t.fileName);e.lastBoundPullDeclId=e.pullDeclID,e.lastBoundPullSymbolID=e.pullSymbolID;var a=new e.DeclCollectionContext(o);a.scriptName=t.fileName,e.getAstWalkerFactory().walk(s,e.preCollectDecls,e.postCollectDecls,null,a);var f=u.getTopLevelDecls()[0],l=a.getParent();o.addTopLevelDecl(l),r.pullTypeChecker&&r.pullTypeChecker.resolver&&r.pullTypeChecker.resolver.cleanCachedGlobals(),r.semanticInfoChain.updateUnit(u,o),r.logger.log("Cleaning symbols...");var c=(new Date).getTime();r.semanticInfoChain.update();var h=(new Date).getTime();r.logger.log("   time to clean: "+(h-c)),r.pullTypeChecker&&r.pullTypeChecker.resolver&&r.pullTypeChecker.resolver.setUnitPath(t.fileName)})},n.prototype.getSymbolOfDeclaration=function(t){if(!t)return null;var n=this.pullTypeChecker.resolver.getASTForDecl(t);if(!n)return null;var r=this.pullTypeChecker.resolver.getEnclosingDecl(t);if(n.nodeType===80)return this.getSymbolOfDeclaration(r);var i=new e.PullTypeResolutionContext;return this.pullTypeChecker.resolver.resolveAST(n,!1,r,i).symbol},n.prototype.resolvePosition=function(t,n){var r=[],i=[],s=n.script,o=n.fileName,u=this.semanticInfoChain.getUnit(o),a=null,f=null,l=null,c=null,h=null,p=null,d=[],v=null,m=null,g=[],y=new e.PullTypeResolutionContext,b=!1,w=null,E=!1;e.globalSemanticInfoChain=this.semanticInfoChain,e.globalBinder&&(e.globalBinder.semanticInfoChain=this.semanticInfoChain);var S=function(n,s){if(e.isValidAstNode(n)&&t>=n.minChar&&t<=n.limChar){var o=i[i.length-1];if(o===undefined||n.minChar>=o.minChar&&n.limChar<=o.limChar){var f=u.getDeclForAST(n);f&&(r[r.length]=f,a=n),n.nodeType===12&&e.hasFlag(n.getFunctionFlags(),8192)?p=n:n.nodeType===17?d[d.length]=n:n.nodeType===22?v=n:n.nodeType===78?g[g.length]=n:n.nodeType===38?m=n:n.nodeType===11&&(b=!0),i[i.length]=n}}return n};e.getAstWalkerFactory().walk(s,S);if(i.length){this.pullTypeChecker.setUnit(o),f=i[i.length-1];if(f.nodeType===20&&i.length>1){var x=i[i.length-2];switch(x.nodeType){case 14:case 13:case 15:f===x.name&&(f=x);break;case 17:f===x.id&&(f=x);break;case 12:f===x.name&&(f=x)}}var T=null;if(a===f)l=r[r.length-1].getSymbol(),this.pullTypeChecker.resolver.resolveDeclaredSymbol(l,null,y),l.setUnresolved(),w=r[r.length-1].getParentDecl(),f.nodeType===12&&(T=f);else{for(var N=r.length-1;N>=0;N--)if(!(r[N].getKind()&3072)){w=r[N];break}var C=null;if((f.nodeType===30||f.nodeType===29||f.nodeType===20)&&i.length>1)for(var N=i.length-2;N>=0;N--){if(i[N].nodeType!==32||i[N].operand2!==i[N+1]){if(i[N].nodeType!==36&&i[N].nodeType!==37||i[N].target!==i[N+1]){if(i[N].nodeType===12&&i[N].name===i[N+1]){T=i[N];break}break}C=i[N];break}f=i[N]}if(f.nodeType===1)for(var N=0;N<f.members.length;N++)if(f.members[N].minChar>t){f=f.members[N];break}y.resolvingTypeReference=b;var k=!1;if(d.length){var L;for(var N=0;N<d.length;N++){L=d[N],k=L!==null&&L.typeExpr!==null,this.pullTypeChecker.resolver.resolveAST(L,!1,null,y);var A=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(L,o),O=A&&A.symbol;if(O&&k){var M=O.getType();y.pushContextualType(M,!1,null)}L.init&&this.pullTypeChecker.resolver.resolveAST(L.init,k,w,y)}}if(g.length)for(var N=0;N<g.length;N++)this.pullTypeChecker.resolver.resolveAST(g[N],k,w,y);m&&this.pullTypeChecker.resolver.resolveAST(m,k,w,y),v&&this.pullTypeChecker.resolver.resolveAST(v,k,w,y),p&&(this.pullTypeChecker.resolver.resolveAST(p,!0,w,y),w=u.getDeclForAST(p)),l=this.pullTypeChecker.resolver.resolveAST(f,k,w,y).symbol;if(C){var _=l.getKind()===4096||l.getKind()===1024,D=l.getType();_&&(_=D.getKind()!==16&&D.getKind()!==8388608||D.getName()==="");if(!_){E=f.nodeType===30||C.nodeType===37,f.nodeType===30?l.getKind()===8&&(h=l.getConstructorMethod().getType().getConstructSignatures()):h=C.nodeType===36?D.getCallSignatures():D.getConstructSignatures();var P=new e.PullAdditionalCallResolutionData;C.nodeType===36?this.pullTypeChecker.resolver.resolveCallExpression(C,k,w,y,P):this.pullTypeChecker.resolver.resolveNewExpression(C,k,w,y,P),P.candidateSignature&&(c=P.candidateSignature),P.targetSymbol&&P.targetSymbol.getName()!==""&&(l=P.targetSymbol),f=C}}}if(T){if(l&&l.getKind()!==4096){var H=e.PullHelpers.getSignatureForFuncDecl(T,this.semanticInfoChain.getUnit(o));c=H.signature,h=H.allSignatures}}else if(!h&&l&&(l.getKind()===65536||l.getKind()===16384)){var B=l.getType();B&&(h=B.getCallSignatures())}}var j=this.getSymbolOfDeclaration(w);return{symbol:l,ast:f,enclosingScopeSymbol:j,candidateSignature:c,callSignatures:h,isConstructorCall:E}},n.prototype.extractResolutionContextFromPath=function(t,n){var r=n.script,i=n.fileName,s=this.semanticInfoChain.getUnit(i),o=null,u=null,a=!1;e.globalSemanticInfoChain=this.semanticInfoChain,e.globalBinder&&(e.globalBinder.semanticInfoChain=this.semanticInfoChain);var f=new e.PullTypeResolutionContext;f.resolveAggressively=!0;if(t.count()===0)return null;this.pullTypeChecker.setUnit(s.getPath());for(var l=0,c=t.count();l<c;l++){var h=t.asts[l];switch(h.nodeType){case 12:e.hasFlag(h.getFunctionFlags(),8192)&&this.pullTypeChecker.resolver.resolveAST(h,!0,o,f);break;case 17:var p=h;a=p.typeExpr!==null,this.pullTypeChecker.resolver.resolveAST(p,!1,null,f);var d=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(p,i),v=d&&d.symbol,m=null;v&&a&&(m=v.getType()),f.pushContextualType(m,!1,null),p.init&&this.pullTypeChecker.resolver.resolveAST(p.init,a,o,f);break;case 36:case 37:var g=h.nodeType===37,y=h,m=null;if(l+1<c&&y.arguments===t.asts[l+1]){var b=new e.PullAdditionalCallResolutionData;g?this.pullTypeChecker.resolver.resolveNewExpression(y,a,o,f,b):this.pullTypeChecker.resolver.resolveCallExpression(y,a,o,f,b);if(b.actualParametersContextTypeSymbols){var w=t.asts[l+1]&&t.asts[l+1].nodeType===1?t.asts[l+2]:t.asts[l+1];if(w)for(var E=0,S=y.arguments.members.length;E<S;E++)if(y.arguments.members[E]===w){var x=b.actualParametersContextTypeSymbols[E];if(x){m=x;break}}}}else g?this.pullTypeChecker.resolver.resolveNewExpression(y,a,o,f):this.pullTypeChecker.resolver.resolveCallExpression(y,a,o,f);f.pushContextualType(m,!1,null);break;case 21:this.pullTypeChecker.resolver.resolveAST(h,a,o,f);var m=null,T=f.getContextualType();T&&T.isArray()&&(m=T.getElementType()),f.pushContextualType(m,!1,null);break;case 22:var N=h,C=new e.PullAdditionalObjectLiteralResolutionData;this.pullTypeChecker.resolver.resolveObjectLiteralExpression(N,a,o,f,C);var k=t.asts[l+1]&&t.asts[l+1].nodeType===1?t.asts[l+2]:t.asts[l+1];if(k){var m=null,L=N.operand;if(L&&C.membersContextTypeSymbols)for(var E=0,S=L.members.length;E<S;E++)if(L.members[E]===k){var A=C.membersContextTypeSymbols[E];if(A){m=A;break}}f.pushContextualType(m,!1,null)}break;case 38:var O=h,m=null;if(t.asts[l+1]&&t.asts[l+1]===O.operand2){var M=this.pullTypeChecker.resolver.resolveAST(O.operand1,a,o,f).symbol.getType();M&&(a=!0,m=M)}f.pushContextualType(m,!1,null);break;case 78:var _=h,m=null;l+1<c&&t.asts[l+1]===_.castTerm&&(f.resolvingTypeReference=!0);var D=this.pullTypeChecker.resolver.resolveTypeAssertionExpression(_,a,o,f).symbol;D&&(a=!0,m=D),f.pushContextualType(m,!1,null);break;case 93:var P=h,m=null;if(o&&o.getKind()&e.PullElementKind.SomeFunction){var H=u;if(H.returnTypeAnnotation){var B=f.resolvingTypeReference;f.resolvingTypeReference=!0;var j=this.pullTypeChecker.resolver.resolveTypeReference(H.returnTypeAnnotation,o,f).symbol;f.resolvingTypeReference=B,j&&(a=!0,m=j)}else{var T=f.getContextualType();if(T&&T.isFunction()){var F=T.getDeclarations()[0].getSignatureSymbol(),I=F.getReturnType();I&&(a=!0,m=I)}}}f.pushContextualType(m,!1,null);break;case 11:case 9:f.resolvingTypeReference=!0}var q=s.getDeclForAST(h);q&&!(q.getKind()&11264)&&(o=q,u=h)}if(t.isNameOfInterface()||t.isInClassImplementsList()||t.isInInterfaceExtendsList())f.resolvingTypeReference=!0;if(t.ast().nodeType===20&&t.count()>1)for(var l=t.count()-1;l>=0;l--){if(t.asts[t.top-1].nodeType!==32||t.asts[t.top-1].operand2!==t.asts[t.top])break;t.pop()}return{ast:t.ast(),enclosingDecl:o,resolutionContext:f,inContextuallyTypedAssignment:a}},n.prototype.pullGetSymbolInformationFromPath=function(t,n){var r=this.extractResolutionContextFromPath(t,n);if(!r)return null;e.globalSemanticInfoChain=this.semanticInfoChain,e.globalBinder&&(e.globalBinder.semanticInfoChain=this.semanticInfoChain);var i=this.pullTypeChecker.resolver.resolveAST(t.ast(),r.inContextuallyTypedAssignment,r.enclosingDecl,r.resolutionContext),s=i&&i.symbol;return{symbol:s,ast:t.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl)}},n.prototype.pullGetDeclarationSymbolInformation=function(t,n){var r=n.script,i=n.fileName,s=t.ast();if(s.nodeType!==13&&s.nodeType!==14&&s.nodeType!==15&&s.nodeType!==12&&s.nodeType!==17)return null;var o=this.extractResolutionContextFromPath(t,n);if(!o)return null;e.globalSemanticInfoChain=this.semanticInfoChain,e.globalBinder&&(e.globalBinder.semanticInfoChain=this.semanticInfoChain);var u=this.semanticInfoChain.getUnit(i),a=u.getDeclForAST(s),f=a.getKind()&e.PullElementKind.SomeSignature?a.getSignatureSymbol():a.getSymbol();return this.pullTypeChecker.resolver.resolveDeclaredSymbol(f,null,o.resolutionContext),f.setUnresolved(),{symbol:f,ast:t.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(o.enclosingDecl)}},n.prototype.pullGetCallInformationFromPath=function(t,n){if(t.ast().nodeType!==36&&t.ast().nodeType!==37)return null;var r=t.ast().nodeType===37,i=this.extractResolutionContextFromPath(t,n);if(!i)return null;e.globalSemanticInfoChain=this.semanticInfoChain,e.globalBinder&&(e.globalBinder.semanticInfoChain=this.semanticInfoChain);var s=new e.PullAdditionalCallResolutionData;return r?this.pullTypeChecker.resolver.resolveNewExpression(t.ast(),i.inContextuallyTypedAssignment,i.enclosingDecl,i.resolutionContext,s):this.pullTypeChecker.resolver.resolveCallExpression(t.ast(),i.inContextuallyTypedAssignment,i.enclosingDecl,i.resolutionContext,s),{targetSymbol:s.targetSymbol,resolvedSignatures:s.resolvedSignatures,candidateSignature:s.candidateSignature,ast:t.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(i.enclosingDecl),isConstructorCall:r}},n.prototype.pullGetVisibleMemberSymbolsFromPath=function(t,n){e.globalSemanticInfoChain=this.semanticInfoChain,e.globalBinder&&(e.globalBinder.semanticInfoChain=this.semanticInfoChain);var r=this.extractResolutionContextFromPath(t,n);if(!r)return null;var i=this.pullTypeChecker.resolver.getVisibleMembersFromExpression(t.ast(),r.enclosingDecl,r.resolutionContext);return i?{symbols:i,enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl)}:null},n.prototype.pullGetVisibleDeclsFromPath=function(t,n){e.globalSemanticInfoChain=this.semanticInfoChain,e.globalBinder&&(e.globalBinder.semanticInfoChain=this.semanticInfoChain);var r=this.extractResolutionContextFromPath(t,n);if(!r)return null;var i=null;return this.pullTypeChecker.resolver.getVisibleDecls(r.enclosingDecl,r.resolutionContext)},n.prototype.pullGetContextualMembersFromPath=function(t,n){e.globalSemanticInfoChain=this.semanticInfoChain,e.globalBinder&&(e.globalBinder.semanticInfoChain=this.semanticInfoChain);if(t.ast().nodeType!==22)return null;var r=this.extractResolutionContextFromPath(t,n);if(!r)return null;var i=this.pullTypeChecker.resolver.getVisibleContextSymbols(r.enclosingDecl,r.resolutionContext);return{symbols:i,enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl)}},n.prototype.pullGetDeclInformation=function(t,n,r){var i=this.extractResolutionContextFromPath(n,r);if(!i)return null;e.globalSemanticInfoChain=this.semanticInfoChain,e.globalBinder&&(e.globalBinder.semanticInfoChain=this.semanticInfoChain);var s=t.getSymbol();return this.pullTypeChecker.resolver.resolveDeclaredSymbol(s,i.enclosingDecl,i.resolutionContext),s.setUnresolved(),{symbol:s,ast:n.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(i.enclosingDecl)}},n.prototype.pullGetTypeInfoAtPosition=function(e,t){var n=this;return this.timeFunction("pullGetTypeInfoAtPosition for pos "+e+":",function(){return n.resolvePosition(e,t)})},n.prototype.getTopLevelDeclarations=function(e){var t=this.semanticInfoChain.getUnit(e);return t?t.getTopLevelDecls():null},n.prototype.reportDiagnostics=function(e,t){for(var n=0;n<e.length;n++)t.addDiagnostic(e[n])},n}();e.TypeScriptCompiler=n})(TypeScript||(TypeScript={}));var TypeScript;(function(e){function r(e,t,n){var r=(new Date).getTime(),i=n(),s=(new Date).getTime();return e.log(t+" completed in "+(s-r)+" msec"),i}(function(e){function t(t){e.diagnosticWriter&&e.diagnosticWriter.Alert(t)}function n(n){e.debug&&t(n)}function r(n,r){e.debug&&(n||t(r))}e.debug=!1,e.diagnosticWriter=null,e.analysisPass=0,e.Alert=t,e.debugPrint=n,e.assert=r})(e.CompilerDiagnostics||(e.CompilerDiagnostics={}));var t=e.CompilerDiagnostics,n=function(){function e(){}return e.prototype.information=function(){return!1},e.prototype.debug=function(){return!1},e.prototype.warning=function(){return!1},e.prototype.error=function(){return!1},e.prototype.fatal=function(){return!1},e.prototype.log=function(e){},e}();e.NullLogger=n,e.timeFunction=r})(TypeScript||(TypeScript={}));var IOUtils;(function(e){function t(e,n){if(e.directoryExists(n))return;var r=e.dirName(n);r!=""&&t(e,r),e.createDirectory(n)}function n(e,n,r,i){var s=e.resolvePath(n),o=e.dirName(s);return t(e,o),e.writeFile(s,r,i)}function r(e,t){var n=e;throw t&&t.message&&(n+=" "+t.message),new Error(n)}e.writeFileAndFolderStructure=n,e.throwIOError=r;var i=function(){function e(e,t){typeof t=="undefined"&&(t=1024),this.writer=e,this.capacity=t,this.buffer=""}return e.prototype.Write=function(e){this.buffer+=e,this.buffer.length>=this.capacity&&(this.writer.Write(this.buffer),this.buffer="")},e.prototype.WriteLine=function(e){this.Write(e+"\r\n")},e.prototype.Close=function(){this.writer.Write(this.buffer),this.writer.Close(),this.buffer=null},e}();e.BufferedTextWriter=i})(IOUtils||(IOUtils={}));var IO=function(){function getWindowsScriptHostIO(){function getStreamObject(){return streamObjectPool.length>0?streamObjectPool.pop():new ActiveXObject("ADODB.Stream")}function releaseStreamObject(e){streamObjectPool.push(e)}var fso=new ActiveXObject("Scripting.FileSystemObject"),streamObjectPool=[],args=[];for(var i=0;i<WScript.Arguments.length;i++)args[i]=WScript.Arguments.Item(i);return{readFile:function(e){return Environment.readFile(e)},writeFile:function(e,t,n){Environment.writeFile(e,t,n)},fileExists:function(e){return fso.FileExists(e)},resolvePath:function(e){return fso.GetAbsolutePathName(e)},dirName:function(e){return fso.GetParentFolderName(e)},findFile:function(e,t){var n=fso.GetAbsolutePathName(e)+"/"+t;for(;;){if(fso.FileExists(n))return{fileInformation:this.readFile(n),path:n};e=fso.GetParentFolderName(fso.GetAbsolutePathName(e));if(e=="")return null;n=fso.BuildPath(e,t)}},deleteFile:function(e){try{fso.FileExists(e)&&fso.DeleteFile(e,!0)}catch(t){IOUtils.throwIOError("Couldn't delete file '"+e+"'.",t)}},directoryExists:function(e){return fso.FolderExists(e)},createDirectory:function(e){try{this.directoryExists(e)||fso.CreateFolder(e)}catch(t){IOUtils.throwIOError("Couldn't create directory '"+e+"'.",t)}},dir:function(e,t,n){function r(e,i){var s=[],o;if(n.recursive){o=new Enumerator(e.subfolders);for(;!o.atEnd();o.moveNext())s=s.concat(r(o.item(),i+"/"+o.item().Name))}o=new Enumerator(e.files);for(;!o.atEnd();o.moveNext())(!t||o.item().Name.match(t))&&s.push(i+"/"+o.item().Name);return s}n=n||{};var i=fso.GetFolder(e),s=[];return r(i,e)},print:function(e){WScript.StdOut.Write(e)},printLine:function(e){WScript.Echo(e)},arguments:args,stderr:WScript.StdErr,stdout:WScript.StdOut,watchFile:null,run:function(source,fileName){try{eval(source)}catch(e){IOUtils.throwIOError("Error while executing file '"+fileName+"'.",e)}},getExecutingFilePath:function(){return WScript.ScriptFullName},quit:function(e){typeof e=="undefined"&&(e=0);try{WScript.Quit(e)}catch(t){}}}}function getNodeIO(){var e=require("fs"),t=require("path"),n=require("module");return{readFile:function(e){return Environment.readFile(e)},writeFile:function(e,t,n){Environment.writeFile(e,t,n)},deleteFile:function(t){try{e.unlinkSync(t)}catch(n){IOUtils.throwIOError("Couldn't delete file '"+t+"'.",n)}},fileExists:function(t){return e.existsSync(t)},dir:function(n,r,i){function s(t){var n=[];try{var o=e.readdirSync(t);for(var u=0;u<o.length;u++){var a=e.statSync(t+"/"+o[u]);i.recursive&&a.isDirectory()?n=n.concat(s(t+"/"+o[u])):a.isFile()&&(!r||o[u].match(r))&&n.push(t+"/"+o[u])}}catch(f){}return n}return i=i||{},s(n)},createDirectory:function(t){try{this.directoryExists(t)||e.mkdirSync(t)}catch(n){IOUtils.throwIOError("Couldn't create directory '"+t+"'.",n)}},directoryExists:function(t){return e.existsSync(t)&&e.statSync(t).isDirectory()},resolvePath:function(e){return t.resolve(e)},dirName:function(e){return t.dirname(e)},findFile:function(n,r){var i=n+"/"+r;for(;;){if(e.existsSync(i))return{fileInformation:this.readFile(i),path:i};var s=t.resolve(n,"..");if(n===s)return null;n=s,i=t.resolve(n,r)}},print:function(e){process.stdout.write(e)},printLine:function(e){process.stdout.write(e+"\n")},arguments:process.argv.slice(2),stderr:{Write:function(e){process.stderr.write(e)},WriteLine:function(e){process.stderr.write(e+"\n")},Close:function(){}},stdout:{Write:function(e){process.stdout.write(e)},WriteLine:function(e){process.stdout.write(e+"\n")},Close:function(){}},watchFile:function(t,n){var r=!0,i=!1,s=function(o,u){if(!r){if(o.mtime<u.mtime)return;e.unwatchFile(t,s),i||(i=!0,n(t),setTimeout(function(){i=!1},100))}r=!1,e.watchFile(t,{persistent:!0,interval:500},s)};return s(),{fileName:t,close:function(){e.unwatchFile(t,s)}}},run:function(r,i){require.main.fileName=i,require.main.paths=n._nodeModulePaths(t.dirname(e.realpathSync(i))),require.main._compile(r,i)},getExecutingFilePath:function(){return process.mainModule.filename},quit:process.exit}}return typeof ActiveXObject=="function"?getWindowsScriptHostIO():typeof module!="undefined"&&module.exports?getNodeIO():null}(),OptionsParser=function(){function e(e){this.host=e,this.DEFAULT_SHORT_FLAG="-",this.DEFAULT_LONG_FLAG="--",this.unnamed=[],this.options=[]}return e.prototype.findOption=function(e){for(var t=0;t<this.options.length;t++)if(e===this.options[t].short||e===this.options[t].name)return this.options[t];return null},e.prototype.printUsage=function(){this.host.printLine("Syntax:   tsc [options] [file ..]"),this.host.printLine(""),this.host.printLine("Examples: tsc hello.ts"),this.host.printLine("          tsc --out foo.js foo.ts"),this.host.printLine("          tsc @args.txt"),this.host.printLine(""),this.host.printLine("Options:");var e=[],t=0,n=0;this.options=this.options.sort(function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n>r?1:n<r?-1:0});for(n=0;n<this.options.length;n++){var r=this.options[n];if(r.experimental)continue;if(!r.usage)break;var i="  ",s=r.type?" "+r.type.toUpperCase():"";r.short&&(i+=this.DEFAULT_SHORT_FLAG+r.short+s+", "),i+=this.DEFAULT_LONG_FLAG+r.name+s,e.push([i,r.usage]),i.length>t&&(t=i.length)}e.push(["  @<file>","Insert command line options and files from a file."]);for(n=0;n<e.length;n++)this.host.printLine(e[n][0]+(new Array(t-e[n][0].length+3)).join(" ")+e[n][1])},e.prototype.option=function(e,t,n){t||(t=n,n=null),t.name=e,t.short=n,t.flag=!1,this.options.push(t)},e.prototype.flag=function(e,t,n){t||(t=n,n=null),t.name=e,t.short=n,t.flag=!0,this.options.push(t)},e.prototype.parseString=function(e){function r(){return n[t]}function i(){return n[t++]}function s(){var e="";i();var t=r();while(t&&t!=='"')i(),e+=t,t=r();return i(),e}var t=0,n=e.match(/\s+|"|[^\s"]+/g),o=[],u="";while(t<n.length){var a=r();a==='"'?u+=s():a.match(/\s/)?(u.length>0&&(o.push(u),u=""),i()):(i(),u+=a)}u.length>0&&o.push(u),this.parse(o)},e.prototype.parse=function(e){function n(){return e[t++]}var t=0;while(t<e.length){var r=n(),i=r.match(/^(--?|@)(.*)/),s=null;if(i)if(i[1]==="@")this.parseString(this.host.readFile(i[2]).contents());else{var o=i[2],u=this.findOption(o);u===null?(this.host.printLine("Unknown option '"+o+"'"),this.host.printLine("Use the '--help' flag to see options")):(u.flag||(s=n()),u.set(s))}else this.unnamed.push(r)}},e}(),DiagnosticsLogger=function(){function e(e){this.ioHost=e}return e.prototype.information=function(){return!1},e.prototype.debug=function(){return!1},e.prototype.warning=function(){return!1},e.prototype.error=function(){return!1},e.prototype.fatal=function(){return!1},e.prototype.log=function(e){this.ioHost.stdout.WriteLine(e)},e}(),ErrorReporter=function(){function e(e,t){this.ioHost=e,this.hasErrors=!1,this.setCompilationEnvironment(t)}return e.prototype.addDiagnostic=function(e){var t=e.diagnosticCode();if(!(t<4||t<70||!(t<267&&this.compilationEnvironment.compilationSettings.ignoreTypeErrors)))return;this.hasErrors=!0;if(e.fileName()){var n=this.compilationEnvironment.getSourceUnit(e.fileName());n||(n=new TypeScript.SourceUnit(e.fileName(),this.ioHost.readFile(e.fileName())));var r=new TypeScript.LineMap(n.getLineStartPositions(),n.getLength()),i={line:-1,character:-1};r.fillLineAndCharacterFromPosition(e.start(),i),this.ioHost.stderr.Write(e.fileName()+":"+(i.line+1)+":"+(i.character+1)+":error: ")}this.ioHost.stderr.WriteLine(e.message())},e.prototype.setCompilationEnvironment=function(e){this.compilationEnvironment=e},e.prototype.reset=function(){this.hasErrors=!1},e}(),CommandLineHost=function(){function e(e,t){this.compilationSettings=e,this.errorReporter=t,this.pathMap={},this.resolvedPaths={}}return e.prototype.getPathIdentifier=function(e){return this.compilationSettings.useCaseSensitiveFileResolution?e:e.toLocaleUpperCase()},e.prototype.isResolved=function(e){return this.resolvedPaths[this.getPathIdentifier(this.pathMap[e])]!=undefined},e.prototype.resolveCompilationEnvironment=function(e,t,n){var r=this,i=new TypeScript.CompilationEnvironment(e.compilationSettings,e.ioHost),s=e.code.length,o="";this.errorReporter.setCompilationEnvironment(i);var u={errorReporter:this.errorReporter,postResolution:function(e,t){var n=r.getPathIdentifier(e);r.resolvedPaths[n]||(i.code.push(t),r.resolvedPaths[n]=!0)}};for(var a=0;a<s;a++)o=TypeScript.switchToForwardSlashes(e.ioHost.resolvePath(e.code[a].path)),this.pathMap[e.code[a].path]=o,t.resolveCode(o,"",!1,u);return i},e}(),BatchCompiler=function(){function e(e){this.ioHost=e,this.resolvedEnvironment=null,this.hasResolveErrors=!1,this.compilerVersion="0.9.0.1",this.printedVersion=!1,this.errorReporter=null,this.compilationSettings=new TypeScript.CompilationSettings,this.compilationEnvironment=new TypeScript.CompilationEnvironment(this.compilationSettings,this.ioHost),this.errorReporter=new ErrorReporter(this.ioHost,this.compilationEnvironment)}return e.prototype.resolve=function(){var e=new TypeScript.CodeResolver(this.compilationEnvironment),t=new CommandLineHost(this.compilationSettings,this.errorReporter),n=t.resolveCompilationEnvironment(this.compilationEnvironment,e,!0);for(var r=0;r<this.compilationEnvironment.code.length;r++)if(!t.isResolved(this.compilationEnvironment
.code[r].path)){var i=this.compilationEnvironment.code[r].path;!TypeScript.isTSFile(i)&&!TypeScript.isDTSFile(i)?this.errorReporter.addDiagnostic(new TypeScript.Diagnostic(null,0,0,272,[i])):this.errorReporter.addDiagnostic(new TypeScript.Diagnostic(null,0,0,271,[i]))}return n},e.prototype.compile=function(){var e=this;typeof localizedDiagnosticMessages=="undefined"&&(localizedDiagnosticMessages=null);var t=this.compilationSettings.gatherDiagnostics?new DiagnosticsLogger(this.ioHost):new TypeScript.NullLogger,n=new TypeScript.TypeScriptCompiler(t,this.compilationSettings,localizedDiagnosticMessages),r=!1,i=!1;for(var s=0;s<this.resolvedEnvironment.code.length;s++){var o=this.resolvedEnvironment.code[s];if(!this.compilationSettings.resolve){try{o.fileInformation=this.ioHost.readFile(o.path)}catch(u){u.isUnsupportedEncoding&&this.errorReporter.addDiagnostic(new TypeScript.Diagnostic(null,0,0,279,[o.path]))}this.compilationSettings.generateDeclarationFiles&&(TypeScript.CompilerDiagnostics.assert(o.referencedFiles===null,"With no resolve option, referenced files need to null"),o.referencedFiles=TypeScript.getReferencedFiles(o.path,o))}if(o.fileInformation!=null){n.addSourceUnit(o.path,TypeScript.ScriptSnapshot.fromString(o.fileInformation.contents()),o.fileInformation.byteOrderMark(),0,!1,o.referencedFiles);var a=n.getSyntacticDiagnostics(o.path);n.reportDiagnostics(a,this.errorReporter),a.length>0&&(r=!0)}}if(r)return!0;n.pullTypeCheck();var f=n.fileNameToDocument.getAllKeys();for(var l=0,c=f.length;l<c;l++){var h=f[l],p=n.getSemanticDiagnostics(h);p.length>0&&(i=!0,n.reportDiagnostics(p,this.errorReporter))}if(this.compilationSettings.noOutputOnError&&i)return!0;var d={writeFile:function(t,n,r){return IOUtils.writeFileAndFolderStructure(e.ioHost,t,n,r)},directoryExists:this.ioHost.directoryExists,fileExists:this.ioHost.fileExists,resolvePath:this.ioHost.resolvePath},v=function(t,n){e.resolvedEnvironment.inputFileNameToOutputFileName.addOrUpdate(t,n)},m=n.emitAll(d,v);n.reportDiagnostics(m,this.errorReporter);if(m.length>0)return!0;if(i)return!0;var g=n.emitAllDeclarations();return n.reportDiagnostics(g,this.errorReporter),g.length>0?!0:!1},e.prototype.updateCompile=function(){typeof localizedDiagnosticMessages=="undefined"&&(localizedDiagnosticMessages=null);var e=this.compilationSettings.gatherDiagnostics?new DiagnosticsLogger(this.ioHost):new TypeScript.NullLogger,t=new TypeScript.TypeScriptCompiler(e,this.compilationSettings,localizedDiagnosticMessages),n=!1,r=!1;for(var i=0;i<=this.resolvedEnvironment.code.length;i++){var s=this.resolvedEnvironment.code[i];if(s.path.indexOf("lib.d.ts")!=-1)r=!0;else if(r&&i>1||!r&&i>0)break;this.ioHost.stdout.WriteLine("Consuming "+this.resolvedEnvironment.code[i].path+"...");if(!this.compilationSettings.resolve){try{s.fileInformation=this.ioHost.readFile(s.path)}catch(o){o.isUnsupportedEncoding&&this.errorReporter.addDiagnostic(new TypeScript.Diagnostic(null,0,0,279,[s.path]))}this.compilationSettings.generateDeclarationFiles&&(TypeScript.CompilerDiagnostics.assert(s.referencedFiles===null,"With no resolve option, referenced files need to null"),s.referencedFiles=TypeScript.getReferencedFiles(s.path,s))}if(s.fileInformation!=null){t.addSourceUnit(s.path,TypeScript.ScriptSnapshot.fromString(s.fileInformation.contents()),s.fileInformation.byteOrderMark(),0,!0,s.referencedFiles);var u=t.getSyntacticDiagnostics(s.path);t.reportDiagnostics(u,this.errorReporter),u.length>0&&(n=!0)}}this.ioHost.stdout.WriteLine("**** Initial type check errors:"),t.pullTypeCheck();var a;for(var f=0;f<i;f++)a=t.getSemanticDiagnostics(this.resolvedEnvironment.code[f].path),t.reportDiagnostics(a,this.errorReporter);if(i&&i<=this.resolvedEnvironment.code.length-1){var l=this.resolvedEnvironment.code[i-1].path,c;for(;i<this.resolvedEnvironment.code.length;i++){this.ioHost.stdout.WriteLine("**** Update type check and errors for "+this.resolvedEnvironment.code[i].path+":");var h=this.resolvedEnvironment.code[i].getText(0,this.resolvedEnvironment.code[i].getLength());c=TypeScript.ScriptSnapshot.fromString(h),t.updateSourceUnit(l,c,0,!0,null),a=t.getSemanticDiagnostics(l),t.reportDiagnostics(a,this.errorReporter)}}return!1},e.prototype.run=function(){for(var e in this.resolvedEnvironment.code){var t=this.resolvedEnvironment.inputFileNameToOutputFileName.lookup(this.resolvedEnvironment.code[e].path)||undefined;if(this.ioHost.fileExists(t)){var n=this.ioHost.readFile(t);this.ioHost.run(n.contents(),t)}}},e.prototype.batchCompile=function(){var e=this;TypeScript.CompilerDiagnostics.diagnosticWriter={Alert:function(t){e.ioHost.printLine(t)}};var t,n=new OptionsParser(this.ioHost);n.option("out",{usage:"Concatenate and emit output to single file | Redirect output structure to the directory",type:"file|directory",set:function(t){e.compilationSettings.outputOption=t}}),n.flag("sourcemap",{usage:"Generates corresponding .map file",set:function(){e.compilationSettings.mapSourceFiles=!0}}),n.flag("fullSourceMapPath",{usage:"Writes the full path of map file in the generated js file",experimental:!0,set:function(){e.compilationSettings.emitFullSourceMapPath=!0}}),n.flag("declaration",{usage:"Generates corresponding .d.ts file",set:function(){e.compilationSettings.generateDeclarationFiles=!0}},"d"),this.ioHost.watchFile&&n.flag("watch",{usage:"Watch input files",set:function(){e.compilationSettings.watch=!0}},"w"),n.flag("exec",{usage:"Execute the script after compilation",set:function(){e.compilationSettings.exec=!0}},"e"),n.flag("minw",{usage:"Minimize whitespace",experimental:!0,set:function(){e.compilationSettings.minWhitespace=!0}},"mw"),n.flag("const",{usage:"Propagate constants to emitted code",experimental:!0,set:function(){e.compilationSettings.propagateConstants=!0}}),n.flag("failonerror",{usage:"Completely fail on type errors (no .js or .d.ts output)",set:function(){e.compilationSettings.noOutputOnError=!0}}),n.flag("ignoretypeerrors",{usage:"Ignore type errors (exit 0 unless there is a syntax error)",set:function(){e.compilationSettings.ignoreTypeErrors=!0}}),n.flag("comments",{usage:"Emit comments to output",set:function(){e.compilationSettings.emitComments=!0}},"c"),n.flag("noresolve",{usage:"Skip resolution and preprocessing",experimental:!0,set:function(){e.compilationSettings.resolve=!1}}),n.flag("debug",{usage:"Print debug output",experimental:!0,set:function(){TypeScript.CompilerDiagnostics.debug=!0}}),n.flag("nolib",{usage:"Do not include a default lib.d.ts with global declarations",set:function(){e.compilationSettings.useDefaultLib=!1}}),n.flag("diagnostics",{usage:"gather diagnostic info about the compilation process",experimental:!0,set:function(){e.compilationSettings.gatherDiagnostics=!0}}),n.flag("update",{usage:"Typecheck each file as an update on the first",experimental:!0,set:function(){e.compilationSettings.updateTC=!0}}),n.option("target",{usage:'Specify ECMAScript target version: "ES3" (default), or "ES5"',type:"VER",set:function(t){t=t.toLowerCase(),t==="es3"?e.compilationSettings.codeGenTarget=0:t==="es5"?e.compilationSettings.codeGenTarget=1:e.errorReporter.addDiagnostic(new TypeScript.Diagnostic(null,0,0,269,[t,"ES3"]))}}),n.option("module",{usage:'Specify module code generation: "commonjs" (default) or "amd"',type:"kind",set:function(t){t=t.toLowerCase(),t==="commonjs"||t==="node"?e.compilationSettings.moduleGenTarget=0:t==="amd"?e.compilationSettings.moduleGenTarget=1:e.errorReporter.addDiagnostic(new TypeScript.Diagnostic(null,0,0,270,[t,"commonjs"]))}});var r=!1;n.flag("help",{usage:"Print this message",set:function(){e.printVersion(),n.printUsage(),r=!0}},"h"),n.flag("useCaseSensitiveFileResolution",{usage:"Force file resolution to be case sensitive",experimental:!0,set:function(){e.compilationSettings.useCaseSensitiveFileResolution=!0}}),n.flag("version",{usage:"Print the compiler's version: "+this.compilerVersion,set:function(){e.printVersion()}},"v"),n.flag("disallowbool",{usage:'Throw error for use of deprecated "bool" type',set:function(){e.compilationSettings.disallowBool=!0}},"b"),n.flag("disallowimportmodule",{usage:'Throw error for use of deprecated "module" keyword when referencing an external module. Only allow "require" keyword.',set:function(){e.compilationSettings.allowModuleKeywordInExternalModuleReference=!1}},"m"),n.parse(this.ioHost.arguments);if(this.compilationSettings.useDefaultLib){var i=this.ioHost.getExecutingFilePath(),s=this.ioHost.dirName(i),o=this.ioHost.resolvePath(s+"/lib.d.ts");t=new TypeScript.SourceUnit(o,null),this.compilationEnvironment.code.push(t)}for(var u=0;u<n.unnamed.length;u++)t=new TypeScript.SourceUnit(n.unnamed[u],null),this.compilationEnvironment.code.push(t);if(this.compilationEnvironment.code.length===(this.compilationSettings.useDefaultLib?1:0)){!r&&!this.printedVersion&&(this.printVersion(),n.printUsage(),this.ioHost.quit(1));return}this.compilationSettings.watch?this.watchFiles(this.compilationEnvironment.code.slice(0)):(this.resolvedEnvironment=this.compilationSettings.resolve?this.resolve():this.compilationEnvironment,this.compilationSettings.updateTC?this.updateCompile():this.compile(),this.errorReporter.hasErrors||this.compilationSettings.exec&&this.run(),this.ioHost.quit(this.errorReporter.hasErrors?1:0))},e.prototype.printVersion=function(){this.printedVersion||(this.ioHost.printLine("Version "+this.compilerVersion),this.printedVersion=!0)},e.prototype.watchFiles=function(e){var t=this;if(!this.ioHost.watchFile){this.errorReporter.addDiagnostic(new TypeScript.SemanticDiagnostic(null,0,0,268,null));return}var n=[],r={},i=!0,s=function(e){if(!r[e]){var n=t.ioHost.watchFile(e,u);r[e]=n}else TypeScript.CompilerDiagnostics.debugPrint("Cannot watch file, it is already watched.")},o=function(e){r[e]?(r[e].close(),delete r[e]):TypeScript.CompilerDiagnostics.debugPrint("Cannot stop watching file, it is not being watched.")},u=function(){t.compilationEnvironment.code=e,t.errorReporter.reset(),t.resolvedEnvironment=t.compilationSettings.resolve?t.resolve():t.compilationEnvironment;var r=n,u=[];t.resolvedEnvironment.code.forEach(function(e){return u.push(e.path)}),u=u.sort();var a=0,f=0;while(a<r.length&&f<u.length){var l=r[a].localeCompare(u[f]);l===0?(a++,f++):l<0?(o(r[a]),a++):(s(u[f]),f++)}for(var c=a;c<r.length;c++)o(r[c]);for(c=f;c<u.length;c++)s(u[c]);n=u,i||(t.ioHost.printLine(""),t.ioHost.printLine("Recompiling ("+new Date+"): "),n.forEach(function(e){return t.ioHost.printLine("    "+e)})),t.compile();if(!t.errorReporter.hasErrors&&t.compilationSettings.exec)try{t.run()}catch(h){h.stack&&t.ioHost.stderr.WriteLine("\n"+h.stack)}i=!1};this.ioHost.stderr=this.ioHost.stdout,u()},e}(),batch=new BatchCompiler(IO);batch.batchCompile();